(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var sp={exports:{}},hu={};var bT;function $2(){if(bT)return hu;bT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return hu.Fragment=t,hu.jsx=e,hu.jsxs=e,hu}var ST;function W2(){return ST||(ST=1,sp.exports=$2()),sp.exports}var D=W2(),rp={exports:{}},Mt={};var AT;function J2(){if(AT)return Mt;AT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function R(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,B={};function Y(b,z,Z){this.props=b,this.context=z,this.refs=B,this.updater=Z||L}Y.prototype.isReactComponent={},Y.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},Y.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function tt(){}tt.prototype=Y.prototype;function $(b,z,Z){this.props=b,this.context=z,this.refs=B,this.updater=Z||L}var nt=$.prototype=new tt;nt.constructor=$,G(nt,Y.prototype),nt.isPureReactComponent=!0;var ot=Array.isArray;function ct(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(b,z,Z){var at=Z.ref;return{$$typeof:n,type:b,key:z,ref:at!==void 0?at:null,props:Z}}function N(b,z){return I(b.type,z,b.props)}function O(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function P(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Z){return z[Z]})}var M=/\/+/g;function St(b,z){return typeof b=="object"&&b!==null&&b.key!=null?P(""+b.key):z.toString(36)}function ne(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ct,ct):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function W(b,z,Z,at,ht){var mt=typeof b;(mt==="undefined"||mt==="boolean")&&(b=null);var dt=!1;if(b===null)dt=!0;else switch(mt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(b.$$typeof){case n:case t:dt=!0;break;case v:return dt=b._init,W(dt(b._payload),z,Z,at,ht)}}if(dt)return ht=ht(b),dt=at===""?"."+St(b,0):at,ot(ht)?(Z="",dt!=null&&(Z=dt.replace(M,"$&/")+"/"),W(ht,z,Z,"",function(Jt){return Jt})):ht!=null&&(O(ht)&&(ht=N(ht,Z+(ht.key==null||b&&b.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+dt)),z.push(ht)),1;dt=0;var Tt=at===""?".":at+":";if(ot(b))for(var wt=0;wt<b.length;wt++)at=b[wt],mt=Tt+St(at,wt),dt+=W(at,z,Z,mt,ht);else if(wt=R(b),typeof wt=="function")for(b=wt.call(b),wt=0;!(at=b.next()).done;)at=at.value,mt=Tt+St(at,wt++),dt+=W(at,z,Z,mt,ht);else if(mt==="object"){if(typeof b.then=="function")return W(ne(b),z,Z,at,ht);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return dt}function ut(b,z,Z){if(b==null)return b;var at=[],ht=0;return W(b,at,"","",function(mt){return z.call(Z,mt,ht++)}),at}function pt(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(Z){(b._status===0||b._status===-1)&&(b._status=1,b._result=Z)},function(Z){(b._status===0||b._status===-1)&&(b._status=2,b._result=Z)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var Ot=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},j={map:ut,forEach:function(b,z,Z){ut(b,function(){z.apply(this,arguments)},Z)},count:function(b){var z=0;return ut(b,function(){z++}),z},toArray:function(b){return ut(b,function(z){return z})||[]},only:function(b){if(!O(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Mt.Activity=T,Mt.Children=j,Mt.Component=Y,Mt.Fragment=e,Mt.Profiler=a,Mt.PureComponent=$,Mt.StrictMode=s,Mt.Suspense=p,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(b){return x.H.useMemoCache(b)}},Mt.cache=function(b){return function(){return b.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(b,z,Z){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var at=G({},b.props),ht=b.key;if(z!=null)for(mt in z.key!==void 0&&(ht=""+z.key),z)!C.call(z,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&z.ref===void 0||(at[mt]=z[mt]);var mt=arguments.length-2;if(mt===1)at.children=Z;else if(1<mt){for(var dt=Array(mt),Tt=0;Tt<mt;Tt++)dt[Tt]=arguments[Tt+2];at.children=dt}return I(b.type,ht,at)},Mt.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:l,_context:b},b},Mt.createElement=function(b,z,Z){var at,ht={},mt=null;if(z!=null)for(at in z.key!==void 0&&(mt=""+z.key),z)C.call(z,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ht[at]=z[at]);var dt=arguments.length-2;if(dt===1)ht.children=Z;else if(1<dt){for(var Tt=Array(dt),wt=0;wt<dt;wt++)Tt[wt]=arguments[wt+2];ht.children=Tt}if(b&&b.defaultProps)for(at in dt=b.defaultProps,dt)ht[at]===void 0&&(ht[at]=dt[at]);return I(b,mt,ht)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(b){return{$$typeof:d,render:b}},Mt.isValidElement=O,Mt.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:pt}},Mt.memo=function(b,z){return{$$typeof:g,type:b,compare:z===void 0?null:z}},Mt.startTransition=function(b){var z=x.T,Z={};x.T=Z;try{var at=b(),ht=x.S;ht!==null&&ht(Z,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(ct,Ot)}catch(mt){Ot(mt)}finally{z!==null&&Z.types!==null&&(z.types=Z.types),x.T=z}},Mt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Mt.use=function(b){return x.H.use(b)},Mt.useActionState=function(b,z,Z){return x.H.useActionState(b,z,Z)},Mt.useCallback=function(b,z){return x.H.useCallback(b,z)},Mt.useContext=function(b){return x.H.useContext(b)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(b,z){return x.H.useDeferredValue(b,z)},Mt.useEffect=function(b,z){return x.H.useEffect(b,z)},Mt.useEffectEvent=function(b){return x.H.useEffectEvent(b)},Mt.useId=function(){return x.H.useId()},Mt.useImperativeHandle=function(b,z,Z){return x.H.useImperativeHandle(b,z,Z)},Mt.useInsertionEffect=function(b,z){return x.H.useInsertionEffect(b,z)},Mt.useLayoutEffect=function(b,z){return x.H.useLayoutEffect(b,z)},Mt.useMemo=function(b,z){return x.H.useMemo(b,z)},Mt.useOptimistic=function(b,z){return x.H.useOptimistic(b,z)},Mt.useReducer=function(b,z,Z){return x.H.useReducer(b,z,Z)},Mt.useRef=function(b){return x.H.useRef(b)},Mt.useState=function(b){return x.H.useState(b)},Mt.useSyncExternalStore=function(b,z,Z){return x.H.useSyncExternalStore(b,z,Z)},Mt.useTransition=function(){return x.H.useTransition()},Mt.version="19.2.3",Mt}var wT;function Og(){return wT||(wT=1,rp.exports=J2()),rp.exports}var st=Og(),ap={exports:{}},fu={},op={exports:{}},lp={};var CT;function Z2(){return CT||(CT=1,(function(n){function t(W,ut){var pt=W.length;W.push(ut);t:for(;0<pt;){var Ot=pt-1>>>1,j=W[Ot];if(0<a(j,ut))W[Ot]=ut,W[pt]=j,pt=Ot;else break t}}function e(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ut=W[0],pt=W.pop();if(pt!==ut){W[0]=pt;t:for(var Ot=0,j=W.length,b=j>>>1;Ot<b;){var z=2*(Ot+1)-1,Z=W[z],at=z+1,ht=W[at];if(0>a(Z,pt))at<j&&0>a(ht,Z)?(W[Ot]=ht,W[at]=pt,Ot=at):(W[Ot]=Z,W[z]=pt,Ot=z);else if(at<j&&0>a(ht,pt))W[Ot]=ht,W[at]=pt,Ot=at;else break t}}return ut}function a(W,ut){var pt=W.sortIndex-ut.sortIndex;return pt!==0?pt:W.id-ut.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,T=null,S=3,R=!1,L=!1,G=!1,B=!1,Y=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function nt(W){for(var ut=e(g);ut!==null;){if(ut.callback===null)s(g);else if(ut.startTime<=W)s(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function ot(W){if(G=!1,nt(W),!L)if(e(p)!==null)L=!0,ct||(ct=!0,P());else{var ut=e(g);ut!==null&&ne(ot,ut.startTime-W)}}var ct=!1,x=-1,C=5,I=-1;function N(){return B?!0:!(n.unstable_now()-I<C)}function O(){if(B=!1,ct){var W=n.unstable_now();I=W;var ut=!0;try{t:{L=!1,G&&(G=!1,tt(x),x=-1),R=!0;var pt=S;try{e:{for(nt(W),T=e(p);T!==null&&!(T.expirationTime>W&&N());){var Ot=T.callback;if(typeof Ot=="function"){T.callback=null,S=T.priorityLevel;var j=Ot(T.expirationTime<=W);if(W=n.unstable_now(),typeof j=="function"){T.callback=j,nt(W),ut=!0;break e}T===e(p)&&s(p),nt(W)}else s(p);T=e(p)}if(T!==null)ut=!0;else{var b=e(g);b!==null&&ne(ot,b.startTime-W),ut=!1}}break t}finally{T=null,S=pt,R=!1}ut=void 0}}finally{ut?P():ct=!1}}}var P;if(typeof $=="function")P=function(){$(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,St=M.port2;M.port1.onmessage=O,P=function(){St.postMessage(null)}}else P=function(){Y(O,0)};function ne(W,ut){x=Y(function(){W(n.unstable_now())},ut)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ut=3;break;default:ut=S}var pt=S;S=ut;try{return W()}finally{S=pt}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(W,ut){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pt=S;S=W;try{return ut()}finally{S=pt}},n.unstable_scheduleCallback=function(W,ut,pt){var Ot=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ot+pt:Ot):pt=Ot,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=pt+j,W={id:v++,callback:ut,priorityLevel:W,startTime:pt,expirationTime:j,sortIndex:-1},pt>Ot?(W.sortIndex=pt,t(g,W),e(p)===null&&W===e(g)&&(G?(tt(x),x=-1):G=!0,ne(ot,pt-Ot))):(W.sortIndex=j,t(p,W),L||R||(L=!0,ct||(ct=!0,P()))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var ut=S;return function(){var pt=S;S=ut;try{return W.apply(this,arguments)}finally{S=pt}}}})(lp)),lp}var xT;function tR(){return xT||(xT=1,op.exports=Z2()),op.exports}var up={exports:{}},fn={};var RT;function eR(){if(RT)return fn;RT=1;var n=Og();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,v)},fn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},fn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},fn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},fn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},fn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},fn.requestFormReset=function(p){s.d.r(p)},fn.unstable_batchedUpdates=function(p,g){return p(g)},fn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var IT;function nR(){if(IT)return up.exports;IT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),up.exports=eR(),up.exports}var DT;function iR(){if(DT)return fu;DT=1;var n=tR(),t=Og(),e=nR();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),i;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,A=f.child;A;){if(A===o){_=!0,o=f,u=m;break}if(A===u){_=!0,u=f,o=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===o){_=!0,o=m,u=f;break}if(A===u){_=!0,u=m,o=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),$=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function St(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case G:return"Fragment";case Y:return"Profiler";case B:return"StrictMode";case ot:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case $:return i.displayName||"Context";case tt:return(i._context.displayName||"Context")+".Consumer";case nt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return r=i.displayName||null,r!==null?r:St(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return St(i(r))}catch{}}return null}var ne=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ot=[],j=-1;function b(i){return{current:i}}function z(i){0>j||(i.current=Ot[j],Ot[j]=null,j--)}function Z(i,r){j++,Ot[j]=i.current,i.current=r}var at=b(null),ht=b(null),mt=b(null),dt=b(null);function Tt(i,r){switch(Z(mt,r),Z(ht,i),Z(at,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?G_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=G_(r),i=K_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(at),Z(at,i)}function wt(){z(at),z(ht),z(mt)}function Jt(i){i.memoizedState!==null&&Z(dt,i);var r=at.current,o=K_(r,i.type);r!==o&&(Z(ht,i),Z(at,o))}function Yt(i){ht.current===i&&(z(at),z(ht)),dt.current===i&&(z(dt),ou._currentValue=pt)}var ie,ye;function Dt(i){if(ie===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ie=r&&r[1]||"",ye=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+i+ye}var Me=!1;function He(i,r){if(!i||Me)return"";Me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var K=X}Reflect.construct(i,[],it)}else{try{it.call()}catch(X){K=X}i.call(it.prototype)}}else{try{throw Error()}catch(X){K=X}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var V=_.split(`
`),q=A.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===q.length)for(u=V.length-1,f=q.length-1;1<=u&&0<=f&&V[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==q[f]){var J=`
`+V[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=f);break}}}finally{Me=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Dt(o):""}function tn(i,r){switch(i.tag){case 26:case 27:case 5:return Dt(i.type);case 16:return Dt("Lazy");case 13:return i.child!==r&&r!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return He(i.type,!1);case 11:return He(i.type.render,!1);case 1:return He(i.type,!0);case 31:return Dt("Activity");default:return""}}function _n(i){try{var r="",o=null;do r+=tn(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var oe=Object.prototype.hasOwnProperty,Zt=n.unstable_scheduleCallback,wi=n.unstable_cancelCallback,hl=n.unstable_shouldYield,Ua=n.unstable_requestPaint,Qe=n.unstable_now,ss=n.unstable_getCurrentPriorityLevel,ks=n.unstable_ImmediatePriority,Br=n.unstable_UserBlockingPriority,Ci=n.unstable_NormalPriority,ja=n.unstable_LowPriority,zr=n.unstable_IdlePriority,Ps=n.log,Ba=n.unstable_setDisableYieldValue,On=null,en=null;function Hn(i){if(typeof Ps=="function"&&Ba(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(On,i)}catch{}}var Ce=Math.clz32?Math.clz32:mc,dc=Math.log,za=Math.LN2;function mc(i){return i>>>=0,i===0?32:31-(dc(i)/za|0)|0}var xi=256,Fr=262144,Ne=4194304;function Ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=Ri(u):(_&=A,_!==0?f=Ri(_):o||(o=A&~i,o!==0&&(f=Ri(o))))):(A=u&~m,A!==0?f=Ri(A):_!==0?f=Ri(_):o||(o=u&~i,o!==0&&(f=Ri(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function li(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ld(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var i=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),i}function Di(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Hr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ud(i,r,o,u,f,m){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,q=i.hiddenUpdates;for(o=_&~o;0<o;){var J=31-Ce(o),it=1<<J;A[J]=0,V[J]=-1;var K=q[J];if(K!==null)for(q[J]=null,J=0;J<K.length;J++){var X=K[J];X!==null&&(X.lane&=-536870913)}o&=~it}u!==0&&qr(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~r))}function qr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ce(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function fl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ce(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function dl(i,r){var o=r&-r;return o=(o&42)!==0?1:Gr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Gr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gc(){var i=ut.p;return i!==0?i:(i=window.event,i===void 0?32:pT(i.type))}function ui(i,r){var o=ut.p;try{return ut.p=i,r()}finally{ut.p=o}}var ci=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ci,Xe="__reactProps$"+ci,Mi="__reactContainer$"+ci,Fa="__reactEvents$"+ci,cd="__reactListeners$"+ci,yc="__reactHandles$"+ci,vc="__reactResources$"+ci,Ni="__reactMarker$"+ci;function Ha(i){delete i[Oe],delete i[Xe],delete i[Fa],delete i[cd],delete i[yc]}function Oi(i){var r=i[Oe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Mi]||o[Oe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Z_(i);i!==null;){if(o=i[Oe])return o;i=Z_(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[Oe]||i[Mi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Vn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[vc];return r||(r=i[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(i){i[Ni]=!0}var ml=new Set,pl={};function ki(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(pl[i]=r,i=0;i<r.length;i++)ml.add(r[i])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},vl={};function _c(i){return oe.call(vl,i)?!0:oe.call(yl,i)?!1:gl.test(i)?vl[i]=!0:(yl[i]=!0,!1)}function qa(i,r,o){if(_c(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function kn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function ke(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function $e(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ls(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _l(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function se(i){if(!i._valueTracker){var r=Ls(i)?"checked":"value";i._valueTracker=_l(i,r,""+i[r])}}function Kr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ls(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yr=/[\n"\\]/g;function An(i){return i.replace(Yr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ga(i,r,o,u,f,m,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$e(r)):i.value!==""+$e(r)&&(i.value=""+$e(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Tl(i,_,$e(r)):o!=null?Tl(i,_,$e(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+$e(A):i.removeAttribute("name")}function Tc(i,r,o,u,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){se(i);return}o=o!=null?""+$e(o):"",r=r!=null?""+$e(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),se(i)}function Tl(i,r,o){r==="number"&&Li(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Us(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+$e(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ec(i,r,o){if(r!=null&&(r=""+$e(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+$e(o):""}function js(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ne(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=$e(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),se(i)}function wn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||bc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function bl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&El(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&El(i,m,r[m])}function Ka(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function hi(){}var Sl=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zs=null,Ui=null;function Qr(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[Xe]||null;t:switch(i=r.stateNode,r.type){case"input":if(Ga(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Xe]||null;if(!f)throw Error(s(90));Ga(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Kr(u)}break t;case"textarea":Ec(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Us(i,!!o.multiple,r,!1)}}}var Qa=!1;function Fs(i,r,o){if(Qa)return i(r,o);Qa=!0;try{var u=i(r);return u}finally{if(Qa=!1,(zs!==null||Ui!==null)&&(gh(),zs&&(r=zs,i=Ui,Ui=zs=null,Qr(r),i)))for(r=0;r<i.length;r++)Qr(i[r])}}function fi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Xe]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Kn)try{var le={};Object.defineProperty(le,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{Xr=!1}var ji=null,Al=null,$r=null;function wl(){if($r)return $r;var i,r=Al,o=r.length,u,f="value"in ji?ji.value:ji.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===f[m-u];u++);return $r=f.slice(i,1<u?1-u:void 0)}function Wr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function as(){return!0}function di(){return!1}function nn(i){function r(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?as:di,this.isPropagationStopped=di,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),r}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=nn(os),Hs=T({},os,{view:0,detail:0}),Cl=nn(Hs),qs,Xa,zi,$a=T({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(qs=i.screenX-zi.screenX,Xa=i.screenY-zi.screenY):Xa=qs=0,zi=i),qs)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),xl=nn($a),Jr=T({},$a,{dataTransfer:0}),Ac=nn(Jr),wc=T({},Hs,{relatedTarget:0}),Zr=nn(wc),Rl=T({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Cc=nn(Rl),Wa=T({},os,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xc=nn(Wa),Rc=T({},os,{data:0}),Fi=nn(Rc),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Mc[i])?!!r[i]:!1}function Gs(){return Nc}var Tn=T({},Hs,{key:function(i){if(i.key){var r=Ic[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Wr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Dc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(i){return i.type==="keypress"?Wr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oc=nn(Tn),Vc=T({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=nn(Vc),h=T({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),y=nn(h),E=T({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=nn(E),F=T({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=nn(F),ft=T({},os,{newState:0,oldState:0}),Vt=nn(ft),xe=[9,13,27,32],$t=Kn&&"CompositionEvent"in window,ve=null;Kn&&"documentMode"in document&&(ve=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!ve,Hi=Kn&&(!$t||ve&&8<ve&&11>=ve),mi=" ",pi=!1;function ta(i,r){switch(i){case"keyup":return xe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Za=!1;function Tx(i,r){switch(i){case"compositionend":return Ja(r);case"keypress":return r.which!==32?null:(pi=!0,mi);case"textInput":return i=r.data,i===mi&&pi?null:i;default:return null}}function Ex(i,r){if(Za)return i==="compositionend"||!$t&&ta(i,r)?(i=wl(),$r=Al=ji=null,Za=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!bx[i.type]:r==="textarea"}function i0(i,r,o,u){zs?Ui?Ui.push(u):Ui=[u]:zs=u,r=Sh(r,"onChange"),0<r.length&&(o=new Bi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Il=null,Dl=null;function Sx(i){j_(i,0)}function kc(i){var r=Vn(i);if(Kr(r))return i}function s0(i,r){if(i==="change")return r}var r0=!1;if(Kn){var hd;if(Kn){var fd="oninput"in document;if(!fd){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),fd=typeof a0.oninput=="function"}hd=fd}else hd=!1;r0=hd&&(!document.documentMode||9<document.documentMode)}function o0(){Il&&(Il.detachEvent("onpropertychange",l0),Dl=Il=null)}function l0(i){if(i.propertyName==="value"&&kc(Dl)){var r=[];i0(r,Dl,i,Gn(i)),Fs(Sx,r)}}function Ax(i,r,o){i==="focusin"?(o0(),Il=r,Dl=o,Il.attachEvent("onpropertychange",l0)):i==="focusout"&&o0()}function wx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kc(Dl)}function Cx(i,r){if(i==="click")return kc(r)}function xx(i,r){if(i==="input"||i==="change")return kc(r)}function Rx(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Rx;function Ml(i,r){if(Pn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!oe.call(r,f)||!Pn(i[f],r[f]))return!1}return!0}function u0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c0(i,r){var o=u0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=u0(o)}}function h0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?h0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function f0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Li(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Li(i.document)}return r}function dd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Ix=Kn&&"documentMode"in document&&11>=document.documentMode,to=null,md=null,Nl=null,pd=!1;function d0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pd||to==null||to!==Li(u)||(u=to,"selectionStart"in u&&dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Ml(Nl,u)||(Nl=u,u=Sh(md,"onSelect"),0<u.length&&(r=new Bi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=to)))}function ea(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var eo={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},gd={},m0={};Kn&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function na(i){if(gd[i])return gd[i];if(!eo[i])return i;var r=eo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in m0)return gd[i]=r[o];return i}var p0=na("animationend"),g0=na("animationiteration"),y0=na("animationstart"),Dx=na("transitionrun"),Mx=na("transitionstart"),Nx=na("transitioncancel"),v0=na("transitionend"),_0=new Map,yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yd.push("scrollEnd");function gi(i,r){_0.set(i,r),ki(r,[i])}var Pc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qn=[],no=0,vd=0;function Lc(){for(var i=no,r=vd=no=0;r<i;){var o=Qn[r];Qn[r++]=null;var u=Qn[r];Qn[r++]=null;var f=Qn[r];Qn[r++]=null;var m=Qn[r];if(Qn[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&T0(o,f,m)}}function Uc(i,r,o,u){Qn[no++]=i,Qn[no++]=r,Qn[no++]=o,Qn[no++]=u,vd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function _d(i,r,o,u){return Uc(i,r,o,u),jc(i)}function ia(i,r){return Uc(i,null,null,r),jc(i)}function T0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Ce(o),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function jc(i){if(50<tu)throw tu=0,Rm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var io={};function Ox(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,r,o,u){return new Ox(i,r,o,u)}function Td(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,r){var o=i.alternate;return o===null?(o=Ln(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function E0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Bc(i,r,o,u,f,m){var _=0;if(u=i,typeof i=="function")Td(i)&&(_=1);else if(typeof i=="string")_=U2(i,o,at.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Ln(31,o,r,f),i.elementType=I,i.lanes=m,i;case G:return sa(o.children,f,m,r);case B:_=8,f|=24;break;case Y:return i=Ln(12,o,r,f|2),i.elementType=Y,i.lanes=m,i;case ot:return i=Ln(13,o,r,f),i.elementType=ot,i.lanes=m,i;case ct:return i=Ln(19,o,r,f),i.elementType=ct,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:_=10;break t;case tt:_=9;break t;case nt:_=11;break t;case x:_=14;break t;case C:_=16,u=null;break t}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Ln(_,o,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function sa(i,r,o,u){return i=Ln(7,i,u,r),i.lanes=o,i}function Ed(i,r,o){return i=Ln(6,i,null,r),i.lanes=o,i}function b0(i){var r=Ln(18,null,null,0);return r.stateNode=i,r}function bd(i,r,o){return r=Ln(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var S0=new WeakMap;function Xn(i,r){if(typeof i=="object"&&i!==null){var o=S0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:_n(r)},S0.set(i,r),r)}return{value:i,source:r,stack:_n(r)}}var so=[],ro=0,zc=null,Ol=0,$n=[],Wn=0,Ks=null,qi=1,Gi="";function cs(i,r){so[ro++]=Ol,so[ro++]=zc,zc=i,Ol=r}function A0(i,r,o){$n[Wn++]=qi,$n[Wn++]=Gi,$n[Wn++]=Ks,Ks=i;var u=qi;i=Gi;var f=32-Ce(u)-1;u&=~(1<<f),o+=1;var m=32-Ce(r)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,qi=1<<32-Ce(r)+f|o<<f|u,Gi=m+i}else qi=1<<m|o<<f|u,Gi=i}function Sd(i){i.return!==null&&(cs(i,1),A0(i,1,0))}function Ad(i){for(;i===zc;)zc=so[--ro],so[ro]=null,Ol=so[--ro],so[ro]=null;for(;i===Ks;)Ks=$n[--Wn],$n[Wn]=null,Gi=$n[--Wn],$n[Wn]=null,qi=$n[--Wn],$n[Wn]=null}function w0(i,r){$n[Wn++]=qi,$n[Wn++]=Gi,$n[Wn++]=Ks,qi=r.id,Gi=r.overflow,Ks=i}var sn=null,de=null,qt=!1,Ys=null,Jn=!1,wd=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Xn(r,i)),wd}function C0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Oe]=i,r[Xe]=u,o){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(o=0;o<nu.length;o++)Ut(nu[o],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":Ut("invalid",r),Tc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ut("invalid",r);break;case"textarea":Ut("invalid",r),js(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||H_(r.textContent,o)?(u.popover!=null&&(Ut("beforetoggle",r),Ut("toggle",r)),u.onScroll!=null&&Ut("scroll",r),u.onScrollEnd!=null&&Ut("scrollend",r),u.onClick!=null&&(r.onclick=hi),r=!0):r=!1,r||Qs(i,!0)}function x0(i){for(sn=i.return;sn;)switch(sn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:sn=sn.return}}function ao(i){if(i!==sn)return!1;if(!qt)return x0(i),qt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Hm(i.type,i.memoizedProps)),o=!o),o&&de&&Qs(i),x0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));de=J_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));de=J_(i)}else r===27?(r=de,lr(i.type)?(i=Qm,Qm=null,de=i):de=r):de=sn?ti(i.stateNode.nextSibling):null;return!0}function ra(){de=sn=null,qt=!1}function Cd(){var i=Ys;return i!==null&&(In===null?In=i:In.push.apply(In,i),Ys=null),i}function Vl(i){Ys===null?Ys=[i]:Ys.push(i)}var xd=b(null),aa=null,hs=null;function Xs(i,r,o){Z(xd,r._currentValue),r._currentValue=o}function fs(i){i._currentValue=xd.current,z(xd)}function Rd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Id(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var V=0;V<r.length;V++)if(A.context===r[V]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Rd(m.return,o,i),u||(_=null);break t}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Rd(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function oo(i,r,o,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;Pn(f.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(f===dt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(ou):i=[ou])}f=f.return}i!==null&&Id(r,i,o,u),r.flags|=262144}function Fc(i){for(i=i.firstContext;i!==null;){if(!Pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function oa(i){aa=i,hs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return R0(aa,i)}function Hc(i,r){return aa===null&&oa(i),R0(i,r)}function R0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},hs===null){if(i===null)throw Error(s(308));hs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else hs=hs.next=r;return o}var Vx=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},kx=n.unstable_scheduleCallback,Px=n.unstable_NormalPriority,Pe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new Vx,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&kx(Px,function(){i.controller.abort()})}var Pl=null,Md=0,lo=0,uo=null;function Lx(i,r){if(Pl===null){var o=Pl=[];Md=0,lo=Vm(),uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Md++,r.then(I0,I0),r}function I0(){if(--Md===0&&Pl!==null){uo!==null&&(uo.status="fulfilled");var i=Pl;Pl=null,lo=0,uo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Ux(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var D0=W.S;W.S=function(i,r){d_=Qe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lx(i,r),D0!==null&&D0(i,r)};var la=b(null);function Nd(){var i=la.current;return i!==null?i:fe.pooledCache}function qc(i,r){r===null?Z(la,la.current):Z(la,r.pool)}function M0(){var i=Nd();return i===null?null:{parent:Pe._currentValue,pool:i}}var co=Error(s(460)),Od=Error(s(474)),Gc=Error(s(542)),Kc={then:function(){}};function N0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function O0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(hi,hi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,k0(i),i;default:if(typeof r.status=="string")r.then(hi,hi);else{if(i=fe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,k0(i),i}throw ca=r,co}}function ua(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ca=o,co):o}}var ca=null;function V0(){if(ca===null)throw Error(s(459));var i=ca;return ca=null,i}function k0(i){if(i===co||i===Gc)throw Error(s(483))}var ho=null,Ll=0;function Yc(i){var r=Ll;return Ll+=1,ho===null&&(ho=[]),O0(ho,i,r)}function Ul(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Qc(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function P0(i){function r(U,k){if(i){var H=U.deletions;H===null?(U.deletions=[k],U.flags|=16):H.push(k)}}function o(U,k){if(!i)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function u(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function f(U,k){return U=us(U,k),U.index=0,U.sibling=null,U}function m(U,k,H){return U.index=H,i?(H=U.alternate,H!==null?(H=H.index,H<k?(U.flags|=67108866,k):H):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function A(U,k,H,et){return k===null||k.tag!==6?(k=Ed(H,U.mode,et),k.return=U,k):(k=f(k,H),k.return=U,k)}function V(U,k,H,et){var bt=H.type;return bt===G?J(U,k,H.props.children,et,H.key):k!==null&&(k.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===C&&ua(bt)===k.type)?(k=f(k,H.props),Ul(k,H),k.return=U,k):(k=Bc(H.type,H.key,H.props,null,U.mode,et),Ul(k,H),k.return=U,k)}function q(U,k,H,et){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=bd(H,U.mode,et),k.return=U,k):(k=f(k,H.children||[]),k.return=U,k)}function J(U,k,H,et,bt){return k===null||k.tag!==7?(k=sa(H,U.mode,et,bt),k.return=U,k):(k=f(k,H),k.return=U,k)}function it(U,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ed(""+k,U.mode,H),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return H=Bc(k.type,k.key,k.props,null,U.mode,H),Ul(H,k),H.return=U,H;case L:return k=bd(k,U.mode,H),k.return=U,k;case C:return k=ua(k),it(U,k,H)}if(ne(k)||P(k))return k=sa(k,U.mode,H,null),k.return=U,k;if(typeof k.then=="function")return it(U,Yc(k),H);if(k.$$typeof===$)return it(U,Hc(U,k),H);Qc(U,k)}return null}function K(U,k,H,et){var bt=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return bt!==null?null:A(U,k,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===bt?V(U,k,H,et):null;case L:return H.key===bt?q(U,k,H,et):null;case C:return H=ua(H),K(U,k,H,et)}if(ne(H)||P(H))return bt!==null?null:J(U,k,H,et,null);if(typeof H.then=="function")return K(U,k,Yc(H),et);if(H.$$typeof===$)return K(U,k,Hc(U,H),et);Qc(U,H)}return null}function X(U,k,H,et,bt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return U=U.get(H)||null,A(k,U,""+et,bt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case R:return U=U.get(et.key===null?H:et.key)||null,V(k,U,et,bt);case L:return U=U.get(et.key===null?H:et.key)||null,q(k,U,et,bt);case C:return et=ua(et),X(U,k,H,et,bt)}if(ne(et)||P(et))return U=U.get(H)||null,J(k,U,et,bt,null);if(typeof et.then=="function")return X(U,k,H,Yc(et),bt);if(et.$$typeof===$)return X(U,k,H,Hc(k,et),bt);Qc(k,et)}return null}function vt(U,k,H,et){for(var bt=null,Qt=null,_t=k,Pt=k=0,Bt=null;_t!==null&&Pt<H.length;Pt++){_t.index>Pt?(Bt=_t,_t=null):Bt=_t.sibling;var Xt=K(U,_t,H[Pt],et);if(Xt===null){_t===null&&(_t=Bt);break}i&&_t&&Xt.alternate===null&&r(U,_t),k=m(Xt,k,Pt),Qt===null?bt=Xt:Qt.sibling=Xt,Qt=Xt,_t=Bt}if(Pt===H.length)return o(U,_t),qt&&cs(U,Pt),bt;if(_t===null){for(;Pt<H.length;Pt++)_t=it(U,H[Pt],et),_t!==null&&(k=m(_t,k,Pt),Qt===null?bt=_t:Qt.sibling=_t,Qt=_t);return qt&&cs(U,Pt),bt}for(_t=u(_t);Pt<H.length;Pt++)Bt=X(_t,U,Pt,H[Pt],et),Bt!==null&&(i&&Bt.alternate!==null&&_t.delete(Bt.key===null?Pt:Bt.key),k=m(Bt,k,Pt),Qt===null?bt=Bt:Qt.sibling=Bt,Qt=Bt);return i&&_t.forEach(function(dr){return r(U,dr)}),qt&&cs(U,Pt),bt}function Ct(U,k,H,et){if(H==null)throw Error(s(151));for(var bt=null,Qt=null,_t=k,Pt=k=0,Bt=null,Xt=H.next();_t!==null&&!Xt.done;Pt++,Xt=H.next()){_t.index>Pt?(Bt=_t,_t=null):Bt=_t.sibling;var dr=K(U,_t,Xt.value,et);if(dr===null){_t===null&&(_t=Bt);break}i&&_t&&dr.alternate===null&&r(U,_t),k=m(dr,k,Pt),Qt===null?bt=dr:Qt.sibling=dr,Qt=dr,_t=Bt}if(Xt.done)return o(U,_t),qt&&cs(U,Pt),bt;if(_t===null){for(;!Xt.done;Pt++,Xt=H.next())Xt=it(U,Xt.value,et),Xt!==null&&(k=m(Xt,k,Pt),Qt===null?bt=Xt:Qt.sibling=Xt,Qt=Xt);return qt&&cs(U,Pt),bt}for(_t=u(_t);!Xt.done;Pt++,Xt=H.next())Xt=X(_t,U,Pt,Xt.value,et),Xt!==null&&(i&&Xt.alternate!==null&&_t.delete(Xt.key===null?Pt:Xt.key),k=m(Xt,k,Pt),Qt===null?bt=Xt:Qt.sibling=Xt,Qt=Xt);return i&&_t.forEach(function(X2){return r(U,X2)}),qt&&cs(U,Pt),bt}function he(U,k,H,et){if(typeof H=="object"&&H!==null&&H.type===G&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:t:{for(var bt=H.key;k!==null;){if(k.key===bt){if(bt=H.type,bt===G){if(k.tag===7){o(U,k.sibling),et=f(k,H.props.children),et.return=U,U=et;break t}}else if(k.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===C&&ua(bt)===k.type){o(U,k.sibling),et=f(k,H.props),Ul(et,H),et.return=U,U=et;break t}o(U,k);break}else r(U,k);k=k.sibling}H.type===G?(et=sa(H.props.children,U.mode,et,H.key),et.return=U,U=et):(et=Bc(H.type,H.key,H.props,null,U.mode,et),Ul(et,H),et.return=U,U=et)}return _(U);case L:t:{for(bt=H.key;k!==null;){if(k.key===bt)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){o(U,k.sibling),et=f(k,H.children||[]),et.return=U,U=et;break t}else{o(U,k);break}else r(U,k);k=k.sibling}et=bd(H,U.mode,et),et.return=U,U=et}return _(U);case C:return H=ua(H),he(U,k,H,et)}if(ne(H))return vt(U,k,H,et);if(P(H)){if(bt=P(H),typeof bt!="function")throw Error(s(150));return H=bt.call(H),Ct(U,k,H,et)}if(typeof H.then=="function")return he(U,k,Yc(H),et);if(H.$$typeof===$)return he(U,k,Hc(U,H),et);Qc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(o(U,k.sibling),et=f(k,H),et.return=U,U=et):(o(U,k),et=Ed(H,U.mode,et),et.return=U,U=et),_(U)):o(U,k)}return function(U,k,H,et){try{Ll=0;var bt=he(U,k,H,et);return ho=null,bt}catch(_t){if(_t===co||_t===Gc)throw _t;var Qt=Ln(29,_t,null,U.mode);return Qt.lanes=et,Qt.return=U,Qt}}}var ha=P0(!0),L0=P0(!1),$s=!1;function Vd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Js(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=jc(i),T0(i,null,o),r}return Uc(i,u,r,o),jc(i)}function jl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,fl(i,o)}}function Pd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Ld=!1;function Bl(){if(Ld){var i=uo;if(i!==null)throw i}}function zl(i,r,o,u){Ld=!1;var f=i.updateQueue;$s=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var V=A,q=V.next;V.next=null,_===null?m=q:_.next=q,_=V;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=q:A.next=q,J.lastBaseUpdate=V))}if(m!==null){var it=f.baseState;_=0,J=q=V=null,A=m;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(jt&K)===K:(u&K)===K){K!==0&&K===lo&&(Ld=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var vt=i,Ct=A;K=r;var he=o;switch(Ct.tag){case 1:if(vt=Ct.payload,typeof vt=="function"){it=vt.call(he,it,K);break t}it=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Ct.payload,K=typeof vt=="function"?vt.call(he,it,K):vt,K==null)break t;it=T({},it,K);break t;case 2:$s=!0}}K=A.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(q=J=X,V=it):J=J.next=X,_|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(V=it),f.baseState=V,f.firstBaseUpdate=q,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),ir|=_,i.lanes=_,i.memoizedState=it}}function U0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function j0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)U0(o[i],r)}var fo=b(null),Xc=b(0);function B0(i,r){i=Es,Z(Xc,i),Z(fo,r),Es=i|r.baseLanes}function Ud(){Z(Xc,Es),Z(fo,fo.current)}function jd(){Es=Xc.current,z(fo),z(Xc)}var Un=b(null),Zn=null;function Zs(i){var r=i.alternate;Z(Re,Re.current&1),Z(Un,i),Zn===null&&(r===null||fo.current!==null||r.memoizedState!==null)&&(Zn=i)}function Bd(i){Z(Re,Re.current),Z(Un,i),Zn===null&&(Zn=i)}function z0(i){i.tag===22?(Z(Re,Re.current),Z(Un,i),Zn===null&&(Zn=i)):tr()}function tr(){Z(Re,Re.current),Z(Un,Un.current)}function jn(i){z(Un),Zn===i&&(Zn=null),z(Re)}var Re=b(0);function $c(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Km(o)||Ym(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ds=0,kt=null,ue=null,Le=null,Wc=!1,mo=!1,fa=!1,Jc=0,Fl=0,po=null,jx=0;function Se(){throw Error(s(321))}function zd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Pn(i[o],r[o]))return!1;return!0}function Fd(i,r,o,u,f,m){return ds=m,kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?Av:im,fa=!1,m=o(u,f),fa=!1,mo&&(m=H0(r,o,u,f)),F0(i),m}function F0(i){W.H=Gl;var r=ue!==null&&ue.next!==null;if(ds=0,Le=ue=kt=null,Wc=!1,Fl=0,po=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Fc(i)&&(Ue=!0))}function H0(i,r,o,u){kt=i;var f=0;do{if(mo&&(po=null),Fl=0,mo=!1,25<=f)throw Error(s(301));if(f+=1,Le=ue=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=wv,m=r(o,u)}while(mo);return m}function Bx(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Hl(r):r,i=i.useState()[0],(ue!==null?ue.memoizedState:null)!==i&&(kt.flags|=1024),r}function Hd(){var i=Jc!==0;return Jc=0,i}function qd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Gd(i){if(Wc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wc=!1}ds=0,Le=ue=kt=null,mo=!1,Fl=Jc=0,po=null}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?kt.memoizedState=Le=i:Le=Le.next=i,Le}function Ie(){if(ue===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=ue.next;var r=Le===null?kt.memoizedState:Le.next;if(r!==null)Le=r,ue=i;else{if(i===null)throw kt.alternate===null?Error(s(467)):Error(s(310));ue=i,i={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Le===null?kt.memoizedState=Le=i:Le=Le.next=i}return Le}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(i){var r=Fl;return Fl+=1,po===null&&(po=[]),i=O0(po,i,r),r=kt,(Le===null?r.memoizedState:Le.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Av:im),i}function th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hl(i);if(i.$$typeof===$)return rn(i)}throw Error(s(438,String(i)))}function Kd(i){var r=null,o=kt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=kt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Zc(),kt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=N;return r.index++,o}function ms(i,r){return typeof r=="function"?r(i):r}function eh(i){var r=Ie();return Yd(r,ue,i)}function Yd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=_=null,V=null,q=r,J=!1;do{var it=q.lane&-536870913;if(it!==q.lane?(jt&it)===it:(ds&it)===it){var K=q.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),it===lo&&(J=!0);else if((ds&K)===K){q=q.next,K===lo&&(J=!0);continue}else it={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(A=V=it,_=m):V=V.next=it,kt.lanes|=K,ir|=K;it=q.action,fa&&o(m,it),m=q.hasEagerState?q.eagerState:o(m,it)}else K={lane:it,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(A=V=K,_=m):V=V.next=K,kt.lanes|=it,ir|=it;q=q.next}while(q!==null&&q!==r);if(V===null?_=m:V.next=A,!Pn(m,i.memoizedState)&&(Ue=!0,J&&(o=uo,o!==null)))throw o;i.memoizedState=m,i.baseState=_,i.baseQueue=V,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Qd(i){var r=Ie(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=i(m,_.action),_=_.next;while(_!==f);Pn(m,r.memoizedState)||(Ue=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function q0(i,r,o){var u=kt,f=Ie(),m=qt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Pn((ue||f).memoizedState,o);if(_&&(f.memoizedState=o,Ue=!0),f=f.queue,Wd(Y0.bind(null,u,f,i),[i]),f.getSnapshot!==r||_||Le!==null&&Le.memoizedState.tag&1){if(u.flags|=2048,go(9,{destroy:void 0},K0.bind(null,u,f,o,r),null),fe===null)throw Error(s(349));m||(ds&127)!==0||G0(u,r,o)}return o}function G0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=kt.updateQueue,r===null?(r=Zc(),kt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function K0(i,r,o,u){r.value=o,r.getSnapshot=u,Q0(r)&&X0(i)}function Y0(i,r,o){return o(function(){Q0(r)&&X0(i)})}function Q0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Pn(i,o)}catch{return!0}}function X0(i){var r=ia(i,2);r!==null&&Dn(r,i,2)}function Xd(i){var r=En();if(typeof i=="function"){var o=i;if(i=o(),fa){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},r}function $0(i,r,o,u){return i.baseState=o,Yd(i,ue,typeof u=="function"?u:ms)}function zx(i,r,o,u,f){if(sh(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,W0(r,m)):(m.next=o.next,r.pending=o.next=m)}}function W0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=W.T,_={};W.T=_;try{var A=o(f,u),V=W.S;V!==null&&V(_,A),J0(i,r,A)}catch(q){$d(i,r,q)}finally{m!==null&&_.types!==null&&(m.types=_.types),W.T=m}}else try{m=o(f,u),J0(i,r,m)}catch(q){$d(i,r,q)}}function J0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Z0(i,r,u)},function(u){return $d(i,r,u)}):Z0(i,r,o)}function Z0(i,r,o){r.status="fulfilled",r.value=o,tv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,W0(i,o)))}function $d(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,tv(r),r=r.next;while(r!==u)}i.action=null}function tv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function ev(i,r){return r}function nv(i,r){if(qt){var o=fe.formState;if(o!==null){t:{var u=kt;if(qt){if(de){e:{for(var f=de,m=Jn;f.nodeType!==8;){if(!m){f=null;break e}if(f=ti(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){de=ti(f.nextSibling),u=f.data==="F!";break t}}Qs(u)}u=!1}u&&(r=o[0])}}return o=En(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:r},o.queue=u,o=Ev.bind(null,kt,u),u.dispatch=o,u=Xd(!1),m=nm.bind(null,kt,!1,u.queue),u=En(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=zx.bind(null,kt,f,m,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function iv(i){var r=Ie();return sv(r,ue,i)}function sv(i,r,o){if(r=Yd(i,r,ev)[0],i=eh(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Hl(r)}catch(_){throw _===co?Gc:_}else u=r;r=Ie();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(kt.flags|=2048,go(9,{destroy:void 0},Fx.bind(null,f,o),null)),[u,m,i]}function Fx(i,r){i.action=r}function rv(i){var r=Ie(),o=ue;if(o!==null)return sv(r,o,i);Ie(),r=r.memoizedState,o=Ie();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function go(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=kt.updateQueue,r===null&&(r=Zc(),kt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function av(){return Ie().memoizedState}function nh(i,r,o,u){var f=En();kt.flags|=i,f.memoizedState=go(1|r,{destroy:void 0},o,u===void 0?null:u)}function ih(i,r,o,u){var f=Ie();u=u===void 0?null:u;var m=f.memoizedState.inst;ue!==null&&u!==null&&zd(u,ue.memoizedState.deps)?f.memoizedState=go(r,m,o,u):(kt.flags|=i,f.memoizedState=go(1|r,m,o,u))}function ov(i,r){nh(8390656,8,i,r)}function Wd(i,r){ih(2048,8,i,r)}function Hx(i){kt.flags|=4;var r=kt.updateQueue;if(r===null)r=Zc(),kt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function lv(i){var r=Ie().memoizedState;return Hx({ref:r,nextImpl:i}),function(){if((Wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function uv(i,r){return ih(4,2,i,r)}function cv(i,r){return ih(4,4,i,r)}function hv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function fv(i,r,o){o=o!=null?o.concat([i]):null,ih(4,4,hv.bind(null,r,i),o)}function Jd(){}function dv(i,r){var o=Ie();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&zd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function mv(i,r){var o=Ie();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&zd(r,u[1]))return u[0];if(u=i(),fa){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u}function Zd(i,r,o){return o===void 0||(ds&1073741824)!==0&&(jt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=p_(),kt.lanes|=i,ir|=i,o)}function pv(i,r,o,u){return Pn(o,r)?o:fo.current!==null?(i=Zd(i,o,u),Pn(i,r)||(Ue=!0),i):(ds&42)===0||(ds&1073741824)!==0&&(jt&261930)===0?(Ue=!0,i.memoizedState=o):(i=p_(),kt.lanes|=i,ir|=i,r)}function gv(i,r,o,u,f){var m=ut.p;ut.p=m!==0&&8>m?m:8;var _=W.T,A={};W.T=A,nm(i,!1,r,o);try{var V=f(),q=W.S;if(q!==null&&q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=Ux(V,u);ql(i,r,J,Fn(i))}else ql(i,r,u,Fn(i))}catch(it){ql(i,r,{then:function(){},status:"rejected",reason:it},Fn())}finally{ut.p=m,_!==null&&A.types!==null&&(_.types=A.types),W.T=_}}function qx(){}function tm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=yv(i).queue;gv(i,f,r,pt,o===null?qx:function(){return vv(i),o(u)})}function yv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:pt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function vv(i){var r=yv(i);r.next===null&&(r=i.alternate.memoizedState),ql(i,r.next.queue,{},Fn())}function em(){return rn(ou)}function _v(){return Ie().memoizedState}function Tv(){return Ie().memoizedState}function Gx(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Fn();i=Ws(o);var u=Js(r,i,o);u!==null&&(Dn(u,r,o),jl(u,r,o)),r={cache:Dd()},i.payload=r;return}r=r.return}}function Kx(i,r,o){var u=Fn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sh(i)?bv(r,o):(o=_d(i,r,o,u),o!==null&&(Dn(o,i,u),Sv(o,r,u)))}function Ev(i,r,o){var u=Fn();ql(i,r,o,u)}function ql(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(sh(i))bv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,A=m(_,o);if(f.hasEagerState=!0,f.eagerState=A,Pn(A,_))return Uc(i,r,f,0),fe===null&&Lc(),!1}catch{}if(o=_d(i,r,f,u),o!==null)return Dn(o,i,u),Sv(o,r,u),!0}return!1}function nm(i,r,o,u){if(u={lane:2,revertLane:Vm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},sh(i)){if(r)throw Error(s(479))}else r=_d(i,o,u,2),r!==null&&Dn(r,i,2)}function sh(i){var r=i.alternate;return i===kt||r!==null&&r===kt}function bv(i,r){mo=Wc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Sv(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,fl(i,o)}}var Gl={readContext:rn,use:th,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};Gl.useEffectEvent=Se;var Av={readContext:rn,use:th,useCallback:function(i,r){return En().memoizedState=[i,r===void 0?null:r],i},useContext:rn,useEffect:ov,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,nh(4194308,4,hv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return nh(4194308,4,i,r)},useInsertionEffect:function(i,r){nh(4,2,i,r)},useMemo:function(i,r){var o=En();r=r===void 0?null:r;var u=i();if(fa){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=En();if(o!==void 0){var f=o(r);if(fa){Hn(!0);try{o(r)}finally{Hn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=Kx.bind(null,kt,i),[u.memoizedState,i]},useRef:function(i){var r=En();return i={current:i},r.memoizedState=i},useState:function(i){i=Xd(i);var r=i.queue,o=Ev.bind(null,kt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Jd,useDeferredValue:function(i,r){var o=En();return Zd(o,i,r)},useTransition:function(){var i=Xd(!1);return i=gv.bind(null,kt,i.queue,!0,!1),En().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=kt,f=En();if(qt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),fe===null)throw Error(s(349));(jt&127)!==0||G0(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,ov(Y0.bind(null,u,m,i),[i]),u.flags|=2048,go(9,{destroy:void 0},K0.bind(null,u,m,o,r),null),o},useId:function(){var i=En(),r=fe.identifierPrefix;if(qt){var o=Gi,u=qi;o=(u&~(1<<32-Ce(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Jc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=jx++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:em,useFormState:nv,useActionState:nv,useOptimistic:function(i){var r=En();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=nm.bind(null,kt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Kd,useCacheRefresh:function(){return En().memoizedState=Gx.bind(null,kt)},useEffectEvent:function(i){var r=En(),o={impl:i};return r.memoizedState=o,function(){if((Wt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},im={readContext:rn,use:th,useCallback:dv,useContext:rn,useEffect:Wd,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:mv,useReducer:eh,useRef:av,useState:function(){return eh(ms)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=Ie();return pv(o,ue.memoizedState,i,r)},useTransition:function(){var i=eh(ms)[0],r=Ie().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:q0,useId:_v,useHostTransitionStatus:em,useFormState:iv,useActionState:iv,useOptimistic:function(i,r){var o=Ie();return $0(o,ue,i,r)},useMemoCache:Kd,useCacheRefresh:Tv};im.useEffectEvent=lv;var wv={readContext:rn,use:th,useCallback:dv,useContext:rn,useEffect:Wd,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:cv,useMemo:mv,useReducer:Qd,useRef:av,useState:function(){return Qd(ms)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=Ie();return ue===null?Zd(o,i,r):pv(o,ue.memoizedState,i,r)},useTransition:function(){var i=Qd(ms)[0],r=Ie().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:q0,useId:_v,useHostTransitionStatus:em,useFormState:rv,useActionState:rv,useOptimistic:function(i,r){var o=Ie();return ue!==null?$0(o,ue,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:Tv};wv.useEffectEvent=lv;function sm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:T({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Fn(),f=Ws(u);f.payload=r,o!=null&&(f.callback=o),r=Js(i,f,u),r!==null&&(Dn(r,i,u),jl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Fn(),f=Ws(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Js(i,f,u),r!==null&&(Dn(r,i,u),jl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Fn(),u=Ws(o);u.tag=2,r!=null&&(u.callback=r),r=Js(i,u,o),r!==null&&(Dn(r,i,o),jl(r,i,o))}};function Cv(i,r,o,u,f,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!Ml(o,u)||!Ml(f,m):!0}function xv(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&rm.enqueueReplaceState(r,r.state,null)}function da(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=T({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function Rv(i){Pc(i)}function Iv(i){console.error(i)}function Dv(i){Pc(i)}function rh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Mv(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(i,r,o){return o=Ws(o),o.tag=3,o.payload={element:null},o.callback=function(){rh(i,r)},o}function Nv(i){return i=Ws(i),i.tag=3,i}function Ov(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){Mv(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Mv(r,o,u),typeof f!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function Yx(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&oo(r,o,f,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?yh():o.alternate===null&&Ae===0&&(Ae=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Kc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Mm(i,u,f)),!1;case 22:return o.flags|=65536,u===Kc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Mm(i,u,f)),!1}throw Error(s(435,o.tag))}return Mm(i,u,f),yh(),!1}if(qt)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==wd&&(i=Error(s(422),{cause:u}),Vl(Xn(i,o)))):(u!==wd&&(r=Error(s(423),{cause:u}),Vl(Xn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Xn(u,o),f=am(i.stateNode,u,f),Pd(i,f),Ae!==4&&(Ae=2)),!1;var m=Error(s(520),{cause:u});if(m=Xn(m,o),Zl===null?Zl=[m]:Zl.push(m),Ae!==4&&(Ae=2),r===null)return!0;u=Xn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=am(o.stateNode,u,i),Pd(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(sr===null||!sr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Nv(f),Ov(f,i,o,u),Pd(o,f),!1}o=o.return}while(o!==null);return!1}var om=Error(s(461)),Ue=!1;function an(i,r,o,u){r.child=i===null?L0(r,null,o,u):ha(r,i.child,o,u)}function Vv(i,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return oa(r),u=Fd(i,r,o,_,m,f),A=Hd(),i!==null&&!Ue?(qd(i,r,f),ps(i,r,f)):(qt&&A&&Sd(r),r.flags|=1,an(i,r,u,f),r.child)}function kv(i,r,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!Td(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,Pv(i,r,m,u,f)):(i=Bc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!pm(i,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ml,o(_,u)&&i.ref===r.ref)return ps(i,r,f)}return r.flags|=1,i=us(m,u),i.ref=r.ref,i.return=r,r.child=i}function Pv(i,r,o,u,f){if(i!==null){var m=i.memoizedProps;if(Ml(m,u)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=u=m,pm(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,ps(i,r,f)}return lm(i,r,o,u,f)}function Lv(i,r,o,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return Uv(i,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&qc(r,m!==null?m.cachePool:null),m!==null?B0(r,m):Ud(),z0(r);else return u=r.lanes=536870912,Uv(i,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(qc(r,m.cachePool),B0(r,m),tr(),r.memoizedState=null):(i!==null&&qc(r,null),Ud(),tr());return an(i,r,f,o),r.child}function Kl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Uv(i,r,o,u,f){var m=Nd();return m=m===null?null:{parent:Pe._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},i!==null&&qc(r,null),Ud(),z0(r),i!==null&&oo(i,r,u,!0),r.childLanes=f,null}function ah(i,r){return r=lh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function jv(i,r,o){return ha(r,i.child,null,o),i=ah(r,r.pendingProps),i.flags|=2,jn(r),r.memoizedState=null,i}function Qx(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(qt){if(u.mode==="hidden")return i=ah(r,u),r.lanes=536870912,Kl(null,i);if(Bd(r),(i=de)?(i=W_(i,Jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=b0(i),o.return=r,r.child=o,sn=r,de=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return ah(r,u)}var m=i.memoizedState;if(m!==null){var _=m.dehydrated;if(Bd(r),f)if(r.flags&256)r.flags&=-257,r=jv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ue||oo(i,r,o,!1),f=(o&i.childLanes)!==0,Ue||f){if(u=fe,u!==null&&(_=dl(u,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,ia(i,_),Dn(u,i,_),om;yh(),r=jv(i,r,o)}else i=m.treeContext,de=ti(_.nextSibling),sn=r,qt=!0,Ys=null,Jn=!1,i!==null&&w0(r,i),r=ah(r,u),r.flags|=4096;return r}return i=us(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function oh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function lm(i,r,o,u,f){return oa(r),o=Fd(i,r,o,u,void 0,f),u=Hd(),i!==null&&!Ue?(qd(i,r,f),ps(i,r,f)):(qt&&u&&Sd(r),r.flags|=1,an(i,r,o,f),r.child)}function Bv(i,r,o,u,f,m){return oa(r),r.updateQueue=null,o=H0(r,u,o,f),F0(i),u=Hd(),i!==null&&!Ue?(qd(i,r,m),ps(i,r,m)):(qt&&u&&Sd(r),r.flags|=1,an(i,r,o,m),r.child)}function zv(i,r,o,u,f){if(oa(r),r.stateNode===null){var m=io,_=o.contextType;typeof _=="object"&&_!==null&&(m=rn(_)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Vd(r),_=o.contextType,m.context=typeof _=="object"&&_!==null?rn(_):io,m.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(sm(r,o,_,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&rm.enqueueReplaceState(m,m.state,null),zl(r,u,m,f),Bl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,V=da(o,A);m.props=V;var q=m.context,J=o.contextType;_=io,typeof J=="object"&&J!==null&&(_=rn(J));var it=o.getDerivedStateFromProps;J=typeof it=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==_)&&xv(r,m,u,_),$s=!1;var K=r.memoizedState;m.state=K,zl(r,u,m,f),Bl(),q=r.memoizedState,A||K!==q||$s?(typeof it=="function"&&(sm(r,o,it,u),q=r.memoizedState),(V=$s||Cv(r,o,V,u,K,q,_))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),m.props=u,m.state=q,m.context=_,u=V):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,kd(i,r),_=r.memoizedProps,J=da(o,_),m.props=J,it=r.pendingProps,K=m.context,q=o.contextType,V=io,typeof q=="object"&&q!==null&&(V=rn(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==it||K!==V)&&xv(r,m,u,V),$s=!1,K=r.memoizedState,m.state=K,zl(r,u,m,f),Bl();var X=r.memoizedState;_!==it||K!==X||$s||i!==null&&i.dependencies!==null&&Fc(i.dependencies)?(typeof A=="function"&&(sm(r,o,A,u),X=r.memoizedState),(J=$s||Cv(r,o,J,u,K,X,V)||i!==null&&i.dependencies!==null&&Fc(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,V)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),m.props=u,m.state=X,m.context=V,u=J):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,oh(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=ha(r,i.child,null,f),r.child=ha(r,null,o,f)):an(i,r,o,f),r.memoizedState=m.state,i=r.child):i=ps(i,r,f),i}function Fv(i,r,o,u){return ra(),r.flags|=256,an(i,r,o,u),r.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:M0()}}function hm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=zn),i}function Hv(i,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(Re.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(qt){if(f?Zs(r):tr(),(i=de)?(i=W_(i,Jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ks!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=b0(i),o.return=r,r.child=o,sn=r,de=null)):i=null,i===null)throw Qs(r);return Ym(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(tr(),f=r.mode,A=lh({mode:"hidden",children:A},f),u=sa(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=cm(o),u.childLanes=hm(i,_,o),r.memoizedState=um,Kl(null,u)):(Zs(r),fm(r,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(m)r.flags&256?(Zs(r),r.flags&=-257,r=dm(i,r,o)):r.memoizedState!==null?(tr(),r.child=i.child,r.flags|=128,r=null):(tr(),A=u.fallback,f=r.mode,u=lh({mode:"visible",children:u.children},f),A=sa(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ha(r,i.child,null,o),u=r.child,u.memoizedState=cm(o),u.childLanes=hm(i,_,o),r.memoizedState=um,r=Kl(null,u));else if(Zs(r),Ym(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var q=_.dgst;_=q,u=Error(s(419)),u.stack="",u.digest=_,Vl({value:u,source:null,stack:null}),r=dm(i,r,o)}else if(Ue||oo(i,r,o,!1),_=(o&i.childLanes)!==0,Ue||_){if(_=fe,_!==null&&(u=dl(_,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,ia(i,u),Dn(_,i,u),om;Km(A)||yh(),r=dm(i,r,o)}else Km(A)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,de=ti(A.nextSibling),sn=r,qt=!0,Ys=null,Jn=!1,i!==null&&w0(r,i),r=fm(r,u.children),r.flags|=4096);return r}return f?(tr(),A=u.fallback,f=r.mode,V=i.child,q=V.sibling,u=us(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,q!==null?A=us(q,A):(A=sa(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Kl(null,u),u=r.child,A=i.child.memoizedState,A===null?A=cm(o):(f=A.cachePool,f!==null?(V=Pe._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=M0(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=hm(i,_,o),r.memoizedState=um,Kl(i.child,u)):(Zs(r),o=i.child,i=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function fm(i,r){return r=lh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function lh(i,r){return i=Ln(22,i,null,r),i.lanes=0,i}function dm(i,r,o){return ha(r,i.child,null,o),i=fm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function qv(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Rd(i.return,r,o)}function mm(i,r,o,u,f,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=m)}function Gv(i,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var _=Re.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,Z(Re,_),an(i,r,u,o),u=qt?Ol:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qv(i,o,r);else if(i.tag===19)qv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&$c(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),mm(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&$c(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}mm(r,!0,o,null,m,u);break;case"together":mm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ps(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ir|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(oo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function pm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Fc(i)))}function Xx(i,r,o){switch(r.tag){case 3:Tt(r,r.stateNode.containerInfo),Xs(r,Pe,i.memoizedState.cache),ra();break;case 27:case 5:Jt(r);break;case 4:Tt(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Zs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Hv(i,r,o):(Zs(r),i=ps(i,r,o),i!==null?i.sibling:null);Zs(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(oo(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return Gv(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Re,Re.current),u)break;return null;case 22:return r.lanes=0,Lv(i,r,o,r.pendingProps);case 24:Xs(r,Pe,i.memoizedState.cache)}return ps(i,r,o)}function Kv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!pm(i,o)&&(r.flags&128)===0)return Ue=!1,Xx(i,r,o);Ue=(i.flags&131072)!==0}else Ue=!1,qt&&(r.flags&1048576)!==0&&A0(r,Ol,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=ua(r.elementType),r.type=i,typeof i=="function")Td(i)?(u=da(i,u),r.tag=1,r=zv(null,r,i,u,o)):(r.tag=0,r=lm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===nt){r.tag=11,r=Vv(null,r,i,u,o);break t}else if(f===x){r.tag=14,r=kv(null,r,i,u,o);break t}}throw r=St(i)||i,Error(s(306,r,""))}}return r;case 0:return lm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=da(u,r.pendingProps),zv(i,r,u,f,o);case 3:t:{if(Tt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,kd(i,r),zl(r,u,null,o);var _=r.memoizedState;if(u=_.cache,Xs(r,Pe,u),u!==m.cache&&Id(r,[Pe],o,!0),Bl(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Fv(i,r,u,o);break t}else if(u!==f){f=Xn(Error(s(424)),r),Vl(f),r=Fv(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,de=ti(i.firstChild),sn=r,qt=!0,Ys=null,Jn=!0,o=L0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ra(),u===f){r=ps(i,r,o);break t}an(i,r,u,o)}r=r.child}return r;case 26:return oh(i,r),i===null?(o=iT(r.type,null,r.pendingProps,null))?r.memoizedState=o:qt||(o=r.type,i=r.pendingProps,u=Ah(mt.current).createElement(o),u[Oe]=r,u[Xe]=i,on(u,o,i),Ve(u),r.stateNode=u):r.memoizedState=iT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Jt(r),i===null&&qt&&(u=r.stateNode=tT(r.type,r.pendingProps,mt.current),sn=r,Jn=!0,f=de,lr(r.type)?(Qm=f,de=ti(u.firstChild)):de=f),an(i,r,r.pendingProps.children,o),oh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qt&&((f=u=de)&&(u=w2(u,r.type,r.pendingProps,Jn),u!==null?(r.stateNode=u,sn=r,de=ti(u.firstChild),Jn=!1,f=!0):f=!1),f||Qs(r)),Jt(r),f=r.type,m=r.pendingProps,_=i!==null?i.memoizedProps:null,u=m.children,Hm(f,m)?u=null:_!==null&&Hm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Fd(i,r,Bx,null,null,o),ou._currentValue=f),oh(i,r),an(i,r,u,o),r.child;case 6:return i===null&&qt&&((i=o=de)&&(o=C2(o,r.pendingProps,Jn),o!==null?(r.stateNode=o,sn=r,de=null,i=!0):i=!1),i||Qs(r)),null;case 13:return Hv(i,r,o);case 4:return Tt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ha(r,null,u,o):an(i,r,u,o),r.child;case 11:return Vv(i,r,r.type,r.pendingProps,o);case 7:return an(i,r,r.pendingProps,o),r.child;case 8:return an(i,r,r.pendingProps.children,o),r.child;case 12:return an(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),an(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,oa(r),f=rn(f),u=u(f),r.flags|=1,an(i,r,u,o),r.child;case 14:return kv(i,r,r.type,r.pendingProps,o);case 15:return Pv(i,r,r.type,r.pendingProps,o);case 19:return Gv(i,r,o);case 31:return Qx(i,r,o);case 22:return Lv(i,r,o,r.pendingProps);case 24:return oa(r),u=rn(Pe),i===null?(f=Nd(),f===null&&(f=fe,m=Dd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},Vd(r),Xs(r,Pe,f)):((i.lanes&o)!==0&&(kd(i,r),zl(r,null,null,o),Bl()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xs(r,Pe,u)):(u=m.cache,Xs(r,Pe,u),u!==f.cache&&Id(r,[Pe],o,!0))),an(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function gs(i){i.flags|=4}function gm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(__())i.flags|=8192;else throw ca=Kc,Od}else i.flags&=-16777217}function Yv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lT(r))if(__())i.flags|=8192;else throw ca=Kc,Od}function uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?pc():536870912,i.lanes|=r,To|=r)}function Yl(i,r){if(!qt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function me(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function $x(i,r,o){var u=r.pendingProps;switch(Ad(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(r),null;case 1:return me(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),fs(Pe),wt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ao(r)?gs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cd())),me(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(gs(r),m!==null?(me(r),Yv(r,m)):(me(r),gm(r,f,null,u,o))):m?m!==i.memoizedState?(gs(r),me(r),Yv(r,m)):(me(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&gs(r),me(r),gm(r,f,i,u,o)),null;case 27:if(Yt(r),o=mt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return me(r),null}i=at.current,ao(r)?C0(r):(i=tT(f,u,o),r.stateNode=i,gs(r))}return me(r),null;case 5:if(Yt(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return me(r),null}if(m=at.current,ao(r))C0(r);else{var _=Ah(mt.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}m[Oe]=r,m[Xe]=u;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=m;t:switch(on(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&gs(r)}}return me(r),gm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=mt.current,ao(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=sn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Oe]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||H_(i.nodeValue,o)),i||Qs(r,!0)}else i=Ah(i).createTextNode(u),i[Oe]=r,r.stateNode=i}return me(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=ao(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Oe]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;me(r),i=!1}else o=Cd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(jn(r),r):(jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return me(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=ao(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Oe]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;me(r),f=!1}else f=Cd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(jn(r),r):(jn(r),null)}return jn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),uh(r,r.updateQueue),me(r),null);case 4:return wt(),i===null&&Um(r.stateNode.containerInfo),me(r),null;case 10:return fs(r.type),me(r),null;case 19:if(z(Re),u=r.memoizedState,u===null)return me(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)Yl(u,!1);else{if(Ae!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=$c(i),m!==null){for(r.flags|=128,Yl(u,!1),i=m.updateQueue,r.updateQueue=i,uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)E0(o,i),o=o.sibling;return Z(Re,Re.current&1|2),qt&&cs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Qe()>mh&&(r.flags|=128,f=!0,Yl(u,!1),r.lanes=4194304)}else{if(!f)if(i=$c(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,uh(r,i),Yl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!qt)return me(r),null}else 2*Qe()-u.renderingStartTime>mh&&o!==536870912&&(r.flags|=128,f=!0,Yl(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(i=u.last,i!==null?i.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Qe(),i.sibling=null,o=Re.current,Z(Re,f?o&1|2:o&1),qt&&cs(r,u.treeForkCount),i):(me(r),null);case 22:case 23:return jn(r),jd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(me(r),r.subtreeFlags&6&&(r.flags|=8192)):me(r),o=r.updateQueue,o!==null&&uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&z(la),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),fs(Pe),me(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Wx(i,r){switch(Ad(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return fs(Pe),wt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Yt(r),null;case 31:if(r.memoizedState!==null){if(jn(r),r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(jn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return z(Re),null;case 4:return wt(),null;case 10:return fs(r.type),null;case 22:case 23:return jn(r),jd(),i!==null&&z(la),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return fs(Pe),null;case 25:return null;default:return null}}function Qv(i,r){switch(Ad(r),r.tag){case 3:fs(Pe),wt();break;case 26:case 27:case 5:Yt(r);break;case 4:wt();break;case 31:r.memoizedState!==null&&jn(r);break;case 13:jn(r);break;case 19:z(Re);break;case 10:fs(r.type);break;case 22:case 23:jn(r),jd(),i!==null&&z(la);break;case 24:fs(Pe)}}function Ql(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(A){ae(r,r.return,A)}}function er(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var V=o,q=A;try{q()}catch(J){ae(f,V,J)}}}u=u.next}while(u!==m)}}catch(J){ae(r,r.return,J)}}function Xv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{j0(r,o)}catch(u){ae(i,i.return,u)}}}function $v(i,r,o){o.props=da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ae(i,r,u)}}function Xl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){ae(i,r,f)}}function Ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ae(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ae(i,r,f)}else o.current=null}function Wv(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ae(i,i.return,f)}}function ym(i,r,o){try{var u=i.stateNode;_2(u,i.type,o,r),u[Xe]=r}catch(f){ae(i,i.return,f)}}function Jv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&lr(i.type)||i.tag===4}function vm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&lr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _m(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=hi));else if(u!==4&&(u===27&&lr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(_m(i,r,o),i=i.sibling;i!==null;)_m(i,r,o),i=i.sibling}function ch(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&lr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ch(i,r,o),i=i.sibling;i!==null;)ch(i,r,o),i=i.sibling}function Zv(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);on(r,u,o),r[Oe]=i,r[Xe]=o}catch(m){ae(i,i.return,m)}}var ys=!1,je=!1,Tm=!1,t_=typeof WeakSet=="function"?WeakSet:Set,We=null;function Jx(i,r){if(i=i.containerInfo,zm=Mh,i=f0(i),dd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var _=0,A=-1,V=-1,q=0,J=0,it=i,K=null;e:for(;;){for(var X;it!==o||f!==0&&it.nodeType!==3||(A=_+f),it!==m||u!==0&&it.nodeType!==3||(V=_+u),it.nodeType===3&&(_+=it.nodeValue.length),(X=it.firstChild)!==null;)K=it,it=X;for(;;){if(it===i)break e;if(K===o&&++q===f&&(A=_),K===m&&++J===u&&(V=_),(X=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=X}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fm={focusedElem:i,selectionRange:o},Mh=!1,We=r;We!==null;)if(r=We,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,We=i;else for(;We!==null;){switch(r=We,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var vt=da(o.type,f);i=u.getSnapshotBeforeUpdate(vt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ct){ae(o,o.return,Ct)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Gm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,We=i;break}We=r.return}}function e_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(i,o),u&4&&Ql(5,o);break;case 1:if(_s(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){ae(o,o.return,_)}else{var f=da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){ae(o,o.return,_)}}u&64&&Xv(o),u&512&&Xl(o,o.return);break;case 3:if(_s(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{j0(i,r)}catch(_){ae(o,o.return,_)}}break;case 27:r===null&&u&4&&Zv(o);case 26:case 5:_s(i,o),r===null&&u&4&&Wv(o),u&512&&Xl(o,o.return);break;case 12:_s(i,o);break;case 31:_s(i,o),u&4&&s_(i,o);break;case 13:_s(i,o),u&4&&r_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=o2.bind(null,o),x2(i,o))));break;case 22:if(u=o.memoizedState!==null||ys,!u){r=r!==null&&r.memoizedState!==null||je,f=ys;var m=je;ys=u,(je=r)&&!m?Ts(i,o,(o.subtreeFlags&8772)!==0):_s(i,o),ys=f,je=m}break;case 30:break;default:_s(i,o)}}function n_(i){var r=i.alternate;r!==null&&(i.alternate=null,n_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ha(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _e=null,Cn=!1;function vs(i,r,o){for(o=o.child;o!==null;)i_(i,r,o),o=o.sibling}function i_(i,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(On,o)}catch{}switch(o.tag){case 26:je||Ki(o,r),vs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||Ki(o,r);var u=_e,f=Cn;lr(o.type)&&(_e=o.stateNode,Cn=!1),vs(i,r,o),su(o.stateNode),_e=u,Cn=f;break;case 5:je||Ki(o,r);case 6:if(u=_e,f=Cn,_e=null,vs(i,r,o),_e=u,Cn=f,_e!==null)if(Cn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(o.stateNode)}catch(m){ae(o,r,m)}else try{_e.removeChild(o.stateNode)}catch(m){ae(o,r,m)}break;case 18:_e!==null&&(Cn?(i=_e,X_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ro(i)):X_(_e,o.stateNode));break;case 4:u=_e,f=Cn,_e=o.stateNode.containerInfo,Cn=!0,vs(i,r,o),_e=u,Cn=f;break;case 0:case 11:case 14:case 15:er(2,o,r),je||er(4,o,r),vs(i,r,o);break;case 1:je||(Ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&$v(o,r,u)),vs(i,r,o);break;case 21:vs(i,r,o);break;case 22:je=(u=je)||o.memoizedState!==null,vs(i,r,o),je=u;break;default:vs(i,r,o)}}function s_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ro(i)}catch(o){ae(r,r.return,o)}}}function r_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ro(i)}catch(o){ae(r,r.return,o)}}function Zx(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new t_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new t_),r;default:throw Error(s(435,i.tag))}}function hh(i,r){var o=Zx(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=l2.bind(null,i,u);u.then(f,f)}})}function xn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,_=r,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(lr(A.type)){_e=A.stateNode,Cn=!1;break t}break;case 5:_e=A.stateNode,Cn=!1;break t;case 3:case 4:_e=A.stateNode.containerInfo,Cn=!0;break t}A=A.return}if(_e===null)throw Error(s(160));i_(m,_,f),_e=null,Cn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)a_(r,i),r=r.sibling}var yi=null;function a_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:xn(r,i),Rn(i),u&4&&(er(3,i,i.return),Ql(3,i),er(5,i,i.return));break;case 1:xn(r,i),Rn(i),u&512&&(je||o===null||Ki(o,o.return)),u&64&&ys&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=yi;if(xn(r,i),Rn(i),u&512&&(je||o===null||Ki(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ni]||m[Oe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),on(m,u,o),m[Oe]=i,Ve(m),u=m;break t;case"link":var _=aT("link","href",f).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break e}}m=f.createElement(u),on(m,u,o),f.head.appendChild(m);break;case"meta":if(_=aT("meta","content",f).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break e}}m=f.createElement(u),on(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Oe]=i,Ve(m),u=m}i.stateNode=u}else oT(f,i.type,i.stateNode);else i.stateNode=rT(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?oT(f,i.type,i.stateNode):rT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&ym(i,i.memoizedProps,o.memoizedProps)}break;case 27:xn(r,i),Rn(i),u&512&&(je||o===null||Ki(o,o.return)),o!==null&&u&4&&ym(i,i.memoizedProps,o.memoizedProps);break;case 5:if(xn(r,i),Rn(i),u&512&&(je||o===null||Ki(o,o.return)),i.flags&32){f=i.stateNode;try{wn(f,"")}catch(vt){ae(i,i.return,vt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,ym(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Tm=!0);break;case 6:if(xn(r,i),Rn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(vt){ae(i,i.return,vt)}}break;case 3:if(xh=null,f=yi,yi=wh(r.containerInfo),xn(r,i),yi=f,Rn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ro(r.containerInfo)}catch(vt){ae(i,i.return,vt)}Tm&&(Tm=!1,o_(i));break;case 4:u=yi,yi=wh(i.stateNode.containerInfo),xn(r,i),Rn(i),yi=u;break;case 12:xn(r,i),Rn(i);break;case 31:xn(r,i),Rn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 13:xn(r,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dh=Qe()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 22:f=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,q=ys,J=je;if(ys=q||f,je=J||V,xn(r,i),je=J,ys=q,Rn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||V||ys||je||ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(m=V.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=V.stateNode;var it=V.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(vt){ae(V,V.return,vt)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(vt){ae(V,V.return,vt)}}}else if(r.tag===18){if(o===null){V=r;try{var X=V.stateNode;f?$_(X,!0):$_(V.stateNode,!1)}catch(vt){ae(V,V.return,vt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hh(i,o))));break;case 19:xn(r,i),Rn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hh(i,u)));break;case 30:break;case 21:break;default:xn(r,i),Rn(i)}}function Rn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Jv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=vm(i);ch(i,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(wn(_,""),o.flags&=-33);var A=vm(i);ch(i,A,_);break;case 3:case 4:var V=o.stateNode.containerInfo,q=vm(i);_m(i,q,V);break;default:throw Error(s(161))}}catch(J){ae(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function o_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;o_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function _s(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)e_(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:er(4,r,r.return),ma(r);break;case 1:Ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&$v(r,r.return,o),ma(r);break;case 27:su(r.stateNode);case 26:case 5:Ki(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function Ts(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ts(f,m,o),Ql(4,m);break;case 1:if(Ts(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){ae(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)U0(V[f],A)}catch(q){ae(u,u.return,q)}}o&&_&64&&Xv(m),Xl(m,m.return);break;case 27:Zv(m);case 26:case 5:Ts(f,m,o),o&&u===null&&_&4&&Wv(m),Xl(m,m.return);break;case 12:Ts(f,m,o);break;case 31:Ts(f,m,o),o&&_&4&&s_(f,m);break;case 13:Ts(f,m,o),o&&_&4&&r_(f,m);break;case 22:m.memoizedState===null&&Ts(f,m,o),Xl(m,m.return);break;case 30:break;default:Ts(f,m,o)}r=r.sibling}}function Em(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function bm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i))}function vi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l_(i,r,o,u),r=r.sibling}function l_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:vi(i,r,o,u),f&2048&&Ql(9,r);break;case 1:vi(i,r,o,u);break;case 3:vi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){vi(i,r,o,u),i=r.stateNode;try{var m=r.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ae(r,r.return,V)}}else vi(i,r,o,u);break;case 31:vi(i,r,o,u);break;case 13:vi(i,r,o,u);break;case 23:break;case 22:m=r.stateNode,_=r.alternate,r.memoizedState!==null?m._visibility&2?vi(i,r,o,u):$l(i,r):m._visibility&2?vi(i,r,o,u):(m._visibility|=2,yo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Em(_,r);break;case 24:vi(i,r,o,u),f&2048&&bm(r.alternate,r);break;default:vi(i,r,o,u)}}function yo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,_=r,A=o,V=u,q=_.flags;switch(_.tag){case 0:case 11:case 15:yo(m,_,A,V,f),Ql(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?yo(m,_,A,V,f):$l(m,_):(J._visibility|=2,yo(m,_,A,V,f)),f&&q&2048&&Em(_.alternate,_);break;case 24:yo(m,_,A,V,f),f&&q&2048&&bm(_.alternate,_);break;default:yo(m,_,A,V,f)}r=r.sibling}}function $l(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:$l(o,u),f&2048&&Em(u.alternate,u);break;case 24:$l(o,u),f&2048&&bm(u.alternate,u);break;default:$l(o,u)}r=r.sibling}}var Wl=8192;function vo(i,r,o){if(i.subtreeFlags&Wl)for(i=i.child;i!==null;)u_(i,r,o),i=i.sibling}function u_(i,r,o){switch(i.tag){case 26:vo(i,r,o),i.flags&Wl&&i.memoizedState!==null&&j2(o,yi,i.memoizedState,i.memoizedProps);break;case 5:vo(i,r,o);break;case 3:case 4:var u=yi;yi=wh(i.stateNode.containerInfo),vo(i,r,o),yi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Wl,Wl=16777216,vo(i,r,o),Wl=u):vo(i,r,o));break;default:vo(i,r,o)}}function c_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Jl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];We=u,f_(u,i)}c_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h_(i),i=i.sibling}function h_(i){switch(i.tag){case 0:case 11:case 15:Jl(i),i.flags&2048&&er(9,i,i.return);break;case 3:Jl(i);break;case 12:Jl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,fh(i)):Jl(i);break;default:Jl(i)}}function fh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];We=u,f_(u,i)}c_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:er(8,r,r.return),fh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,fh(r));break;default:fh(r)}i=i.sibling}}function f_(i,r){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,We=u;else t:for(o=i;We!==null;){u=We;var f=u.sibling,m=u.return;if(n_(u),u===o){We=null;break t}if(f!==null){f.return=m,We=f;break t}We=m}}}var t2={getCacheForType:function(i){var r=rn(Pe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return rn(Pe).controller.signal}},e2=typeof WeakMap=="function"?WeakMap:Map,Wt=0,fe=null,Lt=null,jt=0,re=0,Bn=null,nr=!1,_o=!1,Sm=!1,Es=0,Ae=0,ir=0,pa=0,Am=0,zn=0,To=0,Zl=null,In=null,wm=!1,dh=0,d_=0,mh=1/0,ph=null,sr=null,qe=0,rr=null,Eo=null,bs=0,Cm=0,xm=null,m_=null,tu=0,Rm=null;function Fn(){return(Wt&2)!==0&&jt!==0?jt&-jt:W.T!==null?Vm():gc()}function p_(){if(zn===0)if((jt&536870912)===0||qt){var i=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),zn=i}else zn=536870912;return i=Un.current,i!==null&&(i.flags|=32),zn}function Dn(i,r,o){(i===fe&&(re===2||re===9)||i.cancelPendingCommit!==null)&&(bo(i,0),ar(i,jt,zn,!1)),Hr(i,o),((Wt&2)===0||i!==fe)&&(i===fe&&((Wt&2)===0&&(pa|=o),Ae===4&&ar(i,jt,zn,!1)),Yi(i))}function g_(i,r,o){if((Wt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||li(i,r),f=u?s2(i,r):Dm(i,r,!0),m=u;do{if(f===0){_o&&!u&&ar(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!n2(o)){f=Dm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var A=i;f=Zl;var V=A.current.memoizedState.isDehydrated;if(V&&(bo(A,_).flags|=256),_=Dm(A,_,!1),_!==2){if(Sm&&!V){A.errorRecoveryDisabledLanes|=m,pa|=m,f=4;break t}m=In,In=f,m!==null&&(In===null?In=m:In.push.apply(In,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){bo(i,0),ar(i,r,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ar(u,r,zn,!nr);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=dh+300-Qe(),10<f)){if(ar(u,r,zn,!nr),Ii(u,0,!0)!==0)break t;bs=r,u.timeoutHandle=Y_(y_.bind(null,u,o,In,ph,wm,r,zn,pa,To,nr,m,"Throttled",-0,0),f);break t}y_(u,o,In,ph,wm,r,zn,pa,To,nr,m,null,-0,0)}}break}while(!0);Yi(i)}function y_(i,r,o,u,f,m,_,A,V,q,J,it,K,X){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},u_(r,m,it);var vt=(m&62914560)===m?dh-Qe():(m&4194048)===m?d_-Qe():0;if(vt=B2(it,vt),vt!==null){bs=m,i.cancelPendingCommit=vt(w_.bind(null,i,r,m,o,u,f,_,A,V,J,it,null,K,X)),ar(i,m,_,!q);return}}w_(i,r,m,o,u,f,_,A,V)}function n2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Pn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ar(i,r,o,u){r&=~Am,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-Ce(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&qr(i,o,r)}function gh(){return(Wt&6)===0?(eu(0),!1):!0}function Im(){if(Lt!==null){if(re===0)var i=Lt.return;else i=Lt,hs=aa=null,Gd(i),ho=null,Ll=0,i=Lt;for(;i!==null;)Qv(i.alternate,i),i=i.return;Lt=null}}function bo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,b2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),bs=0,Im(),fe=i,Lt=o=us(i.current,null),jt=r,re=0,Bn=null,nr=!1,_o=li(i,r),Sm=!1,To=zn=Am=pa=ir=Ae=0,In=Zl=null,wm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ce(u),m=1<<f;r|=i[f],u&=~m}return Es=r,Lc(),o}function v_(i,r){kt=null,W.H=Gl,r===co||r===Gc?(r=V0(),re=3):r===Od?(r=V0(),re=4):re=r===om?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Lt===null&&(Ae=1,rh(i,Xn(r,i.current)))}function __(){var i=Un.current;return i===null?!0:(jt&4194048)===jt?Zn===null:(jt&62914560)===jt||(jt&536870912)!==0?i===Zn:!1}function T_(){var i=W.H;return W.H=Gl,i===null?Gl:i}function E_(){var i=W.A;return W.A=t2,i}function yh(){Ae=4,nr||(jt&4194048)!==jt&&Un.current!==null||(_o=!0),(ir&134217727)===0&&(pa&134217727)===0||fe===null||ar(fe,jt,zn,!1)}function Dm(i,r,o){var u=Wt;Wt|=2;var f=T_(),m=E_();(fe!==i||jt!==r)&&(ph=null,bo(i,r)),r=!1;var _=Ae;t:do try{if(re!==0&&Lt!==null){var A=Lt,V=Bn;switch(re){case 8:Im(),_=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var q=re;if(re=0,Bn=null,So(i,A,V,q),o&&_o){_=0;break t}break;default:q=re,re=0,Bn=null,So(i,A,V,q)}}i2(),_=Ae;break}catch(J){v_(i,J)}while(!0);return r&&i.shellSuspendCounter++,hs=aa=null,Wt=u,W.H=f,W.A=m,Lt===null&&(fe=null,jt=0,Lc()),_}function i2(){for(;Lt!==null;)b_(Lt)}function s2(i,r){var o=Wt;Wt|=2;var u=T_(),f=E_();fe!==i||jt!==r?(ph=null,mh=Qe()+500,bo(i,r)):_o=li(i,r);t:do try{if(re!==0&&Lt!==null){r=Lt;var m=Bn;e:switch(re){case 1:re=0,Bn=null,So(i,r,m,1);break;case 2:case 9:if(N0(m)){re=0,Bn=null,S_(r);break}r=function(){re!==2&&re!==9||fe!==i||(re=7),Yi(i)},m.then(r,r);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:N0(m)?(re=0,Bn=null,S_(r)):(re=0,Bn=null,So(i,r,m,7));break;case 5:var _=null;switch(Lt.tag){case 26:_=Lt.memoizedState;case 5:case 27:var A=Lt;if(_?lT(_):A.stateNode.complete){re=0,Bn=null;var V=A.sibling;if(V!==null)Lt=V;else{var q=A.return;q!==null?(Lt=q,vh(q)):Lt=null}break e}}re=0,Bn=null,So(i,r,m,5);break;case 6:re=0,Bn=null,So(i,r,m,6);break;case 8:Im(),Ae=6;break t;default:throw Error(s(462))}}r2();break}catch(J){v_(i,J)}while(!0);return hs=aa=null,W.H=u,W.A=f,Wt=o,Lt!==null?0:(fe=null,jt=0,Lc(),Ae)}function r2(){for(;Lt!==null&&!hl();)b_(Lt)}function b_(i){var r=Kv(i.alternate,i,Es);i.memoizedProps=i.pendingProps,r===null?vh(i):Lt=r}function S_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Bv(o,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=Bv(o,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:Gd(r);default:Qv(o,r),r=Lt=E0(r,Es),r=Kv(o,r,Es)}i.memoizedProps=i.pendingProps,r===null?vh(i):Lt=r}function So(i,r,o,u){hs=aa=null,Gd(r),ho=null,Ll=0;var f=r.return;try{if(Yx(i,f,r,o,jt)){Ae=1,rh(i,Xn(o,i.current)),Lt=null;return}}catch(m){if(f!==null)throw Lt=f,m;Ae=1,rh(i,Xn(o,i.current)),Lt=null;return}r.flags&32768?(qt||u===1?i=!0:_o||(jt&536870912)!==0?i=!1:(nr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),A_(r,i)):vh(r)}function vh(i){var r=i;do{if((r.flags&32768)!==0){A_(r,nr);return}i=r.return;var o=$x(r.alternate,r,Es);if(o!==null){Lt=o;return}if(r=r.sibling,r!==null){Lt=r;return}Lt=r=i}while(r!==null);Ae===0&&(Ae=5)}function A_(i,r){do{var o=Wx(i.alternate,i);if(o!==null){o.flags&=32767,Lt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Lt=i;return}Lt=i=o}while(i!==null);Ae=6,Lt=null}function w_(i,r,o,u,f,m,_,A,V){i.cancelPendingCommit=null;do _h();while(qe!==0);if((Wt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=vd,ud(i,o,m,_,A,V),i===fe&&(Lt=fe=null,jt=0),Eo=r,rr=i,bs=o,Cm=m,xm=f,m_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,u2(Ci,function(){return D_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=ut.p,ut.p=2,_=Wt,Wt|=4;try{Jx(i,r,o)}finally{Wt=_,ut.p=f,W.T=u}}qe=1,C_(),x_(),R_()}}function C_(){if(qe===1){qe=0;var i=rr,r=Eo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ut.p;ut.p=2;var f=Wt;Wt|=4;try{a_(r,i);var m=Fm,_=f0(i.containerInfo),A=m.focusedElem,V=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&h0(A.ownerDocument.documentElement,A)){if(V!==null&&dd(A)){var q=V.start,J=V.end;if(J===void 0&&(J=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(J,A.value.length);else{var it=A.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var X=K.getSelection(),vt=A.textContent.length,Ct=Math.min(V.start,vt),he=V.end===void 0?Ct:Math.min(V.end,vt);!X.extend&&Ct>he&&(_=he,he=Ct,Ct=_);var U=c0(A,Ct),k=c0(A,he);if(U&&k&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var H=it.createRange();H.setStart(U.node,U.offset),X.removeAllRanges(),Ct>he?(X.addRange(H),X.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),X.addRange(H))}}}}for(it=[],X=A;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<it.length;A++){var et=it[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Mh=!!zm,Fm=zm=null}finally{Wt=f,ut.p=u,W.T=o}}i.current=r,qe=2}}function x_(){if(qe===2){qe=0;var i=rr,r=Eo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ut.p;ut.p=2;var f=Wt;Wt|=4;try{e_(i,r.alternate,r)}finally{Wt=f,ut.p=u,W.T=o}}qe=3}}function R_(){if(qe===4||qe===3){qe=0,Ua();var i=rr,r=Eo,o=bs,u=m_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qe=5:(qe=0,Eo=rr=null,I_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(sr=null),rs(o),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(On,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=ut.p,ut.p=2,W.T=null;try{for(var m=i.onRecoverableError,_=0;_<u.length;_++){var A=u[_];m(A.value,{componentStack:A.stack})}}finally{W.T=r,ut.p=f}}(bs&3)!==0&&_h(),Yi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Rm?tu++:(tu=0,Rm=i):tu=0,eu(0)}}function I_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kl(r)))}function _h(){return C_(),x_(),R_(),D_()}function D_(){if(qe!==5)return!1;var i=rr,r=Cm;Cm=0;var o=rs(bs),u=W.T,f=ut.p;try{ut.p=32>o?32:o,W.T=null,o=xm,xm=null;var m=rr,_=bs;if(qe=0,Eo=rr=null,bs=0,(Wt&6)!==0)throw Error(s(331));var A=Wt;if(Wt|=4,h_(m.current),l_(m,m.current,_,o),Wt=A,eu(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(On,m)}catch{}return!0}finally{ut.p=f,W.T=u,I_(i,r)}}function M_(i,r,o){r=Xn(o,r),r=am(i.stateNode,r,2),i=Js(i,r,2),i!==null&&(Hr(i,2),Yi(i))}function ae(i,r,o){if(i.tag===3)M_(i,i,o);else for(;r!==null;){if(r.tag===3){M_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sr===null||!sr.has(u))){i=Xn(o,i),o=Nv(2),u=Js(r,o,2),u!==null&&(Ov(o,u,r,i),Hr(u,2),Yi(u));break}}r=r.return}}function Mm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new e2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Sm=!0,f.add(o),i=a2.bind(null,i,r,o),r.then(i,i))}function a2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,fe===i&&(jt&o)===o&&(Ae===4||Ae===3&&(jt&62914560)===jt&&300>Qe()-dh?(Wt&2)===0&&bo(i,0):Am|=o,To===jt&&(To=0)),Yi(i)}function N_(i,r){r===0&&(r=pc()),i=ia(i,r),i!==null&&(Hr(i,r),Yi(i))}function o2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),N_(i,o)}function l2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),N_(i,o)}function u2(i,r){return Zt(i,r)}var Th=null,Ao=null,Nm=!1,Eh=!1,Om=!1,or=0;function Yi(i){i!==Ao&&i.next===null&&(Ao===null?Th=Ao=i:Ao=Ao.next=i),Eh=!0,Nm||(Nm=!0,h2())}function eu(i,r){if(!Om&&Eh){Om=!0;do for(var o=!1,u=Th;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-Ce(42|i)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,P_(u,m))}else m=jt,m=Ii(u,u===fe?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||li(u,m)||(o=!0,P_(u,m));u=u.next}while(o);Om=!1}}function c2(){O_()}function O_(){Eh=Nm=!1;var i=0;or!==0&&E2()&&(i=or);for(var r=Qe(),o=null,u=Th;u!==null;){var f=u.next,m=V_(u,r);m===0?(u.next=null,o===null?Th=f:o.next=f,f===null&&(Ao=o)):(o=u,(i!==0||(m&3)!==0)&&(Eh=!0)),u=f}qe!==0&&qe!==5||eu(i),or!==0&&(or=0)}function V_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-Ce(m),A=1<<_,V=f[_];V===-1?((A&o)===0||(A&u)!==0)&&(f[_]=ld(A,r)):V<=r&&(i.expiredLanes|=A),m&=~A}if(r=fe,o=jt,o=Ii(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(re===2||re===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&wi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||li(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&wi(u),rs(o)){case 2:case 8:o=Br;break;case 32:o=Ci;break;case 268435456:o=zr;break;default:o=Ci}return u=k_.bind(null,i),o=Zt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&wi(u),i.callbackPriority=2,i.callbackNode=null,2}function k_(i,r){if(qe!==0&&qe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(_h()&&i.callbackNode!==o)return null;var u=jt;return u=Ii(i,i===fe?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(g_(i,u,r),V_(i,Qe()),i.callbackNode!=null&&i.callbackNode===o?k_.bind(null,i):null)}function P_(i,r){if(_h())return null;g_(i,r,!0)}function h2(){S2(function(){(Wt&6)!==0?Zt(ks,c2):O_()})}function Vm(){if(or===0){var i=lo;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),or=i}return or}function L_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ya(""+i)}function U_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function f2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=L_((f[Xe]||null).action),_=u.submitter;_&&(r=(r=_[Xe]||null)?L_(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var A=new Bi("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(or!==0){var V=_?U_(f,_):new FormData(f);tm(o,{pending:!0,data:V,method:f.method,action:m},null,V)}}else typeof m=="function"&&(A.preventDefault(),V=_?U_(f,_):new FormData(f),tm(o,{pending:!0,data:V,method:f.method,action:m},m,V))},currentTarget:f}]})}}for(var km=0;km<yd.length;km++){var Pm=yd[km],d2=Pm.toLowerCase(),m2=Pm[0].toUpperCase()+Pm.slice(1);gi(d2,"on"+m2)}gi(p0,"onAnimationEnd"),gi(g0,"onAnimationIteration"),gi(y0,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Dx,"onTransitionRun"),gi(Mx,"onTransitionStart"),gi(Nx,"onTransitionCancel"),gi(v0,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function j_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var A=u[_],V=A.instance,q=A.currentTarget;if(A=A.listener,V!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch(J){Pc(J)}f.currentTarget=null,m=V}else for(_=0;_<u.length;_++){if(A=u[_],V=A.instance,q=A.currentTarget,A=A.listener,V!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=q;try{m(f)}catch(J){Pc(J)}f.currentTarget=null,m=V}}}}function Ut(i,r){var o=r[Fa];o===void 0&&(o=r[Fa]=new Set);var u=i+"__bubble";o.has(u)||(B_(r,i,2,!1),o.add(u))}function Lm(i,r,o){var u=0;r&&(u|=4),B_(o,i,u,r)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Um(i){if(!i[bh]){i[bh]=!0,ml.forEach(function(o){o!=="selectionchange"&&(p2.has(o)||Lm(o,!1,i),Lm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[bh]||(r[bh]=!0,Lm("selectionchange",!1,r))}}function B_(i,r,o,u){switch(pT(r)){case 2:var f=H2;break;case 8:f=q2;break;default:f=Zm}o=f.bind(null,r,o,i),f=void 0,!Xr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function jm(i,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=u.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Oi(A),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){u=m=_;continue t}A=A.parentNode}}u=u.return}Fs(function(){var q=m,J=Gn(o),it=[];t:{var K=_0.get(i);if(K!==void 0){var X=Bi,vt=i;switch(i){case"keypress":if(Wr(o)===0)break t;case"keydown":case"keyup":X=Oc;break;case"focusin":vt="focus",X=Zr;break;case"focusout":vt="blur",X=Zr;break;case"beforeblur":case"afterblur":X=Zr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case p0:case g0:case y0:X=Cc;break;case v0:X=w;break;case"scroll":case"scrollend":X=Cl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ls;break;case"toggle":case"beforetoggle":X=Vt}var Ct=(r&4)!==0,he=!Ct&&(i==="scroll"||i==="scrollend"),U=Ct?K!==null?K+"Capture":null:K;Ct=[];for(var k=q,H;k!==null;){var et=k;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||U===null||(et=fi(k,U),et!=null&&Ct.push(iu(k,et,H))),he)break;k=k.return}0<Ct.length&&(K=new X(K,vt,null,o,J),it.push({event:K,listeners:Ct}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&o!==Sl&&(vt=o.relatedTarget||o.fromElement)&&(Oi(vt)||vt[Mi]))break t;if((X||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,X?(vt=o.relatedTarget||o.toElement,X=q,vt=vt?Oi(vt):null,vt!==null&&(he=l(vt),Ct=vt.tag,vt!==he||Ct!==5&&Ct!==27&&Ct!==6)&&(vt=null)):(X=null,vt=q),X!==vt)){if(Ct=xl,et="onMouseLeave",U="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(Ct=ls,et="onPointerLeave",U="onPointerEnter",k="pointer"),he=X==null?K:Vn(X),H=vt==null?K:Vn(vt),K=new Ct(et,k+"leave",X,o,J),K.target=he,K.relatedTarget=H,et=null,Oi(J)===q&&(Ct=new Ct(U,k+"enter",vt,o,J),Ct.target=H,Ct.relatedTarget=he,et=Ct),he=et,X&&vt)e:{for(Ct=g2,U=X,k=vt,H=0,et=U;et;et=Ct(et))H++;et=0;for(var bt=k;bt;bt=Ct(bt))et++;for(;0<H-et;)U=Ct(U),H--;for(;0<et-H;)k=Ct(k),et--;for(;H--;){if(U===k||k!==null&&U===k.alternate){Ct=U;break e}U=Ct(U),k=Ct(k)}Ct=null}else Ct=null;X!==null&&z_(it,K,X,Ct,!1),vt!==null&&he!==null&&z_(it,he,vt,Ct,!0)}}t:{if(K=q?Vn(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Qt=s0;else if(n0(K))if(r0)Qt=xx;else{Qt=wx;var _t=Ax}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&Ka(q.elementType)&&(Qt=s0):Qt=Cx;if(Qt&&(Qt=Qt(i,q))){i0(it,Qt,o,J);break t}_t&&_t(i,K,q),i==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Tl(K,"number",K.value)}switch(_t=q?Vn(q):window,i){case"focusin":(n0(_t)||_t.contentEditable==="true")&&(to=_t,md=q,Nl=null);break;case"focusout":Nl=md=to=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,d0(it,o,J);break;case"selectionchange":if(Ix)break;case"keydown":case"keyup":d0(it,o,J)}var Pt;if($t)t:{switch(i){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Za?ta(i,o)&&(Bt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Bt="onCompositionStart");Bt&&(Hi&&o.locale!=="ko"&&(Za||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Za&&(Pt=wl()):(ji=J,Al="value"in ji?ji.value:ji.textContent,Za=!0)),_t=Sh(q,Bt),0<_t.length&&(Bt=new Fi(Bt,i,null,o,J),it.push({event:Bt,listeners:_t}),Pt?Bt.data=Pt:(Pt=Ja(o),Pt!==null&&(Bt.data=Pt)))),(Pt=Yn?Tx(i,o):Ex(i,o))&&(Bt=Sh(q,"onBeforeInput"),0<Bt.length&&(_t=new Fi("onBeforeInput","beforeinput",null,o,J),it.push({event:_t,listeners:Bt}),_t.data=Pt)),f2(it,i,q,o,J)}j_(it,r)})}function iu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Sh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=fi(i,o),f!=null&&u.unshift(iu(i,f,m)),f=fi(i,r),f!=null&&u.push(iu(i,f,m))),i.tag===3)return u;i=i.return}return[]}function g2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function z_(i,r,o,u,f){for(var m=r._reactName,_=[];o!==null&&o!==u;){var A=o,V=A.alternate,q=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||q===null||(V=q,f?(q=fi(o,m),q!=null&&_.unshift(iu(o,q,V))):f||(q=fi(o,m),q!=null&&_.push(iu(o,q,V)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var y2=/\r\n?/g,v2=/\u0000|\uFFFD/g;function F_(i){return(typeof i=="string"?i:""+i).replace(y2,`
`).replace(v2,"")}function H_(i,r){return r=F_(r),F_(i)===r}function ce(i,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||wn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&wn(i,""+u);break;case"className":kn(i,"class",u);break;case"tabIndex":kn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(i,o,u);break;case"style":bl(i,u,m);break;case"data":if(r!=="object"){kn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ya(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&ce(i,r,"name",f.name,f,null),ce(i,r,"formEncType",f.formEncType,f,null),ce(i,r,"formMethod",f.formMethod,f,null),ce(i,r,"formTarget",f.formTarget,f,null)):(ce(i,r,"encType",f.encType,f,null),ce(i,r,"method",f.method,f,null),ce(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ya(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=hi);break;case"onScroll":u!=null&&Ut("scroll",i);break;case"onScrollEnd":u!=null&&Ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ya(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ut("beforetoggle",i),Ut("toggle",i),qa(i,"popover",u);break;case"xlinkActuate":ke(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ke(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ke(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ke(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ke(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ke(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ke(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ke(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ke(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":qa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sc.get(o)||o,qa(i,o,u))}}function Bm(i,r,o,u,f,m){switch(o){case"style":bl(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?wn(i,u):(typeof u=="number"||typeof u=="bigint")&&wn(i,""+u);break;case"onScroll":u!=null&&Ut("scroll",i);break;case"onScrollEnd":u!=null&&Ut("scrollend",i);break;case"onClick":u!=null&&(i.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[Xe]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):qa(i,o,u)}}}function on(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",i),Ut("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ce(i,r,m,_,o,null)}}f&&ce(i,r,"srcSet",o.srcSet,o,null),u&&ce(i,r,"src",o.src,o,null);return;case"input":Ut("invalid",i);var A=m=_=f=null,V=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":_=J;break;case"checked":V=J;break;case"defaultChecked":q=J;break;case"value":m=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:ce(i,r,u,J,o,null)}}Tc(i,m,A,V,q,_,f,!1);return;case"select":Ut("invalid",i),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:ce(i,r,f,A,o,null)}r=m,o=_,i.multiple=!!u,r!=null?Us(i,!!u,r,!1):o!=null&&Us(i,!!u,o,!0);return;case"textarea":Ut("invalid",i),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ce(i,r,_,A,o,null)}js(i,u,f,m);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ce(i,r,V,u,o,null));return;case"dialog":Ut("beforetoggle",i),Ut("toggle",i),Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":Ut("load",i);break;case"video":case"audio":for(u=0;u<nu.length;u++)Ut(nu[u],i);break;case"image":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"embed":case"source":case"link":Ut("error",i),Ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ce(i,r,q,u,o,null)}return;default:if(Ka(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Bm(i,r,J,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ce(i,r,A,u,o,null))}function _2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,V=null,q=null,J=null;for(X in o){var it=o[X];if(o.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=it;default:u.hasOwnProperty(X)||ce(i,r,X,null,u,it)}}for(var K in u){var X=u[K];if(it=o[K],u.hasOwnProperty(K)&&(X!=null||it!=null))switch(K){case"type":m=X;break;case"name":f=X;break;case"checked":q=X;break;case"defaultChecked":J=X;break;case"value":_=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==it&&ce(i,r,K,X,u,it)}}Ga(i,_,A,V,q,J,m,f);return;case"select":X=_=A=K=null;for(m in o)if(V=o[m],o.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(m)||ce(i,r,m,null,u,V)}for(f in u)if(m=u[f],V=o[f],u.hasOwnProperty(f)&&(m!=null||V!=null))switch(f){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==V&&ce(i,r,f,m,u,V)}r=A,o=_,u=X,K!=null?Us(i,!!o,K,!1):!!u!=!!o&&(r!=null?Us(i,!!o,r,!0):Us(i,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ce(i,r,A,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ce(i,r,_,f,u,m)}Ec(i,K,X);return;case"option":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&(vt==="selected"?i.selected=!1:ce(i,r,vt,null,u,K));for(V in u)K=u[V],X=o[V],u.hasOwnProperty(V)&&K!==X&&(K!=null||X!=null)&&(V==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":ce(i,r,V,K,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in o)K=o[Ct],o.hasOwnProperty(Ct)&&K!=null&&!u.hasOwnProperty(Ct)&&ce(i,r,Ct,null,u,K);for(q in u)if(K=u[q],X=o[q],u.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:ce(i,r,q,K,u,X)}return;default:if(Ka(r)){for(var he in o)K=o[he],o.hasOwnProperty(he)&&K!==void 0&&!u.hasOwnProperty(he)&&Bm(i,r,he,void 0,u,K);for(J in u)K=u[J],X=o[J],!u.hasOwnProperty(J)||K===X||K===void 0&&X===void 0||Bm(i,r,J,K,u,X);return}}for(var U in o)K=o[U],o.hasOwnProperty(U)&&K!=null&&!u.hasOwnProperty(U)&&ce(i,r,U,null,u,K);for(it in u)K=u[it],X=o[it],!u.hasOwnProperty(it)||K===X||K==null&&X==null||ce(i,r,it,K,u,X)}function q_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&q_(_)){for(_=0,A=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],q=V.startTime;if(q>A)break;var J=V.transferSize,it=V.initiatorType;J&&q_(it)&&(V=V.responseEnd,_+=J*(V<A?1:(A-q)/(V-q)))}if(--u,r+=8*(m+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var zm=null,Fm=null;function Ah(i){return i.nodeType===9?i:i.ownerDocument}function G_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Hm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qm=null;function E2(){var i=window.event;return i&&i.type==="popstate"?i===qm?!1:(qm=i,!0):(qm=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,b2=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(i){return Q_.resolve(null).then(i).catch(A2)}:Y_;function A2(i){setTimeout(function(){throw i})}function lr(i){return i==="head"}function X_(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Ro(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")su(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,su(o);for(var m=o.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ni]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&su(i.ownerDocument.body);o=f}while(o);Ro(r)}function $_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Gm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gm(o),Ha(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function w2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function C2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ti(i.nextSibling),i===null))return null;return i}function W_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ti(i.nextSibling),i===null))return null;return i}function Km(i){return i.data==="$?"||i.data==="$~"}function Ym(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function x2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ti(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Qm=null;function J_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ti(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Z_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function tT(i,r,o){switch(r=Ah(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function su(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ha(i)}var ei=new Map,eT=new Set;function wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=ut.d;ut.d={f:R2,r:I2,D:D2,C:M2,L:N2,m:O2,X:k2,S:V2,M:P2};function R2(){var i=Ss.f(),r=gh();return i||r}function I2(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?vv(r):Ss.r(i)}var wo=typeof document>"u"?null:document;function nT(i,r,o){var u=wo;if(u&&typeof r=="string"&&r){var f=An(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),eT.has(f)||(eT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),on(r,"link",i),Ve(r),u.head.appendChild(r)))}}function D2(i){Ss.D(i),nT("dns-prefetch",i,null)}function M2(i,r){Ss.C(i,r),nT("preconnect",i,r)}function N2(i,r,o){Ss.L(i,r,o);var u=wo;if(u&&i&&r){var f='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+An(o.imageSizes)+'"]')):f+='[href="'+An(i)+'"]';var m=f;switch(r){case"style":m=Co(i);break;case"script":m=xo(i)}ei.has(m)||(i=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ei.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(ru(m))||r==="script"&&u.querySelector(au(m))||(r=u.createElement("link"),on(r,"link",i),Ve(r),u.head.appendChild(r)))}}function O2(i,r){Ss.m(i,r);var o=wo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xo(i)}if(!ei.has(m)&&(i=T({rel:"modulepreload",href:i},r),ei.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(au(m)))return}u=o.createElement("link"),on(u,"link",i),Ve(u),o.head.appendChild(u)}}}function V2(i,r,o){Ss.S(i,r,o);var u=wo;if(u&&i){var f=Vi(u).hoistableStyles,m=Co(i);r=r||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(ru(m)))A.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ei.get(m))&&Xm(i,o);var V=_=u.createElement("link");Ve(V),on(V,"link",i),V._p=new Promise(function(q,J){V.onload=q,V.onerror=J}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ch(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function k2(i,r){Ss.X(i,r);var o=wo;if(o&&i){var u=Vi(o).hoistableScripts,f=xo(i),m=u.get(f);m||(m=o.querySelector(au(f)),m||(i=T({src:i,async:!0},r),(r=ei.get(f))&&$m(i,r),m=o.createElement("script"),Ve(m),on(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function P2(i,r){Ss.M(i,r);var o=wo;if(o&&i){var u=Vi(o).hoistableScripts,f=xo(i),m=u.get(f);m||(m=o.querySelector(au(f)),m||(i=T({src:i,async:!0,type:"module"},r),(r=ei.get(f))&&$m(i,r),m=o.createElement("script"),Ve(m),on(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function iT(i,r,o,u){var f=(f=mt.current)?wh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Co(o.href),o=Vi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Co(o.href);var m=Vi(f).hoistableStyles,_=m.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=f.querySelector(ru(i)))&&!m._p&&(_.instance=m,_.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),m||L2(f,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xo(o),o=Vi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Co(i){return'href="'+An(i)+'"'}function ru(i){return'link[rel="stylesheet"]['+i+"]"}function sT(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function L2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),on(r,"link",o),Ve(r),i.head.appendChild(r))}function xo(i){return'[src="'+An(i)+'"]'}function au(i){return"script[async]"+i}function rT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return r.instance=u,Ve(u),u;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ve(u),on(u,"style",f),Ch(u,o.precedence,i),r.instance=u;case"stylesheet":f=Co(o.href);var m=i.querySelector(ru(f));if(m)return r.state.loading|=4,r.instance=m,Ve(m),m;u=sT(o),(f=ei.get(f))&&Xm(u,f),m=(i.ownerDocument||i).createElement("link"),Ve(m);var _=m;return _._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),on(m,"link",u),r.state.loading|=4,Ch(m,o.precedence,i),r.instance=m;case"script":return m=xo(o.src),(f=i.querySelector(au(m)))?(r.instance=f,Ve(f),f):(u=o,(f=ei.get(m))&&(u=T({},o),$m(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ve(f),on(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ch(u,o.precedence,i));return r.instance}function Ch(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function $m(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var xh=null;function aT(i,r,o){if(xh===null){var u=new Map,f=xh=new Map;f.set(o,u)}else f=xh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[Ni]||m[Oe]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=i+_;var A=u.get(_);A?A.push(m):u.set(_,[m])}}return u}function oT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function U2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function j2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Co(u.href),m=r.querySelector(ru(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Rh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=m,Ve(m);return}m=r.ownerDocument||r,u=sT(u),(f=ei.get(f))&&Xm(u,f),m=m.createElement("link"),Ve(m);var _=m;_._p=new Promise(function(A,V){_.onload=A,_.onerror=V}),on(m,"link",u),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Rh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Wm=0;function B2(i,r){return i.stylesheets&&i.count===0&&Dh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Dh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&Wm===0&&(Wm=62500*T2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Dh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>Wm?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ih=null;function Dh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ih=new Map,r.forEach(z2,i),Ih=null,Rh.call(i))}function z2(i,r){if(!(r.state.loading&4)){var o=Ih.get(i);if(o)var u=o.get(null);else{o=new Map,Ih.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=Rh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var ou={$$typeof:$,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function F2(i,r,o,u,f,m,_,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function uT(i,r,o,u,f,m,_,A,V,q,J,it){return i=new F2(i,r,o,_,V,q,J,it,A),r=1,m===!0&&(r|=24),m=Ln(3,null,null,r),i.current=m,m.stateNode=i,r=Dd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},Vd(m),i}function cT(i){return i?(i=io,i):io}function hT(i,r,o,u,f,m){f=cT(f),u.context===null?u.context=f:u.pendingContext=f,u=Ws(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Js(i,u,r),o!==null&&(Dn(o,i,r),jl(o,i,r))}function fT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Jm(i,r){fT(i,r),(i=i.alternate)&&fT(i,r)}function dT(i){if(i.tag===13||i.tag===31){var r=ia(i,67108864);r!==null&&Dn(r,i,67108864),Jm(i,67108864)}}function mT(i){if(i.tag===13||i.tag===31){var r=Fn();r=Gr(r);var o=ia(i,r);o!==null&&Dn(o,i,r),Jm(i,r)}}var Mh=!0;function H2(i,r,o,u){var f=W.T;W.T=null;var m=ut.p;try{ut.p=2,Zm(i,r,o,u)}finally{ut.p=m,W.T=f}}function q2(i,r,o,u){var f=W.T;W.T=null;var m=ut.p;try{ut.p=8,Zm(i,r,o,u)}finally{ut.p=m,W.T=f}}function Zm(i,r,o,u){if(Mh){var f=tp(u);if(f===null)jm(i,r,u,Nh,o),gT(i,u);else if(K2(f,i,r,o,u))u.stopPropagation();else if(gT(i,u),r&4&&-1<G2.indexOf(i)){for(;f!==null;){var m=qn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Ri(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var V=1<<31-Ce(_);A.entanglements[1]|=V,_&=~V}Yi(m),(Wt&6)===0&&(mh=Qe()+500,eu(0))}}break;case 31:case 13:A=ia(m,2),A!==null&&Dn(A,m,2),gh(),Jm(m,2)}if(m=tp(u),m===null&&jm(i,r,u,Nh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else jm(i,r,u,null,o)}}function tp(i){return i=Gn(i),ep(i)}var Nh=null;function ep(i){if(Nh=null,i=Oi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Nh=i,null}function pT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case ks:return 2;case Br:return 8;case Ci:case ja:return 32;case zr:return 268435456;default:return 32}default:return 32}}var np=!1,ur=null,cr=null,hr=null,lu=new Map,uu=new Map,fr=[],G2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gT(i,r){switch(i){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":lu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(r.pointerId)}}function cu(i,r,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=qn(r),r!==null&&dT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function K2(i,r,o,u,f){switch(r){case"focusin":return ur=cu(ur,i,r,o,u,f),!0;case"dragenter":return cr=cu(cr,i,r,o,u,f),!0;case"mouseover":return hr=cu(hr,i,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return lu.set(m,cu(lu.get(m)||null,i,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,uu.set(m,cu(uu.get(m)||null,i,r,o,u,f)),!0}return!1}function yT(i){var r=Oi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ui(i.priority,function(){mT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ui(i.priority,function(){mT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=tp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Sl=u,o.target.dispatchEvent(u),Sl=null}else return r=qn(o),r!==null&&dT(r),i.blockedOn=o,!1;r.shift()}return!0}function vT(i,r,o){Oh(i)&&o.delete(r)}function Y2(){np=!1,ur!==null&&Oh(ur)&&(ur=null),cr!==null&&Oh(cr)&&(cr=null),hr!==null&&Oh(hr)&&(hr=null),lu.forEach(vT),uu.forEach(vT)}function Vh(i,r){i.blockedOn===r&&(i.blockedOn=null,np||(np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y2)))}var kh=null;function _T(i){kh!==i&&(kh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kh===i&&(kh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(ep(u||o)===null)continue;break}var m=qn(o);m!==null&&(i.splice(r,3),r-=3,tm(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ro(i){function r(V){return Vh(V,i)}ur!==null&&Vh(ur,i),cr!==null&&Vh(cr,i),hr!==null&&Vh(hr,i),lu.forEach(r),uu.forEach(r);for(var o=0;o<fr.length;o++){var u=fr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fr.length&&(o=fr[0],o.blockedOn===null);)yT(o),o.blockedOn===null&&fr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[Xe]||null;if(typeof m=="function")_||_T(o);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Xe]||null)A=_.formAction;else if(ep(f)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),_T(o)}}}function TT(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function ip(i){this._internalRoot=i}Ph.prototype.render=ip.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Fn();hT(o,u,i,r,null,null)},Ph.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;hT(i.current,2,null,i,null,null),gh(),r[Mi]=null}};function Ph(i){this._internalRoot=i}Ph.prototype.unstable_scheduleHydration=function(i){if(i){var r=gc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<fr.length&&r!==0&&r<fr[o].priority;o++);fr.splice(o,0,i),o===0&&yT(i)}};var ET=t.version;if(ET!=="19.2.3")throw Error(s(527,ET,"19.2.3"));ut.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var Q2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{On=Lh.inject(Q2),en=Lh}catch{}}return fu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Rv,m=Iv,_=Dv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=uT(i,1,!1,null,null,o,u,null,f,m,_,TT),i[Mi]=r.current,Um(i),new ip(r)},fu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",m=Rv,_=Iv,A=Dv,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=uT(i,1,!0,r,o??null,u,f,V,m,_,A,TT),r.context=cT(null),o=r.current,u=Fn(),u=Gr(u),f=Ws(u),f.callback=null,Js(o,f,u),o=u,r.current.lanes=o,Hr(r,o),Yi(r),i[Mi]=r.current,Um(i),new Ph(r)},fu.version="19.2.3",fu}var MT;function sR(){if(MT)return ap.exports;MT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ap.exports=iR(),ap.exports}var rR=sR();const Vg=st.createContext({});function kg(n){const t=st.useRef(null);return t.current===null&&(t.current=n()),t.current}const $b=typeof window<"u",Wb=$b?st.useLayoutEffect:st.useEffect,Bf=st.createContext(null);function Pg(n,t){n.indexOf(t)===-1&&n.push(t)}function Lg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const es=(n,t,e)=>e>t?t:e<n?n:e;let Ug=()=>{};const Is={},Jb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Zb(n){return typeof n=="object"&&n!==null}const tS=n=>/^0[^.\s]+$/u.test(n);function jg(n){let t;return()=>(t===void 0&&(t=n()),t)}const oi=n=>n,aR=(n,t)=>e=>t(n(e)),Wu=(...n)=>n.reduce(aR),Vu=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class Bg{constructor(){this.subscriptions=[]}add(t){return Pg(this.subscriptions,t),()=>Lg(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cs=n=>n*1e3,ai=n=>n/1e3;function eS(n,t){return t?n*(1e3/t):0}const nS=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,oR=1e-7,lR=12;function uR(n,t,e,s,a){let l,c,d=0;do c=t+(e-t)/2,l=nS(c,s,a)-n,l>0?e=c:t=c;while(Math.abs(l)>oR&&++d<lR);return c}function Ju(n,t,e,s){if(n===t&&e===s)return oi;const a=l=>uR(l,0,1,n,e);return l=>l===0||l===1?l:nS(a(l),t,s)}const iS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,sS=n=>t=>1-n(1-t),rS=Ju(.33,1.53,.69,.99),zg=sS(rS),aS=iS(zg),oS=n=>(n*=2)<1?.5*zg(n):.5*(2-Math.pow(2,-10*(n-1))),Fg=n=>1-Math.sin(Math.acos(n)),lS=sS(Fg),uS=iS(Fg),cR=Ju(.42,0,1,1),hR=Ju(0,0,.58,1),cS=Ju(.42,0,.58,1),fR=n=>Array.isArray(n)&&typeof n[0]!="number",hS=n=>Array.isArray(n)&&typeof n[0]=="number",dR={linear:oi,easeIn:cR,easeInOut:cS,easeOut:hR,circIn:Fg,circInOut:uS,circOut:lS,backIn:zg,backInOut:aS,backOut:rS,anticipate:oS},mR=n=>typeof n=="string",NT=n=>{if(hS(n)){Ug(n.length===4);const[t,e,s,a]=n;return Ju(t,e,s,a)}else if(mR(n))return dR[n];return n},Uh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pR(n,t){let e=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,T=!1,S=!1)=>{const L=S&&a?e:s;return T&&c.add(v),L.has(v)||L.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(p),e.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const gR=40;function fS(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=Uh.reduce(($,nt)=>($[nt]=pR(l),$),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:T,preRender:S,render:R,postRender:L}=c,G=()=>{const $=Is.useManualTiming?a.timestamp:performance.now();e=!1,Is.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min($-a.timestamp,gR),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),v.process(a),T.process(a),S.process(a),R.process(a),L.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(G))},B=()=>{e=!0,s=!0,a.isProcessing||n(G)};return{schedule:Uh.reduce(($,nt)=>{const ot=c[nt];return $[nt]=(ct,x=!1,C=!1)=>(e||B(),ot.schedule(ct,x,C)),$},{}),cancel:$=>{for(let nt=0;nt<Uh.length;nt++)c[Uh[nt]].cancel($)},state:a,steps:c}}const{schedule:ge,cancel:Rr,state:ln,steps:cp}=fS(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Qh;function yR(){Qh=void 0}const bn={now:()=>(Qh===void 0&&bn.set(ln.isProcessing||Is.useManualTiming?ln.timestamp:performance.now()),Qh),set:n=>{Qh=n,queueMicrotask(yR)}},dS=n=>t=>typeof t=="string"&&t.startsWith(n),mS=dS("--"),vR=dS("var(--"),Hg=n=>vR(n)?_R.test(n.split("/*")[0].trim()):!1,_R=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function OT(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const el={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ku={...el,transform:n=>es(0,1,n)},jh={...el,default:1},Su=n=>Math.round(n*1e5)/1e5,qg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TR(n){return n==null}const ER=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gg=(n,t)=>e=>!!(typeof e=="string"&&ER.test(e)&&e.startsWith(n)||t&&!TR(e)&&Object.prototype.hasOwnProperty.call(e,t)),pS=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(qg);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},bR=n=>es(0,255,n),hp={...el,transform:n=>Math.round(bR(n))},Ta={test:Gg("rgb","red"),parse:pS("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+hp.transform(n)+", "+hp.transform(t)+", "+hp.transform(e)+", "+Su(ku.transform(s))+")"};function SR(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const jp={test:Gg("#"),parse:SR,transform:Ta.transform},Zu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),pr=Zu("deg"),Xi=Zu("%"),yt=Zu("px"),AR=Zu("vh"),wR=Zu("vw"),VT={...Xi,parse:n=>Xi.parse(n)/100,transform:n=>Xi.transform(n*100)},Vo={test:Gg("hsl","hue"),parse:pS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Xi.transform(Su(t))+", "+Xi.transform(Su(e))+", "+Su(ku.transform(s))+")"},ze={test:n=>Ta.test(n)||jp.test(n)||Vo.test(n),parse:n=>Ta.test(n)?Ta.parse(n):Vo.test(n)?Vo.parse(n):jp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ta.transform(n):Vo.transform(n),getAnimatableNone:n=>{const t=ze.parse(n);return t.alpha=0,ze.transform(t)}},CR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xR(n){return isNaN(n)&&typeof n=="string"&&(n.match(qg)?.length||0)+(n.match(CR)?.length||0)>0}const gS="number",yS="color",RR="var",IR="var(",kT="${}",DR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(DR,p=>(ze.test(p)?(s.color.push(l),a.push(yS),e.push(ze.parse(p))):p.startsWith(IR)?(s.var.push(l),a.push(RR),e.push(p)):(s.number.push(l),a.push(gS),e.push(parseFloat(p))),++l,kT)).split(kT);return{values:e,split:d,indexes:s,types:a}}function vS(n){return Pu(n).values}function _S(n){const{split:t,types:e}=Pu(n),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=e[c];d===gS?l+=Su(a[c]):d===yS?l+=ze.transform(a[c]):l+=a[c]}return l}}const MR=n=>typeof n=="number"?0:ze.test(n)?ze.getAnimatableNone(n):n;function NR(n){const t=vS(n);return _S(n)(t.map(MR))}const Ir={test:xR,parse:vS,createTransformer:_S,getAnimatableNone:NR};function fp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function OR({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;a=fp(p,d,n+1/3),l=fp(p,d,n),c=fp(p,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function hf(n,t){return e=>e>0?t:n}const Ee=(n,t,e)=>n+(t-n)*e,dp=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},VR=[jp,Ta,Vo],kR=n=>VR.find(t=>t.test(n));function PT(n){const t=kR(n);if(!t)return!1;let e=t.parse(n);return t===Vo&&(e=OR(e)),e}const LT=(n,t)=>{const e=PT(n),s=PT(t);if(!e||!s)return hf(n,t);const a={...e};return l=>(a.red=dp(e.red,s.red,l),a.green=dp(e.green,s.green,l),a.blue=dp(e.blue,s.blue,l),a.alpha=Ee(e.alpha,s.alpha,l),Ta.transform(a))},Bp=new Set(["none","hidden"]);function PR(n,t){return Bp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function LR(n,t){return e=>Ee(n,t,e)}function Kg(n){return typeof n=="number"?LR:typeof n=="string"?Hg(n)?hf:ze.test(n)?LT:BR:Array.isArray(n)?TS:typeof n=="object"?ze.test(n)?LT:UR:hf}function TS(n,t){const e=[...n],s=e.length,a=n.map((l,c)=>Kg(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)e[c]=a[c](l);return e}}function UR(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=Kg(n[a])(n[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function jR(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=n.indexes[l][s[l]],d=n.values[c]??0;e[a]=d,s[l]++}return e}const BR=(n,t)=>{const e=Ir.createTransformer(t),s=Pu(n),a=Pu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Bp.has(n)&&!a.values.length||Bp.has(t)&&!s.values.length?PR(n,t):Wu(TS(jR(s,a),a.values),e):hf(n,t)};function ES(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Ee(n,t,e):Kg(n)(n,t)}const zR=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ge.update(t,e),stop:()=>Rr(t),now:()=>ln.isProcessing?ln.timestamp:bn.now()}},bS=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ff=2e4;function Yg(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<ff;)t+=e,s=n.next(t);return t>=ff?1/0:t}function FR(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(Yg(s),ff);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:ai(a)}}const HR=5;function SS(n,t,e){const s=Math.max(t-HR,0);return eS(e-n(s),t-s)}const we={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mp=.001;function qR({duration:n=we.duration,bounce:t=we.bounce,velocity:e=we.velocity,mass:s=we.mass}){let a,l,c=1-t;c=es(we.minDamping,we.maxDamping,c),n=es(we.minDuration,we.maxDuration,ai(n)),c<1?(a=g=>{const v=g*c,T=v*n,S=v-e,R=zp(g,c),L=Math.exp(-T);return mp-S/R*L},l=g=>{const T=g*c*n,S=T*e+e,R=Math.pow(c,2)*Math.pow(g,2)*n,L=Math.exp(-T),G=zp(Math.pow(g,2),c);return(-a(g)+mp>0?-1:1)*((S-R)*L)/G}):(a=g=>{const v=Math.exp(-g*n),T=(g-e)*n+1;return-mp+v*T},l=g=>{const v=Math.exp(-g*n),T=(e-g)*(n*n);return v*T});const d=5/n,p=KR(a,l,d);if(n=Cs(n),isNaN(p))return{stiffness:we.stiffness,damping:we.damping,duration:n};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const GR=12;function KR(n,t,e){let s=e;for(let a=1;a<GR;a++)s=s-n(s)/t(s);return s}function zp(n,t){return n*Math.sqrt(1-t*t)}const YR=["duration","bounce"],QR=["stiffness","damping","mass"];function UT(n,t){return t.some(e=>n[e]!==void 0)}function XR(n){let t={velocity:we.velocity,stiffness:we.stiffness,damping:we.damping,mass:we.mass,isResolvedFromDuration:!1,...n};if(!UT(n,QR)&&UT(n,YR))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*es(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:we.mass,stiffness:a,damping:l}}else{const e=qR(n);t={...t,...e,mass:we.mass},t.isResolvedFromDuration=!0}return t}function df(n=we.visualDuration,t=we.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:v,duration:T,velocity:S,isResolvedFromDuration:R}=XR({...e,velocity:-ai(e.velocity||0)}),L=S||0,G=g/(2*Math.sqrt(p*v)),B=c-l,Y=ai(Math.sqrt(p/v)),tt=Math.abs(B)<5;s||(s=tt?we.restSpeed.granular:we.restSpeed.default),a||(a=tt?we.restDelta.granular:we.restDelta.default);let $;if(G<1){const ot=zp(Y,G);$=ct=>{const x=Math.exp(-G*Y*ct);return c-x*((L+G*Y*B)/ot*Math.sin(ot*ct)+B*Math.cos(ot*ct))}}else if(G===1)$=ot=>c-Math.exp(-Y*ot)*(B+(L+Y*B)*ot);else{const ot=Y*Math.sqrt(G*G-1);$=ct=>{const x=Math.exp(-G*Y*ct),C=Math.min(ot*ct,300);return c-x*((L+G*Y*B)*Math.sinh(C)+ot*B*Math.cosh(C))/ot}}const nt={calculatedDuration:R&&T||null,next:ot=>{const ct=$(ot);if(R)d.done=ot>=T;else{let x=ot===0?L:0;G<1&&(x=ot===0?Cs(L):SS($,ot,ct));const C=Math.abs(x)<=s,I=Math.abs(c-ct)<=a;d.done=C&&I}return d.value=d.done?c:ct,d},toString:()=>{const ot=Math.min(Yg(nt),ff),ct=bS(x=>nt.next(ot*x).value,ot,30);return ot+"ms "+ct},toTransition:()=>{}};return nt}df.applyToOptions=n=>{const t=FR(n,100,df);return n.ease=t.ease,n.duration=Cs(t.duration),n.type="keyframes",n};function Fp({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:v}){const T=n[0],S={done:!1,value:T},R=C=>d!==void 0&&C<d||p!==void 0&&C>p,L=C=>d===void 0?p:p===void 0||Math.abs(d-C)<Math.abs(p-C)?d:p;let G=e*t;const B=T+G,Y=c===void 0?B:c(B);Y!==B&&(G=Y-T);const tt=C=>-G*Math.exp(-C/s),$=C=>Y+tt(C),nt=C=>{const I=tt(C),N=$(C);S.done=Math.abs(I)<=g,S.value=S.done?Y:N};let ot,ct;const x=C=>{R(S.value)&&(ot=C,ct=df({keyframes:[S.value,L(S.value)],velocity:SS($,C,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return x(0),{calculatedDuration:null,next:C=>{let I=!1;return!ct&&ot===void 0&&(I=!0,nt(C),x(C)),ot!==void 0&&C>=ot?ct.next(C-ot):(!I&&nt(C),S)}}}function $R(n,t,e){const s=[],a=e||Is.mix||ES,l=n.length-1;for(let c=0;c<l;c++){let d=a(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||oi:t;d=Wu(p,d)}s.push(d)}return s}function WR(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=n.length;if(Ug(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=$R(t,s,a),p=d.length,g=v=>{if(c&&v<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(v<n[T+1]);T++);const S=Vu(n[T],n[T+1],v);return d[T](S)};return e?v=>g(es(n[0],n[l-1],v)):g}function JR(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=Vu(0,t,s);n.push(Ee(e,1,a))}}function ZR(n){const t=[0];return JR(t,n.length-1),t}function tI(n,t){return n.map(e=>e*t)}function eI(n,t){return n.map(()=>t||cS).splice(0,n.length-1)}function Au({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=fR(s)?s.map(NT):NT(s),l={done:!1,value:t[0]},c=tI(e&&e.length===t.length?e:ZR(t),n),d=WR(c,t,{ease:Array.isArray(a)?a:eI(t,a)});return{calculatedDuration:n,next:p=>(l.value=d(p),l.done=p>=n,l)}}const nI=n=>n!==null;function Qg(n,{repeat:t,repeatType:e="loop"},s,a=1){const l=n.filter(nI),d=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const iI={decay:Fp,inertia:Fp,tween:Au,keyframes:Au,spring:df};function AS(n){typeof n.type=="string"&&(n.type=iI[n.type])}class Xg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const sI=n=>n/100;class $g extends Xg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==bn.now()&&this.tick(bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;AS(t);const{type:e=Au,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const p=e||Au;p!==Au&&typeof d[0]!="number"&&(this.mixKeyframes=Wu(sI,ES(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Yg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:T,repeatType:S,repeatDelay:R,type:L,onUpdate:G,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-g*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?Y<0:Y>a;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,nt=s;if(T){const C=Math.min(this.currentTime,a)/d;let I=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&I--,I=Math.min(I,T+1),I%2&&(S==="reverse"?(N=1-N,R&&(N-=R/d)):S==="mirror"&&(nt=c)),$=es(0,1,N)*d}const ot=tt?{done:!1,value:v[0]}:nt.next($);l&&(ot.value=l(ot.value));let{done:ct}=ot;!tt&&p!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return x&&L!==Fp&&(ot.value=Qg(v,this.options,B,this.speed)),G&&G(ot.value),x&&this.finish(),ot}then(t,e){return this.finished.then(t,e)}get duration(){return ai(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(this.currentTime)}set time(t){t=Cs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(bn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=zR,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function rI(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Ea=n=>n*180/Math.PI,Hp=n=>{const t=Ea(Math.atan2(n[1],n[0]));return qp(t)},aI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Hp,rotateZ:Hp,skewX:n=>Ea(Math.atan(n[1])),skewY:n=>Ea(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},qp=n=>(n=n%360,n<0&&(n+=360),n),jT=Hp,BT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),zT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),oI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BT,scaleY:zT,scale:n=>(BT(n)+zT(n))/2,rotateX:n=>qp(Ea(Math.atan2(n[6],n[5]))),rotateY:n=>qp(Ea(Math.atan2(-n[2],n[0]))),rotateZ:jT,rotate:jT,skewX:n=>Ea(Math.atan(n[4])),skewY:n=>Ea(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Gp(n){return n.includes("scale")?1:0}function Kp(n,t){if(!n||n==="none")return Gp(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=oI,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=aI,a=d}if(!a)return Gp(t);const l=s[t],c=a[1].split(",").map(uI);return typeof l=="function"?l(c):c[l]}const lI=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Kp(e,t)};function uI(n){return parseFloat(n.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(nl),FT=n=>n===el||n===yt,cI=new Set(["x","y","z"]),hI=nl.filter(n=>!cI.has(n));function fI(n){const t=[];return hI.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Er={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Kp(t,"x"),y:(n,{transform:t})=>Kp(t,"y")};Er.translateX=Er.x;Er.translateY=Er.y;const Sa=new Set;let Yp=!1,Qp=!1,Xp=!1;function wS(){if(Qp){const n=Array.from(Sa).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=fI(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Qp=!1,Yp=!1,Sa.forEach(n=>n.complete(Xp)),Sa.clear()}function CS(){Sa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Qp=!0)})}function dI(){Xp=!0,CS(),wS(),Xp=!1}class Wg{constructor(t,e,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Sa.add(this),Yp||(Yp=!0,ge.read(CS),ge.resolveKeyframes(wS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}rI(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sa.delete(this)}cancel(){this.state==="scheduled"&&(Sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mI=n=>n.startsWith("--");function pI(n,t,e){mI(t)?n.style.setProperty(t,e):n.style[t]=e}const gI=jg(()=>window.ScrollTimeline!==void 0),yI={};function vI(n,t){const e=jg(n);return()=>yI[t]??e()}const xS=vI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pu=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,HT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pu([0,.65,.55,1]),circOut:pu([.55,0,1,.45]),backIn:pu([.31,.01,.66,-.59]),backOut:pu([.33,1.53,.69,.99])};function RS(n,t){if(n)return typeof n=="function"?xS()?bS(n,t):"ease-out":hS(n)?pu(n):Array.isArray(n)?n.map(e=>RS(e,t)||HT.easeOut):HT[n]}function _I(n,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const T=RS(d,a);Array.isArray(T)&&(v.easing=T);const S={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(v,S)}function IS(n){return typeof n=="function"&&"applyToOptions"in n}function TI({type:n,...t}){return IS(n)&&xS()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class EI extends Xg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Ug(typeof t.type!="string");const g=TI(t);this.animation=_I(e,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Qg(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):pI(e,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ai(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Cs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&gI()?(this.animation.timeline=t,oi):e(this)}}const DS={anticipate:oS,backInOut:aS,circInOut:uS};function bI(n){return n in DS}function SI(n){typeof n.ease=="string"&&bI(n.ease)&&(n.ease=DS[n.ease])}const pp=10;class AI extends EI{constructor(t){SI(t),AS(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new $g({...c,autoplay:!1}),p=Math.max(pp,bn.now()-this.startTime),g=es(0,pp,p-pp);e.setWithVelocity(d.sample(Math.max(0,p-g)).value,d.sample(p).value,g),d.stop()}}const qT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ir.test(n)||n==="0")&&!n.startsWith("url("));function wI(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function CI(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],c=qT(a,t),d=qT(l,t);return!c||!d?!1:wI(n)||(e==="spring"||IS(e))&&s}function $p(n){n.duration=0,n.type="keyframes"}const xI=new Set(["opacity","clipPath","filter","transform"]),RI=jg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function II(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return RI()&&e&&xI.has(e)&&(e!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const DI=40;class MI extends Xg{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bn.now();const S={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:v,...T},R=v?.KeyframeResolver||Wg;this.keyframeResolver=new R(d,(L,G,B)=>this.onKeyframesResolved(L,G,S,!B),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=bn.now(),CI(t,l,c,d)||((Is.instantAnimations||!p)&&v?.(Qg(t,s,e)),t[0]=t[t.length-1],$p(s),s.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>DI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},R=!g&&II(S)?new AI({...S,element:S.motionValue.owner.current}):new $g(S);R.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const NI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OI(n){const t=NI.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function MS(n,t,e=1){const[s,a]=OI(n);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Jb(c)?parseFloat(c):c}return Hg(a)?MS(a,t,e+1):a}function Jg(n,t){return n?.[t]??n?.default??n}const VI={type:"spring",stiffness:500,damping:25,restSpeed:10},kI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),PI={type:"keyframes",duration:.8},LI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UI=(n,{keyframes:t})=>t.length>2?PI:il.has(n)?n.startsWith("scale")?kI(t[1]):VI:LI;function jI({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const BI=n=>n!==null;function zI(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(BI),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function NS(n,t,e,s=0,a=1){const l=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(l,c):a===1?l*s:d-l*s}const Zg=(n,t,e,s={},a,l)=>c=>{const d=Jg(s,n)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Cs(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:l?void 0:a};jI(d)||Object.assign(v,UI(n,v)),v.duration&&(v.duration=Cs(v.duration)),v.repeatDelay&&(v.repeatDelay=Cs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&($p(v),v.delay===0&&(T=!0)),(Is.instantAnimations||Is.skipAnimations)&&(T=!0,$p(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const S=zI(v.keyframes,d);if(S!==void 0){ge.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new $g(v):new MI(v)},OS=new Set(["width","height","top","left","right","bottom",...nl]),GT=30,FI=n=>!isNaN(parseFloat(n));class HI{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=FI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Bg);const s=this.events[t].add(e);return t==="change"?()=>{s(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,GT);return eS(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(n,t){return new HI(n,t)}function KT(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function ty(n,t,e,s){if(typeof t=="function"){const[a,l]=KT(s);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=KT(s);t=t(e!==void 0?e:n.custom,a,l)}return t}function jo(n,t,e){const s=n.getProps();return ty(s,t,e!==void 0?e:s.custom,n)}const Wp=n=>Array.isArray(n);function qI(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Yo(e))}function GI(n){return Wp(n)?n[n.length-1]||0:n}function KI(n,t){const e=jo(n,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const c in l){const d=GI(l[c]);qI(n,c,d)}}const yn=n=>!!(n&&n.getVelocity);function YI(n){return!!(yn(n)&&n.add)}function Jp(n,t){const e=n.getValue("willChange");if(YI(e))return e.add(t);if(!e&&Is.WillChange){const s=new Is.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function ey(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const QI="framerAppearId",VS="data-"+ey(QI);function kS(n){return n.props[VS]}function XI({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function PS(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const p=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in d){const T=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||g&&XI(g,v))continue;const R={delay:e,...Jg(l||{},v)},L=T.get();if(L!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===L&&!R.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const Y=kS(n);if(Y){const tt=window.MotionHandoffAnimation(Y,v,ge);tt!==null&&(R.startTime=tt,G=!0)}}Jp(n,v),T.start(Zg(v,T,S,n.shouldReduceMotion&&OS.has(v)?{type:!1}:R,n,G));const B=T.animation;B&&p.push(B)}return c&&Promise.all(p).then(()=>{ge.update(()=>{c&&KI(n,c)})}),p}function Zp(n,t,e={}){const s=jo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(PS(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:T}=a;return $I(n,t,p,g,v,T,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(e.delay)])}function $I(n,t,e=0,s=0,a=0,l=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(Zp(p,t,{...c,delay:e+(typeof s=="function"?0:s)+NS(n.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function WI(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Zp(n,l,e));s=Promise.all(a)}else if(typeof t=="string")s=Zp(n,t,e);else{const a=typeof t=="function"?jo(n,t,e.custom):t;s=Promise.all(PS(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const JI={test:n=>n==="auto",parse:n=>n},LS=n=>t=>t.test(n),US=[el,yt,Xi,pr,wR,AR,JI],YT=n=>US.find(LS(n));function ZI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||tS(n):!0}const tD=new Set(["brightness","contrast","saturate","opacity"]);function eD(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(qg)||[];if(!s)return n;const a=e.replace(s,"");let l=tD.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const nD=/\b([a-z-]*)\(.*?\)/gu,tg={...Ir,getAnimatableNone:n=>{const t=n.match(nD);return t?t.map(eD).join(" "):n}},QT={...el,transform:Math.round},iD={rotate:pr,rotateX:pr,rotateY:pr,rotateZ:pr,scale:jh,scaleX:jh,scaleY:jh,scaleZ:jh,skew:pr,skewX:pr,skewY:pr,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:ku,originX:VT,originY:VT,originZ:yt},ny={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,backgroundPositionX:yt,backgroundPositionY:yt,...iD,zIndex:QT,fillOpacity:ku,strokeOpacity:ku,numOctaves:QT},sD={...ny,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:tg,WebkitFilter:tg},jS=n=>sD[n];function BS(n,t){let e=jS(n);return e!==tg&&(e=Ir),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const rD=new Set(["auto","none","0"]);function aD(n,t,e){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!rD.has(l)&&Pu(l).values.length&&(a=n[s]),s++}if(a&&e)for(const l of t)n[l]=BS(e,a)}class oD extends Wg{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){let T=t[v];if(typeof T=="string"&&(T=T.trim(),Hg(T))){const S=MS(T,e.current);S!==void 0&&(t[v]=S),v===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!OS.has(s)||t.length!==2)return;const[a,l]=t,c=YT(a),d=YT(l),p=OT(a),g=OT(l);if(p!==g&&Er[s]){this.needsMeasurement=!0;return}if(c!==d)if(FT(c)&&FT(d))for(let v=0;v<t.length;v++){const T=t[v];typeof T=="string"&&(t[v]=parseFloat(T))}else Er[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||ZI(t[a]))&&s.push(a);s.length&&aD(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Er[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Er[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function lD(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=e?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const zS=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function FS(n){return Zb(n)&&"offsetHeight"in n}const{schedule:iy}=fS(queueMicrotask,!1),Ti={x:!1,y:!1};function HS(){return Ti.x||Ti.y}function uD(n){return n==="x"||n==="y"?Ti[n]?null:(Ti[n]=!0,()=>{Ti[n]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function qS(n,t){const e=lD(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function XT(n){return!(n.pointerType==="touch"||HS())}function cD(n,t,e={}){const[s,a,l]=qS(n,e),c=d=>{if(!XT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=T=>{XT(T)&&(g(T),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const GS=(n,t)=>t?n===t?!0:GS(n,t.parentElement):!1,sy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,hD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KS(n){return hD.has(n.tagName)||n.isContentEditable===!0}const Xh=new WeakSet;function $T(n){return t=>{t.key==="Enter"&&n(t)}}function gp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fD=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=$T(()=>{if(Xh.has(e))return;gp(e,"down");const a=$T(()=>{gp(e,"up")}),l=()=>gp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function WT(n){return sy(n)&&!HS()}function dD(n,t,e={}){const[s,a,l]=qS(n,e),c=d=>{const p=d.currentTarget;if(!WT(d))return;Xh.add(p);const g=t(p,d),v=(R,L)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),Xh.has(p)&&Xh.delete(p),WT(R)&&typeof g=="function"&&g(R,{success:L})},T=R=>{v(R,p===window||p===document||e.useGlobalTarget||GS(p,R.target))},S=R=>{v(R,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),FS(d)&&(d.addEventListener("focus",g=>fD(g,a)),!KS(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function YS(n){return Zb(n)&&"ownerSVGElement"in n}function mD(n){return YS(n)&&n.tagName==="svg"}const pD=[...US,ze,Ir],gD=n=>pD.find(LS(n)),JT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:JT(),y:JT()}),ZT=()=>({min:0,max:0}),Ge=()=>({x:ZT(),y:ZT()}),eg={current:null},QS={current:!1},yD=typeof window<"u";function vD(){if(QS.current=!0,!!yD)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>eg.current=n.matches;n.addEventListener("change",t),t()}else eg.current=!1}const _D=new WeakMap;function zf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Lu(n){return typeof n=="string"||Array.isArray(n)}const ry=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ay=["initial",...ry];function Ff(n){return zf(n.animate)||ay.some(t=>Lu(n[t]))}function XS(n){return!!(Ff(n)||n.variants)}function TD(n,t,e){for(const s in t){const a=t[s],l=e[s];if(yn(a))n.addValue(s,a);else if(yn(l))n.addValue(s,Yo(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,Yo(c!==void 0?c:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const tE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let mf={};function $S(n){mf=n}function ED(){return mf}class bD{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=bn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ge.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Ff(e),this.isVariantNode=XS(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const S in T){const R=T[S];p[S]!==void 0&&yn(R)&&R.set(p[S])}}mount(t){this.current=t,_D.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(QS.current||vD(),this.shouldReduceMotion=eg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=il.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ge.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mf){const e=mf[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<tE.length;s++){const a=tE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=TD(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=Yo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Jb(s)||tS(s))?s=parseFloat(s):!gD(s)&&Ir.test(e)&&(s=BS(t,e)),this.setBaseTarget(t,yn(s)?s.get():s)),yn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const l=ty(this.props,e,this.presenceContext?.custom);l&&(s=l[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!yn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Bg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){iy.render(this.render)}}class Lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class WS extends bD{constructor(){super(...arguments),this.KeyframeResolver=oD}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function JS({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function SD({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function AD(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function yp(n){return n===void 0||n===1}function ng({scale:n,scaleX:t,scaleY:e}){return!yp(n)||!yp(t)||!yp(e)}function ya(n){return ng(n)||ZS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function ZS(n){return eE(n.x)||eE(n.y)}function eE(n){return n&&n!=="0%"}function pf(n,t,e){const s=n-e,a=t*s;return e+a}function nE(n,t,e,s,a){return a!==void 0&&(n=pf(n,a,s)),pf(n,e,s)+t}function ig(n,t=0,e=1,s,a){n.min=nE(n.min,t,e,s,a),n.max=nE(n.max,t,e,s,a)}function tA(n,{x:t,y:e}){ig(n.x,t.translate,t.scale,t.originPoint),ig(n.y,e.translate,e.scale,e.originPoint)}const iE=.999999999999,sE=1.0000000000001;function wD(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=e[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Lo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,tA(n,c)),s&&ya(l.latestValues)&&Lo(n,l.latestValues))}t.x<sE&&t.x>iE&&(t.x=1),t.y<sE&&t.y>iE&&(t.y=1)}function Po(n,t){n.min=n.min+t,n.max=n.max+t}function rE(n,t,e,s,a=.5){const l=Ee(n.min,n.max,a);ig(n,t,e,l,s)}function Lo(n,t){rE(n.x,t.x,t.scaleX,t.scale,t.originX),rE(n.y,t.y,t.scaleY,t.scale,t.originY)}function eA(n,t){return JS(AD(n.getBoundingClientRect(),t))}function CD(n,t,e){const s=eA(n,e),{scroll:a}=t;return a&&(Po(s.x,a.offset.x),Po(s.y,a.offset.y)),s}const xD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RD=nl.length;function ID(n,t,e){let s="",a=!0;for(let l=0;l<RD;l++){const c=nl[l],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||e){const g=zS(d,ny[c]);if(!p){a=!1;const v=xD[c]||c;s+=`${v}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function oy(n,t,e){const{style:s,vars:a,transformOrigin:l}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(il.has(p)){c=!0;continue}else if(mS(p)){a[p]=g;continue}else{const v=zS(g,ny[p]);p.startsWith("origin")?(d=!0,l[p]=v):s[p]=v}}if(t.transform||(c||e?s.transform=ID(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${p} ${g} ${v}`}}function nA(n,{style:t,vars:e},s,a){const l=n.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in e)l.setProperty(c,e[c])}function aE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const du={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=aE(n,t.target.x),s=aE(n,t.target.y);return`${e}% ${s}%`}},DD={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=Ir.parse(n);if(a.length>5)return s;const l=Ir.createTransformer(n),c=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;a[0+c]/=d,a[1+c]/=p;const g=Ee(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},sg={borderRadius:{...du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:du,borderTopRightRadius:du,borderBottomLeftRadius:du,borderBottomRightRadius:du,boxShadow:DD};function iA(n,{layout:t,layoutId:e}){return il.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!sg[n]||n==="opacity")}function ly(n,t,e){const s=n.style,a=t?.style,l={};if(!s)return l;for(const c in s)(yn(s[c])||a&&yn(a[c])||iA(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function MD(n){return window.getComputedStyle(n)}class ND extends WS{constructor(){super(...arguments),this.type="html",this.renderInstance=nA}readValueFromInstance(t,e){if(il.has(e))return this.projection?.isProjecting?Gp(e):lI(t,e);{const s=MD(t),a=(mS(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return eA(t,e)}build(t,e,s){oy(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return ly(t,e,s)}}const OD={offset:"stroke-dashoffset",array:"stroke-dasharray"},VD={offset:"strokeDashoffset",array:"strokeDasharray"};function kD(n,t,e=1,s=0,a=!0){n.pathLength=1;const l=a?OD:VD;n[l.offset]=yt.transform(-s);const c=yt.transform(t),d=yt.transform(e);n[l.array]=`${c} ${d}`}const PD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function sA(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},p,g,v){if(oy(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:S}=n;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete T.transformBox);for(const R of PD)T[R]!==void 0&&(S[R]=T[R],delete T[R]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),s!==void 0&&(T.scale=s),a!==void 0&&kD(T,a,l,c,!1)}const rA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),aA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function LD(n,t,e,s){nA(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(rA.has(a)?a:ey(a),t.attrs[a])}function oA(n,t,e){const s=ly(n,t,e);for(const a in n)if(yn(n[a])||yn(t[a])){const l=nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class UD extends WS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(il.has(e)){const s=jS(e);return s&&s.default||0}return e=rA.has(e)?e:ey(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return oA(t,e,s)}build(t,e,s){sA(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){LD(t,e,s,a)}mount(t){this.isSVGTag=aA(t.tagName),super.mount(t)}}const jD=ay.length;function lA(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?lA(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<jD;e++){const s=ay[e],a=n.props[s];(Lu(a)||a===!1)&&(t[s]=a)}return t}function uA(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const BD=[...ry].reverse(),zD=ry.length;function FD(n){return t=>Promise.all(t.map(({animation:e,options:s})=>WI(n,e,s)))}function HD(n){let t=FD(n),e=oE(),s=!0;const a=p=>(g,v)=>{const T=jo(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:S,transitionEnd:R,...L}=T;g={...g,...L,...R}}return g};function l(p){t=p(n)}function c(p){const{props:g}=n,v=lA(n.parent)||{},T=[],S=new Set;let R={},L=1/0;for(let B=0;B<zD;B++){const Y=BD[B],tt=e[Y],$=g[Y]!==void 0?g[Y]:v[Y],nt=Lu($),ot=Y===p?tt.isActive:null;ot===!1&&(L=B);let ct=$===v[Y]&&$!==g[Y]&&nt;if(ct&&s&&n.manuallyAnimateOnMount&&(ct=!1),tt.protectedKeys={...R},!tt.isActive&&ot===null||!$&&!tt.prevProp||zf($)||typeof $=="boolean")continue;const x=qD(tt.prevProp,$);let C=x||Y===p&&tt.isActive&&!ct&&nt||B>L&&nt,I=!1;const N=Array.isArray($)?$:[$];let O=N.reduce(a(Y),{});ot===!1&&(O={});const{prevResolvedValues:P={}}=tt,M={...P,...O},St=ut=>{C=!0,S.has(ut)&&(I=!0,S.delete(ut)),tt.needsAnimating[ut]=!0;const pt=n.getValue(ut);pt&&(pt.liveStyle=!1)};for(const ut in M){const pt=O[ut],Ot=P[ut];if(R.hasOwnProperty(ut))continue;let j=!1;Wp(pt)&&Wp(Ot)?j=!uA(pt,Ot):j=pt!==Ot,j?pt!=null?St(ut):S.add(ut):pt!==void 0&&S.has(ut)?St(ut):tt.protectedKeys[ut]=!0}tt.prevProp=$,tt.prevResolvedValues=O,tt.isActive&&(R={...R,...O}),s&&n.blockInitialAnimation&&(C=!1);const ne=ct&&x;C&&(!ne||I)&&T.push(...N.map(ut=>{const pt={type:Y};if(typeof ut=="string"&&s&&!ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ot}=n,j=jo(Ot,ut);if(Ot.enteringChildren&&j){const{delayChildren:b}=j.transition||{};pt.delay=NS(Ot.enteringChildren,n,b)}}return{animation:ut,options:pt}}))}if(S.size){const B={};if(typeof g.initial!="boolean"){const Y=jo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Y&&Y.transition&&(B.transition=Y.transition)}S.forEach(Y=>{const tt=n.getBaseTarget(Y),$=n.getValue(Y);$&&($.liveStyle=!0),B[Y]=tt??null}),T.push({animation:B})}let G=!!T.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(G=!1),s=!1,G?t(T):Promise.resolve()}function d(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const T in e)e[T].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>e,reset:()=>{e=oE()}}}function qD(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!uA(t,n):!1}function ga(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oE(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}const cA=1e-4,GD=1-cA,KD=1+cA,hA=.01,YD=0-hA,QD=0+hA;function Sn(n){return n.max-n.min}function XD(n,t,e){return Math.abs(n-t)<=e}function lE(n,t,e,s=.5){n.origin=s,n.originPoint=Ee(t.min,t.max,n.origin),n.scale=Sn(e)/Sn(t),n.translate=Ee(e.min,e.max,n.origin)-n.originPoint,(n.scale>=GD&&n.scale<=KD||isNaN(n.scale))&&(n.scale=1),(n.translate>=YD&&n.translate<=QD||isNaN(n.translate))&&(n.translate=0)}function wu(n,t,e,s){lE(n.x,t.x,e.x,s?s.originX:void 0),lE(n.y,t.y,e.y,s?s.originY:void 0)}function uE(n,t,e){n.min=e.min+t.min,n.max=n.min+Sn(t)}function $D(n,t,e){uE(n.x,t.x,e.x),uE(n.y,t.y,e.y)}function cE(n,t,e){n.min=t.min-e.min,n.max=n.min+Sn(t)}function gf(n,t,e){cE(n.x,t.x,e.x),cE(n.y,t.y,e.y)}function hE(n,t,e,s,a){return n-=t,n=pf(n,1/e,s),a!==void 0&&(n=pf(n,1/a,s)),n}function WD(n,t=0,e=1,s=.5,a,l=n,c=n){if(Xi.test(t)&&(t=parseFloat(t),t=Ee(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ee(l.min,l.max,s);n===l&&(d-=t),n.min=hE(n.min,t,e,d,a),n.max=hE(n.max,t,e,d,a)}function fE(n,t,[e,s,a],l,c){WD(n,t[e],t[s],t[a],t.scale,l,c)}const JD=["x","scaleX","originX"],ZD=["y","scaleY","originY"];function dE(n,t,e,s){fE(n.x,t,JD,e?e.x:void 0,s?s.x:void 0),fE(n.y,t,ZD,e?e.y:void 0,s?s.y:void 0)}function mE(n,t){n.min=t.min,n.max=t.max}function _i(n,t){mE(n.x,t.x),mE(n.y,t.y)}function pE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function gE(n){return n.translate===0&&n.scale===1}function fA(n){return gE(n.x)&&gE(n.y)}function yE(n,t){return n.min===t.min&&n.max===t.max}function tM(n,t){return yE(n.x,t.x)&&yE(n.y,t.y)}function vE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function dA(n,t){return vE(n.x,t.x)&&vE(n.y,t.y)}function _E(n){return Sn(n.x)/Sn(n.y)}function TE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ni(n){return[n("x"),n("y")]}function eM(n,t,e){let s="";const a=n.x.translate/t.x,l=n.y.translate/t.y,c=e?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:T,rotateY:S,skewX:R,skewY:L}=e;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),S&&(s+=`rotateY(${S}deg) `),R&&(s+=`skewX(${R}deg) `),L&&(s+=`skewY(${L}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const mA=["TopLeft","TopRight","BottomLeft","BottomRight"],nM=mA.length,EE=n=>typeof n=="string"?parseFloat(n):n,bE=n=>typeof n=="number"||yt.test(n);function iM(n,t,e,s,a,l){a?(n.opacity=Ee(0,e.opacity??1,sM(s)),n.opacityExit=Ee(t.opacity??1,0,rM(s))):l&&(n.opacity=Ee(t.opacity??1,e.opacity??1,s));for(let c=0;c<nM;c++){const d=`border${mA[c]}Radius`;let p=SE(t,d),g=SE(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||bE(p)===bE(g)?(n[d]=Math.max(Ee(EE(p),EE(g),s),0),(Xi.test(g)||Xi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=Ee(t.rotate||0,e.rotate||0,s))}function SE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const sM=pA(0,.5,lS),rM=pA(.5,.95,oi);function pA(n,t,e){return s=>s<n?0:s>t?1:e(Vu(n,t,s))}function aM(n,t){const e=bn.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&(Rr(s),n(l-t))};return ge.setup(s,!0),()=>Rr(s)}function Uu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function $h(n){return yn(n)?n.get():n}function oM(n,t,e){const s=yn(n)?n:Yo(n);return s.start(Zg("",s,t,e)),s.animation}const lM=(n,t)=>n.depth-t.depth;class uM{constructor(){this.children=[],this.isDirty=!1}add(t){Pg(this.children,t),this.isDirty=!0}remove(t){Lg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lM),this.isDirty=!1,this.children.forEach(t)}}class cM{constructor(){this.members=[]}add(t){Pg(this.members,t),t.scheduleRender()}remove(t){if(Lg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},vp=["","X","Y","Z"],hM=1e3;let fM=0;function _p(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function gA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=kS(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ge,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&gA(s)}function yA({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=fM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pM),this.nodes.forEach(_M),this.nodes.forEach(TM),this.nodes.forEach(gM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new uM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Bg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=YS(c)&&!mD(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v,T=0;const S=()=>this.root.updateBlockedByResize=!1;ge.read(()=>{T=window.innerWidth}),n(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,v&&v(),v=aM(S,250),Wh.hasAnimatedSinceResize&&(Wh.hasAnimatedSinceResize=!1,this.nodes.forEach(CE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||wM,{onLayoutAnimationStart:G,onLayoutAnimationComplete:B}=g.getProps(),Y=!this.targetLayout||!dA(this.targetLayout,R),tt=!T&&S;if(this.options.layoutRoot||this.resumeFrom||tt||T&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Jg(L,"layout"),onPlay:G,onComplete:B};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(v,tt)}else T||CE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vM),this.nodes.forEach(dM),this.nodes.forEach(mM)):this.nodes.forEach(wE),this.clearAllSnapshots();const d=bn.now();ln.delta=es(0,1e3/60,d-ln.timestamp),ln.timestamp=d,ln.isProcessing=!0,cp.update.process(ln),cp.preRender.process(ln),cp.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yM),this.sharedNodes.forEach(bM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!fA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ya(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),CM(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ge();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xM))){const{scroll:g}=this.root;g&&(Po(d.x,g.offset.x),Po(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ge();if(_i(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:T}=g;g!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&_i(d,c),Po(d.x,v.offset.x),Po(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=Ge();_i(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Lo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ya(v.latestValues)&&Lo(p,v.latestValues)}return ya(this.latestValues)&&Lo(p,this.latestValues),p}removeTransform(c){const d=Ge();_i(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ya(g.latestValues))continue;ng(g.latestValues)&&g.updateSnapshot();const v=Ge(),T=g.measurePageBox();_i(v,T),dE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return ya(this.latestValues)&&dE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=ln.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$D(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),tA(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ng(this.parent.latestValues)||ZS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),gf(this.relativeTargetOrigin,d,p),_i(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;_i(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;wD(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ge());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pE(this.prevProjectionDelta.x,this.projectionDelta.x),pE(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!TE(this.projectionDelta.x,this.prevProjectionDelta.x)||!TE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},T=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Ge(),R=p?p.source:void 0,L=this.layout?this.layout.source:void 0,G=R!==L,B=this.getStack(),Y=!B||B.members.length<=1,tt=!!(G&&!Y&&this.options.crossfade===!0&&!this.path.some(AM));this.animationProgress=0;let $;this.mixTargetDelta=nt=>{const ot=nt/1e3;xE(T.x,c.x,ot),xE(T.y,c.y,ot),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SM(this.relativeTarget,this.relativeTargetOrigin,S,ot),$&&tM(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Ge()),_i($,this.relativeTarget)),G&&(this.animationValues=v,iM(v,g,this.latestValues,ot,tt,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ot},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{Wh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yo(0)),this.currentAnimation=oM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&vA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ge();const T=Sn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const S=Sn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}_i(d,p),Lo(d,v),wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new cM),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&_p("z",c,g,this.animationValues);for(let v=0;v<vp.length;v++)_p(`rotate${vp[v]}`,c,g,this.animationValues),_p(`skew${vp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=$h(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=$h(d?.pointerEvents)||""),this.hasProjected&&!ya(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=eM(this.projectionDeltaWithTransform,this.treeScale,v);p&&(T=p(v,T)),c.transform=T;const{x:S,y:R}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in sg){if(v[L]===void 0)continue;const{correct:G,applyTo:B,isCSSVariable:Y}=sg[L],tt=T==="none"?v[L]:G(v[L],g);if(B){const $=B.length;for(let nt=0;nt<$;nt++)c[B[nt]]=tt}else Y?this.options.visualElement.renderState.vars[L]=tt:c[L]=tt}this.options.layoutId&&(c.pointerEvents=g===this?$h(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(AE),this.root.sharedNodes.clear()}}}function dM(n){n.updateLayout()}function mM(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?ni(v=>{const T=l?t.measuredBox[v]:t.layoutBox[v],S=Sn(T);T.min=e[v].min,T.max=T.min+S}):vA(a,t.layoutBox,e)&&ni(v=>{const T=l?t.measuredBox[v]:t.layoutBox[v],S=Sn(e[v]);T.max=T.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=ko();wu(c,e,t.layoutBox);const d=ko();l?wu(d,n.applyTransform(s,!0),t.measuredBox):wu(d,e,t.layoutBox);const p=!fA(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:S}=v;if(T&&S){const R=Ge();gf(R,t.layoutBox,T.layoutBox);const L=Ge();gf(L,e,S.layoutBox),dA(R,L)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=R,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function pM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function gM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function yM(n){n.clearSnapshot()}function AE(n){n.clearMeasurements()}function wE(n){n.isLayoutDirty=!1}function vM(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function CE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function _M(n){n.resolveTargetDelta()}function TM(n){n.calcProjection()}function EM(n){n.resetSkewAndRotation()}function bM(n){n.removeLeadSnapshot()}function xE(n,t,e){n.translate=Ee(t.translate,0,e),n.scale=Ee(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function RE(n,t,e,s){n.min=Ee(t.min,e.min,s),n.max=Ee(t.max,e.max,s)}function SM(n,t,e,s){RE(n.x,t.x,e.x,s),RE(n.y,t.y,e.y,s)}function AM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const wM={duration:.45,ease:[.4,0,.1,1]},IE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),DE=IE("applewebkit/")&&!IE("chrome/")?Math.round:oi;function ME(n){n.min=DE(n.min),n.max=DE(n.max)}function CM(n){ME(n.x),ME(n.y)}function vA(n,t,e){return n==="position"||n==="preserve-aspect"&&!XD(_E(t),_E(e),.2)}function xM(n){return n!==n.root&&n.scroll?.wasRoot}const RM=yA({attachResizeListener:(n,t)=>Uu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tp={current:void 0},_A=yA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Tp.current){const n=new RM({});n.mount(window),n.setOptions({layoutScroll:!0}),Tp.current=n}return Tp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),uy=st.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function NE(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function IM(...n){return t=>{let e=!1;const s=n.map(a=>{const l=NE(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():NE(n[a],null)}}}}function DM(...n){return st.useCallback(IM(...n),n)}class MM extends st.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,a=FS(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NM({children:n,isPresent:t,anchorX:e,root:s}){const a=st.useId(),l=st.useRef(null),c=st.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=st.useContext(uy),p=n.props?.ref??n?.ref,g=DM(l,p);return st.useInsertionEffect(()=>{const{width:v,height:T,top:S,left:R,right:L}=c.current;if(t||!l.current||!v||!T)return;const G=e==="left"?`left: ${R}`:`right: ${L}`;l.current.dataset.motionPopId=a;const B=document.createElement("style");d&&(B.nonce=d);const Y=s??document.head;return Y.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${T}px !important;
            ${G}px !important;
            top: ${S}px !important;
          }
        `),()=>{Y.contains(B)&&Y.removeChild(B)}},[t]),D.jsx(MM,{isPresent:t,childRef:l,sizeRef:c,children:st.cloneElement(n,{ref:g})})}const OM=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const g=kg(VM),v=st.useId();let T=!0,S=st.useMemo(()=>(T=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:R=>{g.set(R,!0);for(const L of g.values())if(!L)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[e,g,s]);return l&&T&&(S={...S}),st.useMemo(()=>{g.forEach((R,L)=>g.set(L,!1))},[e]),st.useEffect(()=>{!e&&!g.size&&s&&s()},[e]),c==="popLayout"&&(n=D.jsx(NM,{isPresent:e,anchorX:d,root:p,children:n})),D.jsx(Bf.Provider,{value:S,children:n})};function VM(){return new Map}function TA(n=!0){const t=st.useContext(Bf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=st.useId();st.useEffect(()=>{if(n)return a(l)},[n]);const c=st.useCallback(()=>n&&s&&s(l),[l,s,n]);return!e&&s?[!1,c]:[!0]}const Bh=n=>n.key||"";function OE(n){const t=[];return st.Children.forEach(n,e=>{st.isValidElement(e)&&t.push(e)}),t}const Dr=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,v]=TA(c),T=st.useMemo(()=>OE(n),[n]),S=c&&!g?[]:T.map(Bh),R=st.useRef(!0),L=st.useRef(T),G=kg(()=>new Map),B=st.useRef(new Set),[Y,tt]=st.useState(T),[$,nt]=st.useState(T);Wb(()=>{R.current=!1,L.current=T;for(let x=0;x<$.length;x++){const C=Bh($[x]);S.includes(C)?(G.delete(C),B.current.delete(C)):G.get(C)!==!0&&G.set(C,!1)}},[$,S.length,S.join("-")]);const ot=[];if(T!==Y){let x=[...T];for(let C=0;C<$.length;C++){const I=$[C],N=Bh(I);S.includes(N)||(x.splice(C,0,I),ot.push(I))}return l==="wait"&&ot.length&&(x=ot),nt(OE(x)),tt(T),null}const{forceRender:ct}=st.useContext(Vg);return D.jsx(D.Fragment,{children:$.map(x=>{const C=Bh(x),I=c&&!g?!1:T===$||S.includes(C),N=()=>{if(B.current.has(C))return;if(B.current.add(C),G.has(C))G.set(C,!0);else return;let O=!0;G.forEach(P=>{P||(O=!1)}),O&&(ct?.(),nt(L.current),c&&v?.(),s&&s())};return D.jsx(OM,{isPresent:I,initial:!R.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:I?void 0:N,anchorX:d,children:x},C)})})},EA=st.createContext({strict:!1}),VE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let kE=!1;function kM(){if(kE)return;const n={};for(const t in VE)n[t]={isEnabled:e=>VE[t].some(s=>!!e[s])};$S(n),kE=!0}function bA(){return kM(),ED()}function PM(n){const t=bA();for(const e in n)t[e]={...t[e],...n[e]};$S(t)}const LM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||LM.has(n)}let SA=n=>!yf(n);function UM(n){typeof n=="function"&&(SA=t=>t.startsWith("on")?!yf(t):n(t))}try{UM(require("@emotion/is-prop-valid").default)}catch{}function jM(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(SA(a)||e===!0&&yf(a)||!t&&!yf(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Hf=st.createContext({});function BM(n,t){if(Ff(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Lu(e)?e:void 0,animate:Lu(s)?s:void 0}}return n.inherit!==!1?t:{}}function zM(n){const{initial:t,animate:e}=BM(n,st.useContext(Hf));return st.useMemo(()=>({initial:t,animate:e}),[PE(t),PE(e)])}function PE(n){return Array.isArray(n)?n.join(" "):n}const cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AA(n,t,e){for(const s in t)!yn(t[s])&&!iA(s,e)&&(n[s]=t[s])}function FM({transformTemplate:n},t){return st.useMemo(()=>{const e=cy();return oy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function HM(n,t){const e=n.style||{},s={};return AA(s,e,n),Object.assign(s,FM(n,t)),s}function qM(n,t){const e={},s=HM(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const wA=()=>({...cy(),attrs:{}});function GM(n,t,e,s){const a=st.useMemo(()=>{const l=wA();return sA(l,t,aA(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};AA(l,n.style,n),a.style={...l,...a.style}}return a}const KM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hy(n){return typeof n!="string"||n.includes("-")?!1:!!(KM.indexOf(n)>-1||/[A-Z]/u.test(n))}function YM(n,t,e,{latestValues:s},a,l=!1,c){const p=(c??hy(n)?GM:qM)(t,s,a,n),g=jM(t,typeof n=="string",l),v=n!==st.Fragment?{...g,...p,ref:e}:{},{children:T}=t,S=st.useMemo(()=>yn(T)?T.get():T,[T]);return st.createElement(n,{...v,children:S})}function QM({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:XM(e,s,a,n),renderState:t()}}function XM(n,t,e,s){const a={},l=s(n,{});for(const S in l)a[S]=$h(l[S]);let{initial:c,animate:d}=n;const p=Ff(n),g=XS(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const T=v?d:c;if(T&&typeof T!="boolean"&&!zf(T)){const S=Array.isArray(T)?T:[T];for(let R=0;R<S.length;R++){const L=ty(n,S[R]);if(L){const{transitionEnd:G,transition:B,...Y}=L;for(const tt in Y){let $=Y[tt];if(Array.isArray($)){const nt=v?$.length-1:0;$=$[nt]}$!==null&&(a[tt]=$)}for(const tt in G)a[tt]=G[tt]}}}return a}const CA=n=>(t,e)=>{const s=st.useContext(Hf),a=st.useContext(Bf),l=()=>QM(n,t,s,a);return e?l():kg(l)},$M=CA({scrapeMotionValuesFromProps:ly,createRenderState:cy}),WM=CA({scrapeMotionValuesFromProps:oA,createRenderState:wA}),JM=Symbol.for("motionComponentSymbol");function ZM(n,t,e){const s=st.useRef(e);st.useInsertionEffect(()=>{s.current=e});const a=st.useRef(null);return st.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const xA=st.createContext({});function gu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function tN(n,t,e,s,a,l){const{visualElement:c}=st.useContext(Hf),d=st.useContext(EA),p=st.useContext(Bf),g=st.useContext(uy).reducedMotion,v=st.useRef(null);s=s||d.renderer,!v.current&&s&&(v.current=s(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:l}));const T=v.current,S=st.useContext(xA);T&&!T.projection&&a&&(T.type==="html"||T.type==="svg")&&eN(v.current,e,a,S);const R=st.useRef(!1);st.useInsertionEffect(()=>{T&&R.current&&T.update(e,p)});const L=e[VS],G=st.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return Wb(()=>{T&&(R.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),G.current&&T.animationState&&T.animationState.animateChanges())}),st.useEffect(()=>{T&&(!G.current&&T.animationState&&T.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),G.current=!1),T.enteringChildren=void 0)}),T}function eN(n,t,e,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:RA(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&gu(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function RA(n){if(n)return n.options.allowProjection!==!1?n.projection:RA(n.parent)}function Ep(n,{forwardMotionProps:t=!1,type:e}={},s,a){s&&PM(s);const l=e?e==="svg":hy(n),c=l?WM:$M;function d(g,v){let T;const S={...st.useContext(uy),...g,layoutId:nN(g)},{isStatic:R}=S,L=zM(g),G=c(g,R);if(!R&&$b){iN();const B=sN(S);T=B.MeasureLayout,L.visualElement=tN(n,G,S,a,B.ProjectionNode,l)}return D.jsxs(Hf.Provider,{value:L,children:[T&&L.visualElement?D.jsx(T,{visualElement:L.visualElement,...S}):null,YM(n,g,ZM(G,L.visualElement,v),G,R,t,l)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=st.forwardRef(d);return p[JM]=n,p}function nN({layoutId:n}){const t=st.useContext(Vg).id;return t&&n!==void 0?t+"-"+n:n}function iN(n,t){st.useContext(EA).strict}function sN(n){const t=bA(),{drag:e,layout:s}=t;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function rN(n,t){if(typeof Proxy>"u")return Ep;const e=new Map,s=(l,c)=>Ep(l,c,n,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(e.has(c)||e.set(c,Ep(c,void 0,n,t)),e.get(c))})}const aN=(n,t)=>t.isSVG??hy(n)?new UD(t):new ND(t,{allowProjection:n!==st.Fragment});class oN extends Lr{constructor(t){super(t),t.animationState||(t.animationState=HD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let lN=0;class uN extends Lr{constructor(){super(...arguments),this.id=lN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const cN={animation:{Feature:oN},exit:{Feature:uN}};function tc(n){return{point:{x:n.pageX,y:n.pageY}}}const hN=n=>t=>sy(t)&&n(t,tc(t));function Cu(n,t,e,s){return Uu(n,t,hN(e),s)}const IA=({current:n})=>n?n.ownerDocument.defaultView:null,LE=(n,t)=>Math.abs(n-t);function fN(n,t){const e=LE(n.x,t.x),s=LE(n.y,t.y);return Math.sqrt(e**2+s**2)}const UE=new Set(["auto","scroll"]);class DA{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Sp(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,G=fN(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!L&&!G)return;const{point:B}=R,{timestamp:Y}=ln;this.history.push({...B,timestamp:Y});const{onStart:tt,onMove:$}=this.handlers;L||(tt&&tt(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,R)},this.handlePointerMove=(R,L)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=bp(L,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(R,L)=>{this.end();const{onEnd:G,onSessionEnd:B,resumeAnimation:Y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Y&&Y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const tt=Sp(R.type==="pointercancel"?this.lastMoveEventInfo:bp(L,this.transformPagePoint),this.history);this.startEvent&&G&&G(R,tt),B&&B(R,tt)},!sy(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const p=tc(t),g=bp(p,this.transformPagePoint),{point:v}=g,{timestamp:T}=ln;this.history=[{...v,timestamp:T}];const{onSessionStart:S}=e;S&&S(t,Sp(g,this.history)),this.removeListeners=Wu(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(UE.has(s.overflowX)||UE.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ge.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rr(this.updatePoint)}}function bp(n,t){return t?{point:t(n.point)}:n}function jE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Sp({point:n},t){return{point:n,delta:jE(n,MA(t)),offset:jE(n,dN(t)),velocity:mN(t,.1)}}function dN(n){return n[0]}function MA(n){return n[n.length-1]}function mN(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=MA(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>Cs(t)));)e--;if(!s)return{x:0,y:0};const l=ai(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function pN(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?Ee(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?Ee(e,n,s.max):Math.min(n,e)),n}function BE(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function gN(n,{top:t,left:e,bottom:s,right:a}){return{x:BE(n.x,e,a),y:BE(n.y,t,s)}}function zE(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function yN(n,t){return{x:zE(n.x,t.x),y:zE(n.y,t.y)}}function vN(n,t){let e=.5;const s=Sn(n),a=Sn(t);return a>s?e=Vu(t.min,t.max-s,n.min):s>a&&(e=Vu(n.min,n.max-a,t.min)),es(0,1,e)}function _N(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const rg=.35;function TN(n=rg){return n===!1?n=0:n===!0&&(n=rg),{x:FE(n,"left","right"),y:FE(n,"top","bottom")}}function FE(n,t,e){return{min:HE(n,t),max:HE(n,e)}}function HE(n,t){return typeof n=="number"?n:n[t]||0}const EN=new WeakMap;class bN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{e?(this.stopAnimation(),this.snapToCursor(tc(T).point)):this.pauseAnimation()},c=(T,S)=>{this.stopAnimation();const{drag:R,dragPropagation:L,onDragStart:G}=this.getProps();if(R&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uD(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(Y=>{let tt=this.getAxisMotionValue(Y).get()||0;if(Xi.test(tt)){const{projection:$}=this.visualElement;if($&&$.layout){const nt=$.layout.layoutBox[Y];nt&&(tt=Sn(nt)*(parseFloat(tt)/100))}}this.originPoint[Y]=tt}),G&&ge.postRender(()=>G(T,S)),Jp(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},d=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:R,dragDirectionLock:L,onDirectionLock:G,onDrag:B}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:Y}=S;if(L&&this.currentDirection===null){this.currentDirection=SN(Y),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",S.point,Y),this.updateAxis("y",S.point,Y),this.visualElement.render(),B&&B(T,S)},p=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ni(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new DA(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:IA(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ge.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!zh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=pN(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&gu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=gN(s.layoutBox,t):this.constraints=!1,this.elastic=TN(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=_N(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!gu(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=CD(s,a.root,this.visualElement.getTransformPagePoint());let c=yN(a.layout.layoutBox,l);if(e){const d=e(SD(c));this.hasMutatedConstraints=!!d,d&&(c=JS(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=ni(v=>{if(!zh(v,e,this.currentDirection))return;let T=p&&p[v]||{};c&&(T={min:0,max:0});const S=a?200:1e6,R=a?40:1e7,L={type:"inertia",velocity:s?t[v]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(v,L)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Jp(this.visualElement,t),s.start(Zg(t,s,0,e,this.visualElement,!1))}stopAnimation(){ni(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ni(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ni(e=>{const{drag:s}=this.getProps();if(!zh(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[e],p=l.get()||0;l.set(t[e]-Ee(c,d,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!gu(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=vN({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(c=>{if(!zh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(Ee(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;EN.set(this.visualElement,this);const t=this.visualElement.current,e=Cu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&!KS(p.target)&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();gu(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ge.read(s);const c=Uu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(ni(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=p[v].translate,T.set(T.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=rg,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function zh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function SN(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class AN extends Lr{constructor(t){super(t),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new bN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const qE=n=>(t,e)=>{n&&ge.postRender(()=>n(t,e))};class wN extends Lr{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(t){this.session=new DA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:qE(t),onStart:qE(e),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ge.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ap=!1;class CN extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),Ap&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Ap=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ge.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;Ap=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NA(n){const[t,e]=TA(),s=st.useContext(Vg);return D.jsx(CN,{...n,layoutGroup:s,switchLayoutGroup:st.useContext(xA),isPresent:t,safeToRemove:e})}const xN={pan:{Feature:wN},drag:{Feature:AN,ProjectionNode:_A,MeasureLayout:NA}};function GE(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&ge.postRender(()=>l(t,tc(t)))}class RN extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=cD(t,(e,s)=>(GE(this.node,s,"Start"),a=>GE(this.node,a,"End"))))}unmount(){}}class IN extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(Uu(this.node.current,"focus",()=>this.onFocus()),Uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KE(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&ge.postRender(()=>l(t,tc(t)))}class DN extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=dD(t,(e,s)=>(KE(this.node,s,"Start"),(a,{success:l})=>KE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ag=new WeakMap,wp=new WeakMap,MN=n=>{const t=ag.get(n.target);t&&t(n)},NN=n=>{n.forEach(MN)};function ON({root:n,...t}){const e=n||document;wp.has(e)||wp.set(e,{});const s=wp.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(NN,{root:n,...t})),s[a]}function VN(n,t,e){const s=ON(t);return ag.set(n,e),s.observe(n),()=>{ag.delete(n),s.unobserve(n)}}const kN={some:0,all:1};class PN extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:kN[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=g?v:T;S&&S(p)};return VN(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(LN(t,e))&&this.startObserver()}unmount(){}}function LN({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const UN={inView:{Feature:PN},tap:{Feature:DN},focus:{Feature:IN},hover:{Feature:RN}},jN={layout:{ProjectionNode:_A,MeasureLayout:NA}},BN={...cN,...UN,...xN,...jN},Gt=rN(BN,aN);const zN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),YE=n=>{const t=FN(n);return t.charAt(0).toUpperCase()+t.slice(1)},OA=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),HN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var qN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GN=st.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},p)=>st.createElement("svg",{ref:p,...qN,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:OA("lucide",a),...!l&&!HN(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>st.createElement(g,v)),...Array.isArray(l)?l:[l]]));const ee=(n,t)=>{const e=st.forwardRef(({className:s,...a},l)=>st.createElement(GN,{ref:l,iconNode:t,className:OA(`lucide-${zN(YE(n))}`,`lucide-${n}`,s),...a}));return e.displayName=YE(n),e};const KN=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],YN=ee("baby",KN);const QN=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],XN=ee("bike",QN);const $N=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WN=ee("calendar",$N);const JN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZN=ee("check",JN);const tO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eO=ee("circle-check-big",tO);const nO=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],iO=ee("cloud",nO);const sO=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],vf=ee("coins",sO);const rO=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],VA=ee("flame",rO);const aO=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],QE=ee("gamepad-2",aO);const oO=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],kA=ee("gift",oO);const lO=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],PA=ee("hammer",lO);const uO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],cO=ee("heart",uO);const hO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],LA=ee("house",hO);const fO=[["path",{d:"m7 11 4.08 10.35a1 1 0 0 0 1.84 0L17 11",key:"1v6356"}],["path",{d:"M17 7A5 5 0 0 0 7 7",key:"151p3v"}],["path",{d:"M17 7a2 2 0 0 1 0 4H7a2 2 0 0 1 0-4",key:"1sdaij"}]],dO=ee("ice-cream-cone",fO);const mO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pO=ee("moon",mO);const gO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],yO=ee("music",gO);const vO=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],_O=ee("party-popper",vO);const TO=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],EO=ee("pizza",TO);const bO=[["path",{d:"M18 8a2 2 0 0 0 0-4 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0 0 4",key:"10td1f"}],["path",{d:"M10 22 9 8",key:"yjptiv"}],["path",{d:"m14 22 1-14",key:"8jwc8b"}],["path",{d:"M20 8c.5 0 .9.4.8 1l-2.6 12c-.1.5-.7 1-1.2 1H7c-.6 0-1.1-.4-1.2-1L3.2 9c-.1-.6.3-1 .8-1Z",key:"1qo33t"}]],SO=ee("popcorn",bO);const AO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wO=ee("refresh-cw",AO);const CO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xO=ee("settings",CO);const RO=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],UA=ee("shopping-bag",RO);const IO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DO=ee("sparkles",IO);const MO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jA=ee("star",MO);const NO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cp=ee("trash-2",NO);const OO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fy=ee("trophy",OO);const VO=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],kO=ee("tv",VO);const PO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LO=ee("user",PO);const UO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],jO=ee("volume-2",UO);const BO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],og=ee("x",BO);var dy={};(function n(t,e,s,a){var l=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!t.OffscreenCanvas)return!1;try{var j=new OffscreenCanvas(1,1),b=j.getContext("2d");b.fillRect(0,0,1,1);var z=j.transferToImageBitmap();b.createPattern(z,"no-repeat")}catch{return!1}return!0})();function p(){}function g(j){var b=e.exports.Promise,z=b!==void 0?b:t.Promise;return typeof z=="function"?new z(j):(j(p,p),null)}var v=(function(j,b){return{transform:function(z){if(j)return z;if(b.has(z))return b.get(z);var Z=new OffscreenCanvas(z.width,z.height),at=Z.getContext("2d");return at.drawImage(z,0,0),b.set(z,Z),Z},clear:function(){b.clear()}}})(d,new Map),T=(function(){var j=Math.floor(16.666666666666668),b,z,Z={},at=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(b=function(ht){var mt=Math.random();return Z[mt]=requestAnimationFrame(function dt(Tt){at===Tt||at+j-1<Tt?(at=Tt,delete Z[mt],ht()):Z[mt]=requestAnimationFrame(dt)}),mt},z=function(ht){Z[ht]&&cancelAnimationFrame(Z[ht])}):(b=function(ht){return setTimeout(ht,j)},z=function(ht){return clearTimeout(ht)}),{frame:b,cancel:z}})(),S=(function(){var j,b,z={};function Z(at){function ht(mt,dt){at.postMessage({options:mt||{},callback:dt})}at.init=function(dt){var Tt=dt.transferControlToOffscreen();at.postMessage({canvas:Tt},[Tt])},at.fire=function(dt,Tt,wt){if(b)return ht(dt,null),b;var Jt=Math.random().toString(36).slice(2);return b=g(function(Yt){function ie(ye){ye.data.callback===Jt&&(delete z[Jt],at.removeEventListener("message",ie),b=null,v.clear(),wt(),Yt())}at.addEventListener("message",ie),ht(dt,Jt),z[Jt]=ie.bind(null,{data:{callback:Jt}})}),b},at.reset=function(){at.postMessage({reset:!0});for(var dt in z)z[dt](),delete z[dt]}}return function(){if(j)return j;if(!s&&l){var at=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([at])))}catch(ht){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ht),null}Z(j)}return j}})(),R={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(j,b){return b?b(j):j}function G(j){return j!=null}function B(j,b,z){return L(j&&G(j[b])?j[b]:R[b],z)}function Y(j){return j<0?0:Math.floor(j)}function tt(j,b){return Math.floor(Math.random()*(b-j))+j}function $(j){return parseInt(j,16)}function nt(j){return j.map(ot)}function ot(j){var b=String(j).replace(/[^0-9a-f]/gi,"");return b.length<6&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),{r:$(b.substring(0,2)),g:$(b.substring(2,4)),b:$(b.substring(4,6))}}function ct(j){var b=B(j,"origin",Object);return b.x=B(b,"x",Number),b.y=B(b,"y",Number),b}function x(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function C(j){var b=j.getBoundingClientRect();j.width=b.width,j.height=b.height}function I(j){var b=document.createElement("canvas");return b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.pointerEvents="none",b.style.zIndex=j,b}function N(j,b,z,Z,at,ht,mt,dt,Tt){j.save(),j.translate(b,z),j.rotate(ht),j.scale(Z,at),j.arc(0,0,1,mt,dt,Tt),j.restore()}function O(j){var b=j.angle*(Math.PI/180),z=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-b+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function P(j,b){b.x+=Math.cos(b.angle2D)*b.velocity+b.drift,b.y+=Math.sin(b.angle2D)*b.velocity+b.gravity,b.velocity*=b.decay,b.flat?(b.wobble=0,b.wobbleX=b.x+10*b.scalar,b.wobbleY=b.y+10*b.scalar,b.tiltSin=0,b.tiltCos=0,b.random=1):(b.wobble+=b.wobbleSpeed,b.wobbleX=b.x+10*b.scalar*Math.cos(b.wobble),b.wobbleY=b.y+10*b.scalar*Math.sin(b.wobble),b.tiltAngle+=.1,b.tiltSin=Math.sin(b.tiltAngle),b.tiltCos=Math.cos(b.tiltAngle),b.random=Math.random()+2);var z=b.tick++/b.totalTicks,Z=b.x+b.random*b.tiltCos,at=b.y+b.random*b.tiltSin,ht=b.wobbleX+b.random*b.tiltCos,mt=b.wobbleY+b.random*b.tiltSin;if(j.fillStyle="rgba("+b.color.r+", "+b.color.g+", "+b.color.b+", "+(1-z)+")",j.beginPath(),c&&b.shape.type==="path"&&typeof b.shape.path=="string"&&Array.isArray(b.shape.matrix))j.fill(ut(b.shape.path,b.shape.matrix,b.x,b.y,Math.abs(ht-Z)*.1,Math.abs(mt-at)*.1,Math.PI/10*b.wobble));else if(b.shape.type==="bitmap"){var dt=Math.PI/10*b.wobble,Tt=Math.abs(ht-Z)*.1,wt=Math.abs(mt-at)*.1,Jt=b.shape.bitmap.width*b.scalar,Yt=b.shape.bitmap.height*b.scalar,ie=new DOMMatrix([Math.cos(dt)*Tt,Math.sin(dt)*Tt,-Math.sin(dt)*wt,Math.cos(dt)*wt,b.x,b.y]);ie.multiplySelf(new DOMMatrix(b.shape.matrix));var ye=j.createPattern(v.transform(b.shape.bitmap),"no-repeat");ye.setTransform(ie),j.globalAlpha=1-z,j.fillStyle=ye,j.fillRect(b.x-Jt/2,b.y-Yt/2,Jt,Yt),j.globalAlpha=1}else if(b.shape==="circle")j.ellipse?j.ellipse(b.x,b.y,Math.abs(ht-Z)*b.ovalScalar,Math.abs(mt-at)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI):N(j,b.x,b.y,Math.abs(ht-Z)*b.ovalScalar,Math.abs(mt-at)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI);else if(b.shape==="star")for(var Dt=Math.PI/2*3,Me=4*b.scalar,He=8*b.scalar,tn=b.x,_n=b.y,oe=5,Zt=Math.PI/oe;oe--;)tn=b.x+Math.cos(Dt)*He,_n=b.y+Math.sin(Dt)*He,j.lineTo(tn,_n),Dt+=Zt,tn=b.x+Math.cos(Dt)*Me,_n=b.y+Math.sin(Dt)*Me,j.lineTo(tn,_n),Dt+=Zt;else j.moveTo(Math.floor(b.x),Math.floor(b.y)),j.lineTo(Math.floor(b.wobbleX),Math.floor(at)),j.lineTo(Math.floor(ht),Math.floor(mt)),j.lineTo(Math.floor(Z),Math.floor(b.wobbleY));return j.closePath(),j.fill(),b.tick<b.totalTicks}function M(j,b,z,Z,at){var ht=b.slice(),mt=j.getContext("2d"),dt,Tt,wt=g(function(Jt){function Yt(){dt=Tt=null,mt.clearRect(0,0,Z.width,Z.height),v.clear(),at(),Jt()}function ie(){s&&!(Z.width===a.width&&Z.height===a.height)&&(Z.width=j.width=a.width,Z.height=j.height=a.height),!Z.width&&!Z.height&&(z(j),Z.width=j.width,Z.height=j.height),mt.clearRect(0,0,Z.width,Z.height),ht=ht.filter(function(ye){return P(mt,ye)}),ht.length?dt=T.frame(ie):Yt()}dt=T.frame(ie),Tt=Yt});return{addFettis:function(Jt){return ht=ht.concat(Jt),wt},canvas:j,promise:wt,reset:function(){dt&&T.cancel(dt),Tt&&Tt()}}}function St(j,b){var z=!j,Z=!!B(b||{},"resize"),at=!1,ht=B(b,"disableForReducedMotion",Boolean),mt=l&&!!B(b||{},"useWorker"),dt=mt?S():null,Tt=z?x:C,wt=j&&dt?!!j.__confetti_initialized:!1,Jt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Yt;function ie(Dt,Me,He){for(var tn=B(Dt,"particleCount",Y),_n=B(Dt,"angle",Number),oe=B(Dt,"spread",Number),Zt=B(Dt,"startVelocity",Number),wi=B(Dt,"decay",Number),hl=B(Dt,"gravity",Number),Ua=B(Dt,"drift",Number),Qe=B(Dt,"colors",nt),ss=B(Dt,"ticks",Number),ks=B(Dt,"shapes"),Br=B(Dt,"scalar"),Ci=!!B(Dt,"flat"),ja=ct(Dt),zr=tn,Ps=[],Ba=j.width*ja.x,On=j.height*ja.y;zr--;)Ps.push(O({x:Ba,y:On,angle:_n,spread:oe,startVelocity:Zt,color:Qe[zr%Qe.length],shape:ks[tt(0,ks.length)],ticks:ss,decay:wi,gravity:hl,drift:Ua,scalar:Br,flat:Ci}));return Yt?Yt.addFettis(Ps):(Yt=M(j,Ps,Tt,Me,He),Yt.promise)}function ye(Dt){var Me=ht||B(Dt,"disableForReducedMotion",Boolean),He=B(Dt,"zIndex",Number);if(Me&&Jt)return g(function(Zt){Zt()});z&&Yt?j=Yt.canvas:z&&!j&&(j=I(He),document.body.appendChild(j)),Z&&!wt&&Tt(j);var tn={width:j.width,height:j.height};dt&&!wt&&dt.init(j),wt=!0,dt&&(j.__confetti_initialized=!0);function _n(){if(dt){var Zt={getBoundingClientRect:function(){if(!z)return j.getBoundingClientRect()}};Tt(Zt),dt.postMessage({resize:{width:Zt.width,height:Zt.height}});return}tn.width=tn.height=null}function oe(){Yt=null,Z&&(at=!1,t.removeEventListener("resize",_n)),z&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,wt=!1)}return Z&&!at&&(at=!0,t.addEventListener("resize",_n,!1)),dt?dt.fire(Dt,tn,oe):ie(Dt,tn,oe)}return ye.reset=function(){dt&&dt.reset(),Yt&&Yt.reset()},ye}var ne;function W(){return ne||(ne=St(null,{useWorker:!0,resize:!0})),ne}function ut(j,b,z,Z,at,ht,mt){var dt=new Path2D(j),Tt=new Path2D;Tt.addPath(dt,new DOMMatrix(b));var wt=new Path2D;return wt.addPath(Tt,new DOMMatrix([Math.cos(mt)*at,Math.sin(mt)*at,-Math.sin(mt)*ht,Math.cos(mt)*ht,z,Z])),wt}function pt(j){if(!c)throw new Error("path confetti are not supported in this browser");var b,z;typeof j=="string"?b=j:(b=j.path,z=j.matrix);var Z=new Path2D(b),at=document.createElement("canvas"),ht=at.getContext("2d");if(!z){for(var mt=1e3,dt=mt,Tt=mt,wt=0,Jt=0,Yt,ie,ye=0;ye<mt;ye+=2)for(var Dt=0;Dt<mt;Dt+=2)ht.isPointInPath(Z,ye,Dt,"nonzero")&&(dt=Math.min(dt,ye),Tt=Math.min(Tt,Dt),wt=Math.max(wt,ye),Jt=Math.max(Jt,Dt));Yt=wt-dt,ie=Jt-Tt;var Me=10,He=Math.min(Me/Yt,Me/ie);z=[He,0,0,He,-Math.round(Yt/2+dt)*He,-Math.round(ie/2+Tt)*He]}return{type:"path",path:b,matrix:z}}function Ot(j){var b,z=1,Z="#000000",at='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?b=j:(b=j.text,z="scalar"in j?j.scalar:z,at="fontFamily"in j?j.fontFamily:at,Z="color"in j?j.color:Z);var ht=10*z,mt=""+ht+"px "+at,dt=new OffscreenCanvas(ht,ht),Tt=dt.getContext("2d");Tt.font=mt;var wt=Tt.measureText(b),Jt=Math.ceil(wt.actualBoundingBoxRight+wt.actualBoundingBoxLeft),Yt=Math.ceil(wt.actualBoundingBoxAscent+wt.actualBoundingBoxDescent),ie=2,ye=wt.actualBoundingBoxLeft+ie,Dt=wt.actualBoundingBoxAscent+ie;Jt+=ie+ie,Yt+=ie+ie,dt=new OffscreenCanvas(Jt,Yt),Tt=dt.getContext("2d"),Tt.font=mt,Tt.fillStyle=Z,Tt.fillText(b,ye,Dt);var Me=1/z;return{type:"bitmap",bitmap:dt.transferToImageBitmap(),matrix:[Me,0,0,Me,-Jt*Me/2,-Yt*Me/2]}}e.exports=function(){return W().apply(this,arguments)},e.exports.reset=function(){W().reset()},e.exports.create=St,e.exports.shapeFromPath=pt,e.exports.shapeFromText=Ot})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),dy,!1);const BA=dy.exports;dy.exports.create;const zO=()=>{};var XE={};const zA=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},FO=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},FA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(S=64)),s.push(e[v],e[T],e[S],e[R])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(zA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):FO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const T=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new HO;const S=l<<2|d>>4;if(s.push(S),g!==64){const R=d<<4&240|g>>2;if(s.push(R),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qO=function(n){const t=zA(n);return FA.encodeByteArray(t,!0)},_f=function(n){return qO(n).replace(/\./g,"")},HA=function(n){try{return FA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function GO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KO=()=>GO().__FIREBASE_DEFAULTS__,YO=()=>{if(typeof process>"u"||typeof XE>"u")return;const n=XE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&HA(n[1]);return t&&JSON.parse(t)},qf=()=>{try{return zO()||KO()||YO()||QO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qA=n=>qf()?.emulatorHosts?.[n],XO=n=>{const t=qA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},GA=()=>qf()?.config,KA=n=>qf()?.[`_${n}`];class $O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function sl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YA(n){return(await fetch(n,{credentials:"include"})).ok}function WO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_f(JSON.stringify(e)),_f(JSON.stringify(c)),""].join(".")}const xu={};function JO(){const n={prod:[],emulator:[]};for(const t of Object.keys(xu))xu[t]?n.emulator.push(t):n.prod.push(t);return n}function ZO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let $E=!1;function QA(n,t){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||xu[n]===t||xu[n]||$E)return;xu[n]=t;function e(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=JO().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{$E=!0,c()},S}function v(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=ZO(s),R=e("text"),L=document.getElementById(R)||document.createElement("span"),G=e("learnmore"),B=document.getElementById(G)||document.createElement("a"),Y=e("preprendIcon"),tt=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;d($),v(B,G);const nt=g();p(tt,Y),$.append(tt,L,B,nt),document.body.appendChild($)}l?(L.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function eV(){const n=qf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rV(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aV(){return!eV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oV(){try{return typeof indexedDB=="object"}catch{return!1}}function lV(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const uV="FirebaseError";class Vs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=uV,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?cV(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Vs(a,d,s)}}function cV(n,t){return n.replace(hV,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const hV=/\{\$([^}]+)}/g;function fV(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ca(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],c=t[a];if(WE(l)&&WE(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function WE(n){return n!==null&&typeof n=="object"}function nc(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function yu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function vu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function dV(n,t){const e=new mV(n,t);return e.subscribe.bind(e)}class mV{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");pV(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=xp),a.error===void 0&&(a.error=xp),a.complete===void 0&&(a.complete=xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pV(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function xp(){}function Nn(n){return n&&n._delegate?n._delegate:n}class xa{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const va="[DEFAULT]";class gV{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new $O;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vV(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yV(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yV(n){return n===va?void 0:n}function vV(n){return n.instantiationMode==="EAGER"}class _V{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new gV(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zt||(zt={}));const TV={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},EV=zt.INFO,bV={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},SV=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=bV[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class my{constructor(t){this.name=t,this._logLevel=EV,this._logHandler=SV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const AV=(n,t)=>t.some(e=>n instanceof e);let JE,ZE;function wV(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CV(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,lg=new WeakMap,$A=new WeakMap,Rp=new WeakMap,py=new WeakMap;function xV(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(Sr(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&XA.set(e,n)}).catch(()=>{}),py.set(t,n),t}function RV(n){if(lg.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});lg.set(n,t)}let ug={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return lg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||$A.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Sr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function IV(n){ug=n(ug)}function DV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Ip(this),t,...e);return $A.set(s,t.sort?t.sort():[t]),Sr(s)}:CV().includes(n)?function(...t){return n.apply(Ip(this),t),Sr(XA.get(this))}:function(...t){return Sr(n.apply(Ip(this),t))}}function MV(n){return typeof n=="function"?DV(n):(n instanceof IDBTransaction&&RV(n),AV(n,wV())?new Proxy(n,ug):n)}function Sr(n){if(n instanceof IDBRequest)return xV(n);if(Rp.has(n))return Rp.get(n);const t=MV(n);return t!==n&&(Rp.set(n,t),py.set(t,n)),t}const Ip=n=>py.get(n);function NV(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=Sr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Sr(c.result),p.oldVersion,p.newVersion,Sr(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const OV=["get","getKey","getAll","getAllKeys","count"],VV=["put","add","delete","clear"],Dp=new Map;function t1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Dp.get(t))return Dp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=VV.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||OV.includes(e)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&p.done]))[0]};return Dp.set(t,l),l}IV(n=>({...n,get:(t,e,s)=>t1(t,e)||n.get(t,e,s),has:(t,e)=>!!t1(t,e)||n.has(t,e)}));class kV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(PV(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function PV(n){return n.getComponent()?.type==="VERSION"}const cg="@firebase/app",e1="0.14.7";const Ds=new my("@firebase/app"),LV="@firebase/app-compat",UV="@firebase/analytics-compat",jV="@firebase/analytics",BV="@firebase/app-check-compat",zV="@firebase/app-check",FV="@firebase/auth",HV="@firebase/auth-compat",qV="@firebase/database",GV="@firebase/data-connect",KV="@firebase/database-compat",YV="@firebase/functions",QV="@firebase/functions-compat",XV="@firebase/installations",$V="@firebase/installations-compat",WV="@firebase/messaging",JV="@firebase/messaging-compat",ZV="@firebase/performance",t4="@firebase/performance-compat",e4="@firebase/remote-config",n4="@firebase/remote-config-compat",i4="@firebase/storage",s4="@firebase/storage-compat",r4="@firebase/firestore",a4="@firebase/ai",o4="@firebase/firestore-compat",l4="firebase",u4="12.8.0";const hg="[DEFAULT]",c4={[cg]:"fire-core",[LV]:"fire-core-compat",[jV]:"fire-analytics",[UV]:"fire-analytics-compat",[zV]:"fire-app-check",[BV]:"fire-app-check-compat",[FV]:"fire-auth",[HV]:"fire-auth-compat",[qV]:"fire-rtdb",[GV]:"fire-data-connect",[KV]:"fire-rtdb-compat",[YV]:"fire-fn",[QV]:"fire-fn-compat",[XV]:"fire-iid",[$V]:"fire-iid-compat",[WV]:"fire-fcm",[JV]:"fire-fcm-compat",[ZV]:"fire-perf",[t4]:"fire-perf-compat",[e4]:"fire-rc",[n4]:"fire-rc-compat",[i4]:"fire-gcs",[s4]:"fire-gcs-compat",[r4]:"fire-fst",[o4]:"fire-fst-compat",[a4]:"fire-vertex","fire-js":"fire-js",[l4]:"fire-js-all"};const Tf=new Map,h4=new Map,fg=new Map;function n1(n,t){try{n.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Qo(n){const t=n.name;if(fg.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;fg.set(t,n);for(const e of Tf.values())n1(e,n);for(const e of h4.values())n1(e,n);return!0}function gy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ii(n){return n==null?!1:n.settings!==void 0}const f4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new ec("app","Firebase",f4);class d4{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const rl=u4;function WA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:hg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Ar.create("bad-app-name",{appName:String(a)});if(e||(e=GA()),!e)throw Ar.create("no-options");const l=Tf.get(a);if(l){if(Ca(e,l.options)&&Ca(s,l.config))return l;throw Ar.create("duplicate-app",{appName:a})}const c=new _V(a);for(const p of fg.values())c.addComponent(p);const d=new d4(e,s,c);return Tf.set(a,d),d}function JA(n=hg){const t=Tf.get(n);if(!t&&n===hg&&GA())return WA();if(!t)throw Ar.create("no-app",{appName:n});return t}function wr(n,t,e){let s=c4[n]??n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(c.join(" "));return}Qo(new xa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const m4="firebase-heartbeat-database",p4=1,ju="firebase-heartbeat-store";let Mp=null;function ZA(){return Mp||(Mp=NV(m4,p4,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ju)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ar.create("idb-open",{originalErrorMessage:n.message})})),Mp}async function g4(n){try{const e=(await ZA()).transaction(ju),s=await e.objectStore(ju).get(tw(n));return await e.done,s}catch(t){if(t instanceof Vs)Ds.warn(t.message);else{const e=Ar.create("idb-get",{originalErrorMessage:t?.message});Ds.warn(e.message)}}}async function i1(n,t){try{const s=(await ZA()).transaction(ju,"readwrite");await s.objectStore(ju).put(t,tw(n)),await s.done}catch(e){if(e instanceof Vs)Ds.warn(e.message);else{const s=Ar.create("idb-set",{originalErrorMessage:e?.message});Ds.warn(s.message)}}}function tw(n){return`${n.name}!${n.options.appId}`}const y4=1024,v4=30;class _4{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new E4(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>v4){const a=b4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s1(),{heartbeatsToSend:e,unsentEntries:s}=T4(this._heartbeatsCache.heartbeats),a=_f(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ds.warn(t),""}}}function s1(){return new Date().toISOString().substring(0,10)}function T4(n,t=y4){const e=[];let s=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),r1(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),r1(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class E4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oV()?lV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await g4(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return i1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return i1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function r1(n){return _f(JSON.stringify({version:2,heartbeats:n})).length}function b4(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function S4(n){Qo(new xa("platform-logger",t=>new kV(t),"PRIVATE")),Qo(new xa("heartbeat",t=>new _4(t),"PRIVATE")),wr(cg,e1,n),wr(cg,e1,"esm2020"),wr("fire-js","")}S4("");var A4="firebase",w4="12.8.0";wr(A4,w4,"app");function ew(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C4=ew,nw=new ec("auth","Firebase",ew());const Ef=new my("@firebase/auth");function x4(n,...t){Ef.logLevel<=zt.WARN&&Ef.warn(`Auth (${rl}): ${n}`,...t)}function Jh(n,...t){Ef.logLevel<=zt.ERROR&&Ef.error(`Auth (${rl}): ${n}`,...t)}function Ai(n,...t){throw yy(n,...t)}function $i(n,...t){return yy(n,...t)}function iw(n,t,e){const s={...C4(),[t]:e};return new ec("auth","Firebase",s).create(t,{appName:n.name})}function xs(n){return iw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return nw.create(n,...t)}function xt(n,t,...e){if(!n)throw yy(t,...e)}function As(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Jh(t),new Error(t)}function Ms(n,t){n||As(t)}function dg(){return typeof self<"u"&&self.location?.href||""}function R4(){return a1()==="http:"||a1()==="https:"}function a1(){return typeof self<"u"&&self.location?.protocol||null}function I4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R4()||iV()||"connection"in navigator)?navigator.onLine:!0}function D4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ic{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ms(e>t,"Short delay should be less than long delay!"),this.isMobile=tV()||sV()}get(){return I4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vy(n,t){Ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class sw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O4=new ic(3e4,6e4);function Ur(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function jr(n,t,e,s,a={}){return rw(n,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=nc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...l};return nV()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&sl(n.emulatorConfig.host)&&(g.credentials="include"),sw.fetch()(await aw(n,n.config.apiHost,e,d),g)})}async function rw(n,t,e){n._canInitEmulator=!1;const s={...M4,...t};try{const a=new k4(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Fh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Fh(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw iw(n,v,g);Ai(n,v)}}catch(a){if(a instanceof Vs)throw a;Ai(n,"network-request-failed",{message:String(a)})}}async function sc(n,t,e,s,a={}){const l=await jr(n,t,e,s,a);return"mfaPendingCredential"in l&&Ai(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function aw(n,t,e,s){const a=`${t}${e}?${s}`,l=n,c=l.config.emulator?vy(n.config,a):`${n.config.apiScheme}://${a}`;return N4.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function V4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s($i(this.auth,"network-request-failed")),O4.get())})}}function Fh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=$i(n,t,s);return a.customData._tokenResponse=e,a}function o1(n){return n!==void 0&&n.enterprise!==void 0}class P4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return V4(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L4(n,t){return jr(n,"GET","/v2/recaptchaConfig",Ur(n,t))}async function U4(n,t){return jr(n,"POST","/v1/accounts:delete",t)}async function bf(n,t){return jr(n,"POST","/v1/accounts:lookup",t)}function Ru(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function j4(n,t=!1){const e=Nn(n),s=await e.getIdToken(t),a=_y(s);xt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Ru(Np(a.auth_time)),issuedAtTime:Ru(Np(a.iat)),expirationTime:Ru(Np(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Np(n){return Number(n)*1e3}function _y(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=HA(e);return a?JSON.parse(a):(Jh("Failed to decode base64 JWT payload"),null)}catch(a){return Jh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function l1(n){const t=_y(n);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Vs&&B4(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function B4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class z4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sf(n){const t=n.auth,e=await n.getIdToken(),s=await Bu(n,bf(t,{idToken:e}));xt(s?.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?ow(a.providerUserInfo):[],c=H4(n.providerData,l),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new mg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function F4(n){const t=Nn(n);await Sf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function H4(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function ow(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function q4(n,t){const e=await rw(n,{},async()=>{const s=nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await aw(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&sl(n.emulatorConfig.host)&&(p.credentials="include"),sw.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function G4(n,t){return jr(n,"POST","/v2/accounts:revokeToken",Ur(n,t))}class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):l1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const e=l1(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await q4(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,c=new Bo;return s&&(xt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(xt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(xt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return As("not implemented")}}function mr(n,t){xt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ei{constructor({uid:t,auth:e,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Bu(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return j4(this,t)}reload(){return F4(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(xs(this.auth));const t=await this.getIdToken();return await Bu(this,U4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:R,providerData:L,stsTokenManager:G}=e;xt(T&&G,t,"internal-error");const B=Bo.fromJSON(this.name,G);xt(typeof T=="string",t,"internal-error"),mr(s,t.name),mr(a,t.name),xt(typeof S=="boolean",t,"internal-error"),xt(typeof R=="boolean",t,"internal-error"),mr(l,t.name),mr(c,t.name),mr(d,t.name),mr(p,t.name),mr(g,t.name),mr(v,t.name);const Y=new Ei({uid:T,auth:t,email:a,emailVerified:S,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:B,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(Y.providerData=L.map(tt=>({...tt}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(t,e,s=!1){const a=new Bo;a.updateFromServerResponse(e);const l=new Ei({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Sf(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];xt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ow(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Bo;d.updateFromIdToken(s);const p=new Ei({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new mg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const u1=new Map;function ws(n){Ms(n instanceof Function,"Expected a class definition");let t=u1.get(n);return t?(Ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,u1.set(n,t),t)}class lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}lw.type="NONE";const c1=lw;function Zh(n,t,e){return`firebase:${n}:${t}:${e}`}class zo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zh("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await bf(this.auth,{idToken:t}).catch(()=>{});return e?Ei._fromGetAccountInfoResponse(this.auth,e,t):null}return Ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new zo(ws(c1),t,s);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ws(c1);const c=Zh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const S=await bf(t,{idToken:v}).catch(()=>{});if(!S)break;T=await Ei._fromGetAccountInfoResponse(t,S,v)}else T=Ei._fromJSON(t,v);g!==l&&(d=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zo(l,t,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new zo(l,t,s))}}function h1(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mw(t))return"Blackberry";if(pw(t))return"Webos";if(cw(t))return"Safari";if((t.includes("chrome/")||hw(t))&&!t.includes("edge/"))return"Chrome";if(dw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function uw(n=vn()){return/firefox\//i.test(n)}function cw(n=vn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hw(n=vn()){return/crios\//i.test(n)}function fw(n=vn()){return/iemobile/i.test(n)}function dw(n=vn()){return/android/i.test(n)}function mw(n=vn()){return/blackberry/i.test(n)}function pw(n=vn()){return/webos/i.test(n)}function Ty(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function K4(n=vn()){return Ty(n)&&!!window.navigator?.standalone}function Y4(){return rV()&&document.documentMode===10}function gw(n=vn()){return Ty(n)||dw(n)||pw(n)||mw(n)||/windows phone/i.test(n)||fw(n)}function yw(n,t=[]){let e;switch(n){case"Browser":e=h1(vn());break;case"Worker":e=`${h1(vn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${rl}/${s}`}class Q4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((c,d)=>{try{const p=t(l);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function X4(n,t={}){return jr(n,"GET","/v2/passwordPolicy",Ur(n,t))}const $4=6;class W4{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??$4,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class J4{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new Q4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ws(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await bf(this,{idToken:t}),s=await Ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Sf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=D4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(xs(this));const e=t?Nn(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await X4(this),e=new W4(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ec("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await G4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ws(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[ws(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&x4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Oa(n){return Nn(n)}class f1{constructor(t){this.auth=t,this.observer=null,this.addObserver=dV(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z4(n){Gf=n}function vw(n){return Gf.loadJS(n)}function tk(){return Gf.recaptchaEnterpriseScript}function ek(){return Gf.gapiScript}function nk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ik{constructor(){this.enterprise=new sk}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class sk{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const rk="recaptcha-enterprise",_w="NO_RECAPTCHA";class ak{constructor(t){this.type=rk,this.auth=Oa(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{L4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new P4(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;o1(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(_w)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ik().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!e&&o1(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tk();p.length!==0&&(p+=d),vw(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function d1(n,t,e,s=!1,a=!1){const l=new ak(n);let c;if(a)c=_w;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function pg(n,t,e,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await d1(n,t,e,e==="getOobCode");return s(n,l)}else return s(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await d1(n,t,e,e==="getOobCode");return s(n,c)}else return Promise.reject(l)})}function ok(n,t){const e=gy(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Ca(l,t??{}))return a;Ai(a,"already-initialized")}return e.initialize({options:t})}function lk(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(ws);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function uk(n,t,e){const s=Oa(n);xt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Tw(t),{host:c,port:d}=ck(t),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){xt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xt(Ca(g,s.config.emulator)&&Ca(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(YA(`${l}//${c}${p}`),QA("Auth",!0)):hk()}function Tw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function ck(n){const t=Tw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:m1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:m1(c)}}}function m1(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function hk(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ey{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return As("not implemented")}_getIdTokenResponse(t){return As("not implemented")}_linkToIdToken(t,e){return As("not implemented")}_getReauthenticationResolver(t){return As("not implemented")}}async function fk(n,t){return jr(n,"POST","/v1/accounts:signUp",t)}async function dk(n,t){return sc(n,"POST","/v1/accounts:signInWithPassword",Ur(n,t))}async function mk(n,t){return sc(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,t))}async function pk(n,t){return sc(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,t))}class zu extends Ey{constructor(t,e,s,a=null){super("password",s),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new zu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new zu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(t,e,"signInWithPassword",dk);case"emailLink":return mk(t,{email:this._email,oobCode:this._password});default:Ai(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(t,s,"signUpPassword",fk);case"emailLink":return pk(t,{idToken:e,email:this._email,oobCode:this._password});default:Ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Fo(n,t){return sc(n,"POST","/v1/accounts:signInWithIdp",Ur(n,t))}const gk="http://localhost";class Ra extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ai("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=e;if(!s||!a)return null;const c=new Ra(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Fo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Fo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Fo(t,e)}buildRequest(){const t={requestUri:gk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=nc(e)}return t}}function yk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vk(n){const t=yu(vu(n)).link,e=t?yu(vu(t)).deep_link_id:null,s=yu(vu(n)).deep_link_id;return(s?yu(vu(s)).link:null)||s||e||t||n}class by{constructor(t){const e=yu(vu(t)),s=e.apiKey??null,a=e.oobCode??null,l=yk(e.mode??null);xt(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=vk(t);try{return new by(e)}catch{return null}}}class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(t,e){return zu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=by.parseLink(e);return xt(s,"argument-error"),zu._fromEmailAndCode(t,s.code,s.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ew{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class rc extends Ew{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yr extends rc{constructor(){super("facebook.com")}static credential(t){return Ra._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class vr extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ra._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return vr.credential(e,s)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";class _r extends rc{constructor(){super("github.com")}static credential(t){return Ra._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class Tr extends rc{constructor(){super("twitter.com")}static credential(t,e){return Ra._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Tr.credential(e,s)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";async function _k(n,t){return sc(n,"POST","/v1/accounts:signUp",Ur(n,t))}class Ia{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await Ei._fromIdTokenResponse(t,s,a),c=p1(s);return new Ia({user:l,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=p1(s);return new Ia({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function p1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Af extends Vs{constructor(t,e,s,a){super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Af(t,e,s,a)}}function bw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(n,l,t,s):l})}async function Tk(n,t,e=!1){const s=await Bu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ia._forOperation(n,"link",s)}async function Ek(n,t,e=!1){const{auth:s}=n;if(ii(s.app))return Promise.reject(xs(s));const a="reauthenticate";try{const l=await Bu(n,bw(s,a,t,n),e);xt(l.idToken,s,"internal-error");const c=_y(l.idToken);xt(c,s,"internal-error");const{sub:d}=c;return xt(n.uid===d,s,"user-mismatch"),Ia._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ai(s,"user-mismatch"),l}}async function Sw(n,t,e=!1){if(ii(n.app))return Promise.reject(xs(n));const s="signIn",a=await bw(n,s,t),l=await Ia._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}async function bk(n,t){return Sw(Oa(n),t)}async function Aw(n){const t=Oa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Sk(n,t,e){if(ii(n.app))return Promise.reject(xs(n));const s=Oa(n),c=await pg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_k).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Aw(n),p}),d=await Ia._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function Ak(n,t,e){return ii(n.app)?Promise.reject(xs(n)):bk(Nn(n),al.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Aw(n),s})}function wk(n,t,e,s){return Nn(n).onIdTokenChanged(t,e,s)}function Ck(n,t,e){return Nn(n).beforeAuthStateChanged(t,e)}function xk(n,t,e,s){return Nn(n).onAuthStateChanged(t,e,s)}function Rk(n){return Nn(n).signOut()}const wf="__sak";class ww{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ik=1e3,Dk=10;class Cw extends ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Y4()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Dk):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},Ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Cw.type="LOCAL";const Mk=Cw;class xw extends ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}xw.type="SESSION";const Rw=xw;function Nk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new Kf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,l)),p=await Nk(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];function Sy(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}class Ok{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Sy("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Wi(){return window}function Vk(n){Wi().location.href=n}function Iw(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function kk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pk(){return navigator?.serviceWorker?.controller||null}function Lk(){return Iw()?self:null}const Dw="firebaseLocalStorageDb",Uk=1,Cf="firebaseLocalStorage",Mw="fbase_key";class ac{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Yf(n,t){return n.transaction([Cf],t?"readwrite":"readonly").objectStore(Cf)}function jk(){const n=indexedDB.deleteDatabase(Dw);return new ac(n).toPromise()}function gg(){const n=indexedDB.open(Dw,Uk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Cf,{keyPath:Mw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Cf)?t(s):(s.close(),await jk(),t(await gg()))})})}async function g1(n,t,e){const s=Yf(n,!0).put({[Mw]:t,value:e});return new ac(s).toPromise()}async function Bk(n,t){const e=Yf(n,!1).get(t),s=await new ac(e).toPromise();return s===void 0?null:s.value}function y1(n,t){const e=Yf(n,!0).delete(t);return new ac(e).toPromise()}const zk=800,Fk=3;class Nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>Fk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(Lk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kk(),!this.activeServiceWorker)return;this.sender=new Ok(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Pk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gg();return await g1(t,wf,"1"),await y1(t,wf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>g1(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>Bk(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>y1(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Yf(a,!1).getAll();return new ac(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nw.type="LOCAL";const Hk=Nw;new ic(3e4,6e4);function qk(n,t){return t?ws(t):(xt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ay extends Ey{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Fo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Fo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Gk(n){return Sw(n.auth,new Ay(n),n.bypassAuthState)}function Kk(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),Ek(e,new Ay(n),n.bypassAuthState)}async function Yk(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),Tk(e,new Ay(n),n.bypassAuthState)}class Ow{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Gk;case"linkViaPopup":case"linkViaRedirect":return Yk;case"reauthViaPopup":case"reauthViaRedirect":return Kk;default:Ai(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qk=new ic(2e3,1e4);class Uo extends Ow{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qk.get())};t()}}Uo.currentPopupAction=null;const Xk="pendingRedirect",tf=new Map;class $k extends Ow{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=tf.get(this.auth._key());if(!t){try{const s=await Wk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}tf.set(this.auth._key(),t)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wk(n,t){const e=tP(t),s=Zk(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function Jk(n,t){tf.set(n._key(),t)}function Zk(n){return ws(n._redirectPersistence)}function tP(n){return Zh(Xk,n.config.apiKey,n.name)}async function eP(n,t,e=!1){if(ii(n.app))return Promise.reject(xs(n));const s=Oa(n),a=qk(s,t),c=await new $k(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const nP=600*1e3;class iP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Vw(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError($i(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nP&&this.cachedEventUids.clear(),this.cachedEventUids.has(v1(t))}saveEventToCache(t){this.cachedEventUids.add(v1(t)),this.lastProcessedEventTime=Date.now()}}function v1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Vw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function sP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vw(n);default:return!1}}async function rP(n,t={}){return jr(n,"GET","/v1/projects",t)}const aP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oP=/^https?/;async function lP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await rP(n);for(const e of t)try{if(uP(e))return}catch{}Ai(n,"unauthorized-domain")}function uP(n){const t=dg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!oP.test(e))return!1;if(aP.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const cP=new ic(3e4,6e4);function _1(){const n=Wi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function hP(n){return new Promise((t,e)=>{function s(){_1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_1(),e($i(n,"network-request-failed"))},timeout:cP.get()})}if(Wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const a=nk("iframefcb");return Wi()[a]=()=>{gapi.load?s():e($i(n,"network-request-failed"))},vw(`${ek()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw ef=null,t})}let ef=null;function fP(n){return ef=ef||hP(n),ef}const dP=new ic(5e3,15e3),mP="__/auth/iframe",pP="emulator/auth/iframe",gP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vP(n){const t=n.config;xt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?vy(t,pP):`https://${n.config.authDomain}/${mP}`,s={apiKey:t.apiKey,appName:n.name,v:rl},a=yP.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${nc(s).slice(1)}`}async function _P(n){const t=await fP(n),e=Wi().gapi;return xt(e,n,"internal-error"),t.open({where:document.body,url:vP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=$i(n,"network-request-failed"),d=Wi().setTimeout(()=>{l(c)},dP.get());function p(){Wi().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}const TP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EP=500,bP=600,SP="_blank",AP="http://localhost";class T1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wP(n,t,e,s=EP,a=bP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...TP,width:s.toString(),height:a.toString(),top:l,left:c},g=vn().toLowerCase();e&&(d=hw(g)?SP:e),uw(g)&&(t=t||AP,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[R,L])=>`${S}${R}=${L},`,"");if(K4(g)&&d!=="_self")return CP(t||"",d),new T1(null);const T=window.open(t||"",d,v);xt(T,n,"popup-blocked");try{T.focus()}catch{}return new T1(T)}function CP(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}const xP="__/auth/handler",RP="emulator/auth/handler",IP=encodeURIComponent("fac");async function E1(n,t,e,s,a,l){xt(n.config.authDomain,n,"auth-domain-config-required"),xt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:rl,eventId:a};if(t instanceof Ew){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",fV(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof rc){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${IP}=${encodeURIComponent(p)}`:"";return`${DP(n)}?${nc(d).slice(1)}${g}`}function DP({config:n}){return n.emulator?vy(n,RP):`https://${n.authDomain}/${xP}`}const Op="webStorageSupport";class MP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rw,this._completeRedirectFn=eP,this._overrideRedirectResult=Jk}async _openPopup(t,e,s,a){Ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await E1(t,e,s,dg(),a);return wP(t,l,Sy())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await E1(t,e,s,dg(),a);return Vk(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await _P(t),s=new iP(t);return e.register("authEvent",a=>(xt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Op,{type:Op},a=>{const l=a?.[0]?.[Op];l!==void 0&&e(!!l),Ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=lP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return gw()||cw()||Ty()}}const NP=MP;var b1="@firebase/auth",S1="1.12.0";class OP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kP(n){Qo(new xa("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;xt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yw(n)},g=new J4(s,a,l,p);return lk(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Qo(new xa("auth-internal",t=>{const e=Oa(t.getProvider("auth").getImmediate());return(s=>new OP(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(b1,S1,VP(n)),wr(b1,S1,"esm2020")}const PP=300,LP=KA("authIdTokenMaxAge")||PP;let A1=null;const UP=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>LP)return;const a=e?.token;A1!==a&&(A1=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function jP(n=JA()){const t=gy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=ok(n,{popupRedirectResolver:NP,persistence:[Hk,Mk,Rw]}),s=KA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=UP(l.toString());Ck(e,c,()=>c(e.currentUser)),wk(e,d=>c(d))}}const a=qA("auth");return a&&uk(e,`http://${a}`),e}function BP(){return document.getElementsByTagName("head")?.[0]??document}Z4({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=$i("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",BP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kP("Browser");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cr,kw;(function(){var n;function t(x,C){function I(){}I.prototype=C.prototype,x.F=C.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(N,O,P){for(var M=Array(arguments.length-2),St=2;St<arguments.length;St++)M[St-2]=arguments[St];return C.prototype[O].apply(N,M)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,C,I){I||(I=0);const N=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)N[O]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(O=0;O<16;++O)N[O]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=x.g[0],I=x.g[1],O=x.g[2];let P=x.g[3],M;M=C+(P^I&(O^P))+N[0]+3614090360&4294967295,C=I+(M<<7&4294967295|M>>>25),M=P+(O^C&(I^O))+N[1]+3905402710&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(I^P&(C^I))+N[2]+606105819&4294967295,O=P+(M<<17&4294967295|M>>>15),M=I+(C^O&(P^C))+N[3]+3250441966&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(P^I&(O^P))+N[4]+4118548399&4294967295,C=I+(M<<7&4294967295|M>>>25),M=P+(O^C&(I^O))+N[5]+1200080426&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(I^P&(C^I))+N[6]+2821735955&4294967295,O=P+(M<<17&4294967295|M>>>15),M=I+(C^O&(P^C))+N[7]+4249261313&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(P^I&(O^P))+N[8]+1770035416&4294967295,C=I+(M<<7&4294967295|M>>>25),M=P+(O^C&(I^O))+N[9]+2336552879&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(I^P&(C^I))+N[10]+4294925233&4294967295,O=P+(M<<17&4294967295|M>>>15),M=I+(C^O&(P^C))+N[11]+2304563134&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(P^I&(O^P))+N[12]+1804603682&4294967295,C=I+(M<<7&4294967295|M>>>25),M=P+(O^C&(I^O))+N[13]+4254626195&4294967295,P=C+(M<<12&4294967295|M>>>20),M=O+(I^P&(C^I))+N[14]+2792965006&4294967295,O=P+(M<<17&4294967295|M>>>15),M=I+(C^O&(P^C))+N[15]+1236535329&4294967295,I=O+(M<<22&4294967295|M>>>10),M=C+(O^P&(I^O))+N[1]+4129170786&4294967295,C=I+(M<<5&4294967295|M>>>27),M=P+(I^O&(C^I))+N[6]+3225465664&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(P^C))+N[11]+643717713&4294967295,O=P+(M<<14&4294967295|M>>>18),M=I+(P^C&(O^P))+N[0]+3921069994&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^P&(I^O))+N[5]+3593408605&4294967295,C=I+(M<<5&4294967295|M>>>27),M=P+(I^O&(C^I))+N[10]+38016083&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(P^C))+N[15]+3634488961&4294967295,O=P+(M<<14&4294967295|M>>>18),M=I+(P^C&(O^P))+N[4]+3889429448&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^P&(I^O))+N[9]+568446438&4294967295,C=I+(M<<5&4294967295|M>>>27),M=P+(I^O&(C^I))+N[14]+3275163606&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(P^C))+N[3]+4107603335&4294967295,O=P+(M<<14&4294967295|M>>>18),M=I+(P^C&(O^P))+N[8]+1163531501&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(O^P&(I^O))+N[13]+2850285829&4294967295,C=I+(M<<5&4294967295|M>>>27),M=P+(I^O&(C^I))+N[2]+4243563512&4294967295,P=C+(M<<9&4294967295|M>>>23),M=O+(C^I&(P^C))+N[7]+1735328473&4294967295,O=P+(M<<14&4294967295|M>>>18),M=I+(P^C&(O^P))+N[12]+2368359562&4294967295,I=O+(M<<20&4294967295|M>>>12),M=C+(I^O^P)+N[5]+4294588738&4294967295,C=I+(M<<4&4294967295|M>>>28),M=P+(C^I^O)+N[8]+2272392833&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^I)+N[11]+1839030562&4294967295,O=P+(M<<16&4294967295|M>>>16),M=I+(O^P^C)+N[14]+4259657740&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^P)+N[1]+2763975236&4294967295,C=I+(M<<4&4294967295|M>>>28),M=P+(C^I^O)+N[4]+1272893353&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^I)+N[7]+4139469664&4294967295,O=P+(M<<16&4294967295|M>>>16),M=I+(O^P^C)+N[10]+3200236656&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^P)+N[13]+681279174&4294967295,C=I+(M<<4&4294967295|M>>>28),M=P+(C^I^O)+N[0]+3936430074&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^I)+N[3]+3572445317&4294967295,O=P+(M<<16&4294967295|M>>>16),M=I+(O^P^C)+N[6]+76029189&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(I^O^P)+N[9]+3654602809&4294967295,C=I+(M<<4&4294967295|M>>>28),M=P+(C^I^O)+N[12]+3873151461&4294967295,P=C+(M<<11&4294967295|M>>>21),M=O+(P^C^I)+N[15]+530742520&4294967295,O=P+(M<<16&4294967295|M>>>16),M=I+(O^P^C)+N[2]+3299628645&4294967295,I=O+(M<<23&4294967295|M>>>9),M=C+(O^(I|~P))+N[0]+4096336452&4294967295,C=I+(M<<6&4294967295|M>>>26),M=P+(I^(C|~O))+N[7]+1126891415&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~I))+N[14]+2878612391&4294967295,O=P+(M<<15&4294967295|M>>>17),M=I+(P^(O|~C))+N[5]+4237533241&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~P))+N[12]+1700485571&4294967295,C=I+(M<<6&4294967295|M>>>26),M=P+(I^(C|~O))+N[3]+2399980690&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~I))+N[10]+4293915773&4294967295,O=P+(M<<15&4294967295|M>>>17),M=I+(P^(O|~C))+N[1]+2240044497&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~P))+N[8]+1873313359&4294967295,C=I+(M<<6&4294967295|M>>>26),M=P+(I^(C|~O))+N[15]+4264355552&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~I))+N[6]+2734768916&4294967295,O=P+(M<<15&4294967295|M>>>17),M=I+(P^(O|~C))+N[13]+1309151649&4294967295,I=O+(M<<21&4294967295|M>>>11),M=C+(O^(I|~P))+N[4]+4149444226&4294967295,C=I+(M<<6&4294967295|M>>>26),M=P+(I^(C|~O))+N[11]+3174756917&4294967295,P=C+(M<<10&4294967295|M>>>22),M=O+(C^(P|~I))+N[2]+718787259&4294967295,O=P+(M<<15&4294967295|M>>>17),M=I+(P^(O|~C))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,C){C===void 0&&(C=x.length);const I=C-this.blockSize,N=this.C;let O=this.h,P=0;for(;P<C;){if(O==0)for(;P<=I;)a(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<C;)if(N[O++]=x.charCodeAt(P++),O==this.blockSize){a(this,N),O=0;break}}else for(;P<C;)if(N[O++]=x[P++],O==this.blockSize){a(this,N),O=0;break}}this.h=O,this.o+=C},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;C=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=C&255,C/=256;for(this.v(x),x=Array(16),C=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)x[C++]=this.g[I]>>>N&255;return x};function l(x,C){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=C(x)}function c(x,C){this.h=C;const I=[];let N=!0;for(let O=x.length-1;O>=0;O--){const P=x[O]|0;N&&P==C||(I[O]=P,N=!1)}this.g=I}var d={};function p(x){return-128<=x&&x<128?l(x,function(C){return new c([C|0],C<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return B(g(-x));const C=[];let I=1;for(let N=0;x>=I;N++)C[N]=x/I|0,I*=4294967296;return new c(C,0)}function v(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return B(v(x.substring(1),C));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(C,8));let N=T;for(let P=0;P<x.length;P+=8){var O=Math.min(8,x.length-P);const M=parseInt(x.substring(P,P+O),C);O<8?(O=g(Math.pow(C,O)),N=N.j(O).add(g(M))):(N=N.j(I),N=N.add(g(M)))}return N}var T=p(0),S=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(G(this))return-B(this).m();let x=0,C=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);x+=(N>=0?N:4294967296+N)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(G(this))return"-"+B(this).toString(x);const C=g(Math.pow(x,6));var I=this;let N="";for(;;){const O=nt(I,C).g;I=Y(I,O.j(C));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=O,L(I))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(let C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function G(x){return x.h==-1}n.l=function(x){return x=Y(this,x),G(x)?-1:L(x)?0:1};function B(x){const C=x.g.length,I=[];for(let N=0;N<C;N++)I[N]=~x.g[N];return new c(I,~x.h).add(S)}n.abs=function(){return G(this)?B(this):this},n.add=function(x){const C=Math.max(this.g.length,x.g.length),I=[];let N=0;for(let O=0;O<=C;O++){let P=N+(this.i(O)&65535)+(x.i(O)&65535),M=(P>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);N=M>>>16,P&=65535,M&=65535,I[O]=M<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Y(x,C){return x.add(B(C))}n.j=function(x){if(L(this)||L(x))return T;if(G(this))return G(x)?B(this).j(B(x)):B(B(this).j(x));if(G(x))return B(this.j(B(x)));if(this.l(R)<0&&x.l(R)<0)return g(this.m()*x.m());const C=this.g.length+x.g.length,I=[];for(var N=0;N<2*C;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<x.g.length;O++){const P=this.i(N)>>>16,M=this.i(N)&65535,St=x.i(O)>>>16,ne=x.i(O)&65535;I[2*N+2*O]+=M*ne,tt(I,2*N+2*O),I[2*N+2*O+1]+=P*ne,tt(I,2*N+2*O+1),I[2*N+2*O+1]+=M*St,tt(I,2*N+2*O+1),I[2*N+2*O+2]+=P*St,tt(I,2*N+2*O+2)}for(x=0;x<C;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=C;x<2*C;x++)I[x]=0;return new c(I,0)};function tt(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function $(x,C){this.g=x,this.h=C}function nt(x,C){if(L(C))throw Error("division by zero");if(L(x))return new $(T,T);if(G(x))return C=nt(B(x),C),new $(B(C.g),B(C.h));if(G(C))return C=nt(x,B(C)),new $(B(C.g),C.h);if(x.g.length>30){if(G(x)||G(C))throw Error("slowDivide_ only works with positive integers.");for(var I=S,N=C;N.l(x)<=0;)I=ot(I),N=ot(N);var O=ct(I,1),P=ct(N,1);for(N=ct(N,2),I=ct(I,2);!L(N);){var M=P.add(N);M.l(x)<=0&&(O=O.add(I),P=M),N=ct(N,1),I=ct(I,1)}return C=Y(x,O.j(C)),new $(O,C)}for(O=T;x.l(C)>=0;){for(I=Math.max(1,Math.floor(x.m()/C.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=g(I),M=P.j(C);G(M)||M.l(x)>0;)I-=N,P=g(I),M=P.j(C);L(P)&&(P=S),O=O.add(P),x=Y(x,M)}return new $(O,x)}n.B=function(x){return nt(this,x).h},n.and=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let N=0;N<C;N++)I[N]=this.i(N)&x.i(N);return new c(I,this.h&x.h)},n.or=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let N=0;N<C;N++)I[N]=this.i(N)|x.i(N);return new c(I,this.h|x.h)},n.xor=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let N=0;N<C;N++)I[N]=this.i(N)^x.i(N);return new c(I,this.h^x.h)};function ot(x){const C=x.g.length+1,I=[];for(let N=0;N<C;N++)I[N]=x.i(N)<<1|x.i(N-1)>>>31;return new c(I,x.h)}function ct(x,C){const I=C>>5;C%=32;const N=x.g.length-I,O=[];for(let P=0;P<N;P++)O[P]=C>0?x.i(P+I)>>>C|x.i(P+I+1)<<32-C:x.i(P+I);return new c(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,kw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Cr=c}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pw,_u,Lw,nf,yg,Uw,jw,Bw;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function a(h,y){if(y)t:{var E=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in E))break t;E=E[F]}h=h[h.length-1],w=E[h],y=y(w),y!=w&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,F,Q){for(var ft=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ft[Vt-2]=arguments[Vt];return y.prototype[F].apply(w,ft)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=h[w];return E}return[]}function L(h,y){for(let w=1;w<arguments.length;w++){const F=arguments[w];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const Q=F.length||0;h.length=E+Q;for(let ft=0;ft<Q;ft++)h[E+ft]=F[ft]}else h.push(F)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=x;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,E){const w=$.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var $=new G(()=>new nt,h=>h.reset());class nt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ct=!1,x=new tt,C=()=>{const h=Promise.resolve(void 0);ot=()=>{h.then(I)}};function I(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){B(E)}var y=$;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ct=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function St(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(St,O),St.prototype.init=function(h,y){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&St.Z.h.call(this)},St.prototype.h=function(){St.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),W=0;function ut(h,y,E,w,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=F,this.key=++W,this.da=this.fa=!1}function pt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ot(h,y,E){for(const w in h)y.call(E,h[w],w,h)}function j(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function b(h){const y={};for(const E in h)y[E]=h[E];return y}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(h,y){let E,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(E in w)h[E]=w[E];for(let Q=0;Q<z.length;Q++)E=z[Q],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function at(h){this.src=h,this.g={},this.h=0}at.prototype.add=function(h,y,E,w,F){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ft=mt(h,y,w,F);return ft>-1?(y=h[ft],E||(y.fa=!1)):(y=new ut(y,this.src,Q,!!w,F),y.fa=E,h.push(y)),y};function ht(h,y){const E=y.type;if(E in h.g){var w=h.g[E],F=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(w,F,1),Q&&(pt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function mt(h,y,E,w){for(let F=0;F<h.length;++F){const Q=h[F];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==w)return F}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),Tt={};function wt(h,y,E,w,F){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)wt(h,y[Q],E,w,F);return null}return E=_n(E),h&&h[ne]?h.J(y,E,d(w)?!!w.capture:!1,F):Jt(h,y,E,!1,w,F)}function Jt(h,y,E,w,F,Q){if(!y)throw Error("Invalid event type");const ft=d(F)?!!F.capture:!!F;let Vt=He(h);if(Vt||(h[dt]=Vt=new at(h)),E=Vt.add(y,E,w,ft,Q),E.proxy)return E;if(w=Yt(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)P||(F=ft),F===void 0&&(F=!1),h.addEventListener(y.toString(),w,F);else if(h.attachEvent)h.attachEvent(Dt(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Yt(){function h(E){return y.call(h.src,h.listener,E)}const y=Me;return h}function ie(h,y,E,w,F){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ie(h,y[Q],E,w,F);else w=d(w)?!!w.capture:!!w,E=_n(E),h&&h[ne]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],E=mt(y,E,w,F),E>-1&&(pt(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=He(h))&&(y=h.g[y.toString()],h=-1,y&&(h=mt(y,E,w,F)),(E=h>-1?y[h]:null)&&ye(E))}function ye(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ne])ht(y.i,h);else{var E=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(E,w,h.capture):y.detachEvent?y.detachEvent(Dt(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=He(y))?(ht(E,h),E.h==0&&(E.src=null,y[dt]=null)):pt(h)}}}function Dt(h){return h in Tt?Tt[h]:Tt[h]="on"+h}function Me(h,y){if(h.da)h=!0;else{y=new St(y,this);const E=h.listener,w=h.ha||h.src;h.fa&&ye(h),h=E.call(w,y)}return h}function He(h){return h=h[dt],h instanceof at?h:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function _n(h){return typeof h=="function"?h:(h[tn]||(h[tn]=function(y){return h.handleEvent(y)}),h[tn])}function oe(){N.call(this),this.i=new at(this),this.M=this,this.G=null}T(oe,N),oe.prototype[ne]=!0,oe.prototype.removeEventListener=function(h,y,E,w){ie(this,h,y,E,w)};function Zt(h,y){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var F=y;y=new O(w,h),Z(y,F)}F=!0;let Q,ft;if(E)for(ft=E.length-1;ft>=0;ft--)Q=y.g=E[ft],F=wi(Q,w,!0,y)&&F;if(Q=y.g=h,F=wi(Q,w,!0,y)&&F,F=wi(Q,w,!1,y)&&F,E)for(ft=0;ft<E.length;ft++)Q=y.g=E[ft],F=wi(Q,w,!1,y)&&F}oe.prototype.N=function(){if(oe.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let w=0;w<E.length;w++)pt(E[w]);delete h.g[y],h.h--}}this.G=null},oe.prototype.J=function(h,y,E,w){return this.i.add(String(h),y,!1,E,w)},oe.prototype.K=function(h,y,E,w){return this.i.add(String(h),y,!0,E,w)};function wi(h,y,E,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Q=0;Q<y.length;++Q){const ft=y[Q];if(ft&&!ft.da&&ft.capture==E){const Vt=ft.listener,xe=ft.ha||ft.src;ft.fa&&ht(h.i,ft),F=Vt.call(xe,w)!==!1&&F}}return F&&!w.defaultPrevented}function hl(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ua(h){h.g=hl(()=>{h.g=null,h.i&&(h.i=!1,Ua(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Qe extends N{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(h){N.call(this),this.h=h,this.g={}}T(ss,N);var ks=[];function Br(h){Ot(h.g,function(y,E){this.g.hasOwnProperty(E)&&ye(y)},h),h.g={}}ss.prototype.N=function(){ss.Z.N.call(this),Br(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=c.JSON.stringify,ja=c.JSON.parse,zr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ps(){}function Ba(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){O.call(this,"d")}T(en,O);function Hn(){O.call(this,"c")}T(Hn,O);var Ce={},dc=null;function za(){return dc=dc||new oe}Ce.Ia="serverreachability";function mc(h){O.call(this,Ce.Ia,h)}T(mc,O);function xi(h){const y=za();Zt(y,new mc(y))}Ce.STAT_EVENT="statevent";function Fr(h,y){O.call(this,Ce.STAT_EVENT,h),this.stat=y}T(Fr,O);function Ne(h){const y=za();Zt(y,new Fr(y,h))}Ce.Ja="timingevent";function Ri(h,y){O.call(this,Ce.Ja,h),this.size=y}T(Ri,O);function Ii(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function ld(h,y,E,w,F,Q){h.info(function(){if(h.g)if(Q){var ft="",Vt=Q.split("&");for(let $t=0;$t<Vt.length;$t++){var xe=Vt[$t].split("=");if(xe.length>1){const ve=xe[0];xe=xe[1];const Yn=ve.split("_");ft=Yn.length>=2&&Yn[1]=="type"?ft+(ve+"="+xe+"&"):ft+(ve+"=redacted&")}}}else ft=null;else ft=Q;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+E+`
`+ft})}function pc(h,y,E,w,F,Q,ft){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+E+`
`+Q+" "+ft})}function Di(h,y,E,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ud(h,E)+(w?" "+w:"")})}function Hr(h,y){h.info(function(){return"TIMEOUT: "+y})}li.prototype.info=function(){};function ud(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ft=1;ft<w.length;ft++)w[ft]=""}}}}return Ci(Q)}catch{return y}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function Gr(){}T(Gr,Ps),Gr.prototype.g=function(){return new XMLHttpRequest},dl=new Gr;function rs(h){return encodeURIComponent(String(h))}function gc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function ui(h,y,E,w){this.j=h,this.i=y,this.l=E,this.S=w||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Oe={},Xe={};function Mi(h,y,E){h.M=1,h.A=Kr(ke(y)),h.u=E,h.R=!0,Fa(h,null)}function Fa(h,y){h.F=Date.now(),Ni(h),h.B=ke(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Ka(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ci,h.g=Mc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new Qe(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(ks[0]=F.toString()),F=ks);for(let Q=0;Q<F.length;Q++){const ft=wt(E,F[Q],w||y.handleEvent,!1,y.h||y);if(!ft)break;y.g[ft.key]=ft}y=h.J?b(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),xi(),ld(h.i,h.v,h.B,h.l,h.S,h.u)}ui.prototype.ba=function(h){h=h.target;const y=this.O;y&&di(h)==3?y.j():this.Y(h)},ui.prototype.Y=function(h){try{if(h==this.g)t:{const Vt=di(this.g),xe=this.g.ya(),$t=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Vt!=4||xe==7||(xe==8||$t<=0?xi(3):xi(2)),Oi(this);var y=this.g.ca();this.X=y;var E=cd(this);if(this.o=y==200,pc(this.i,this.v,this.B,this.l,this.S,Vt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(w)){var Q=w;break e}}Q=null}if(h=Q)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,Ne(12),Vn(this),qn(this);break t}}if(this.R){h=!0;let ve;for(;!this.K&&this.C<E.length;)if(ve=vc(this,E),ve==Xe){Vt==4&&(this.m=4,Ne(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Oe){this.m=4,Ne(15),Di(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,ve,null),Vi(this,ve);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||E.length!=0||this.h.h||(this.m=1,Ne(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,E,"[Invalid Chunked Response]"),Vn(this),qn(this);else if(E.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rl(ft),ft.P=!0,Ne(11))}}else Di(this.i,this.l,E,null),Vi(this,E);Vt==4&&Vn(this),this.o&&!this.K&&(Vt==4?xc(this.j,this):(this.o=!1,Ni(this)))}else os(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),Vn(this),qn(this)}}}catch{}};function cd(h){if(!yc(h))return h.g.la();const y=nn(h.g);if(y==="")return"";let E="";const w=y.length,F=di(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),qn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<w;Q++)h.h.h=!0,E+=h.h.i.decode(y[Q],{stream:!(F&&Q==w-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function vc(h,y){var E=h.C,w=y.indexOf(`
`,E);return w==-1?Xe:(E=Number(y.substring(E,w)),isNaN(E)?Oe:(w+=1,w+E>y.length?Xe:(y=y.slice(w,w+E),h.C=w+E,y)))}ui.prototype.cancel=function(){this.K=!0,Vn(this)};function Ni(h){h.T=Date.now()+h.H,Ha(h,h.H)}function Ha(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ii(g(h.aa,h),y)}function Oi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ui.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(xi(),Ne(17)),Vn(this),this.m=2,qn(this)):Ha(this,this.T-h)};function qn(h){h.j.I==0||h.K||xc(h.j,h)}function Vn(h){Oi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Br(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Vi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Pi(E.h,h))){if(!h.L&&Pi(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Wa(E),qs(E);else break t;Zr(E),Ne(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ii(g(E.Va,E),6e3));ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((h.L||E.g==h)&&Wa(E),!M(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let $t=F[y];const ve=$t[0];if(!(ve<=E.K))if(E.K=ve,$t=$t[1],E.I==2)if($t[0]=="c"){E.M=$t[1],E.ba=$t[2];const Yn=$t[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const Hi=$t[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const mi=$t[5];mi!=null&&typeof mi=="number"&&mi>0&&(w=1.5*mi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const pi=h.g;if(pi){const ta=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var Q=w.h;Q.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(gl(Q,Q.h),Q.h=null))}if(w.G){const Ja=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(w.wa=Ja,se(w.J,w.G,Ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ft=h;if(w.na=Dc(w,w.L?w.ba:null,w.W),ft.L){yl(w.h,ft);var Vt=ft,xe=w.O;xe&&(Vt.H=xe),Vt.D&&(Oi(Vt),Ni(Vt)),w.g=ft}else wc(w);E.i.length>0&&zi(E)}else $t[0]!="stop"&&$t[0]!="close"||Fi(E,7);else E.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Fi(E,7):Cl(E):$t[0]!="noop"&&E.l&&E.l.qa($t),E.A=0)}}xi(4)}catch{}}var Ve=class{constructor(h,y){this.g=h,this.map=y}};function ml(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ki(h){return h.h?1:h.g?h.g.size:0}function Pi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function gl(h,y){h.g?h.g.add(y):h.h=y}function yl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ml.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return R(h.i)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let F,Q=null;w>=0?(F=h[E].substring(0,w),Q=h[E].substring(w+1)):F=h[E],y(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function kn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof kn?(this.l=h.l,$e(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.u),this.h=h.h,_l(this,Sc(h.i)),this.m=h.m):h&&(y=String(h).match(_c))?(this.l=!1,$e(this,y[1]||"",!0),this.o=Li(y[2]||""),this.g=Li(y[3]||"",!0),Ls(this,y[4]),this.h=Li(y[5]||"",!0),_l(this,y[6]||"",!0),this.m=Li(y[7]||"")):(this.l=!1,this.i=new js(null,this.l))}kn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Yr(y,Ga,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Yr(y,Ga,!0),"@"),h.push(rs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yr(E,E.charAt(0)=="/"?Tl:Tc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yr(E,Ec)),h.join("")},kn.prototype.resolve=function(h){const y=ke(this);let E=!!h.j;E?$e(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var w=h.h;if(E)Ls(y,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=y.h.lastIndexOf("/");F!=-1&&(w=y.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let ft=0;ft<F.length;){const Vt=F[ft++];Vt=="."?w&&ft==F.length&&Q.push(""):Vt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ft==F.length&&Q.push("")):(Q.push(Vt),w=!0)}w=Q.join("/")}else w=F}return E?y.h=w:E=h.i.toString()!=="",E?_l(y,Sc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function ke(h){return new kn(h)}function $e(h,y,E){h.j=E?Li(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function _l(h,y,E){y instanceof js?(h.i=y,Ya(h.i,h.l)):(E||(y=Yr(y,Us)),h.i=new js(y,h.l))}function se(h,y,E){h.i.set(y,E)}function Kr(h){return se(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,An),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function An(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ga=/[#\/\?@]/g,Tc=/[#\?:]/g,Tl=/[#\?]/g,Us=/[#\?@]/g,Ec=/#/g;function js(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function wn(h){h.g||(h.g=new Map,h.h=0,h.i&&qa(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=js.prototype,n.add=function(h,y){wn(this),this.i=null,h=Bs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function bc(h,y){wn(h),y=Bs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function El(h,y){return wn(h),y=Bs(h,y),h.g.has(y)}n.forEach=function(h,y){wn(this),this.g.forEach(function(E,w){E.forEach(function(F){h.call(y,F,w,this)},this)},this)};function bl(h,y){wn(h);let E=[];if(typeof y=="string")El(h,y)&&(E=E.concat(h.g.get(Bs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}n.set=function(h,y){return wn(this),this.i=null,h=Bs(this,h),El(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=bl(this,h),h.length>0?String(h[0]):y):y};function Ka(h,y,E){bc(h,y),E.length>0&&(h.i=null,h.g.set(Bs(h,y),R(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const F=rs(E);E=bl(this,E);for(let Q=0;Q<E.length;Q++){let ft=F;E[Q]!==""&&(ft+="="+rs(E[Q])),h.push(ft)}}return this.i=h.join("&")};function Sc(h){const y=new js;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Bs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ya(h,y){y&&!h.j&&(wn(h),h.i=null,h.g.forEach(function(E,w){const F=w.toLowerCase();w!=F&&(bc(this,w),Ka(this,F,E))},h)),h.j=y}function hi(h,y){const E=new li;if(c.Image){const w=new Image;w.onload=v(Gn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=v(Gn,E,"TestLoadImage: error",!1,y,w),w.onabort=v(Gn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(Gn,E,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Sl(h,y){const E=new li,w=new AbortController,F=setTimeout(()=>{w.abort(),Gn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Q=>{clearTimeout(F),Q.ok?Gn(E,"TestPingServer: ok",!0,y):Gn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Gn(E,"TestPingServer: error",!1,y)})}function Gn(h,y,E,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(E)}catch{}}function zs(){this.g=new zr}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ui,Ps),Ui.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(h,y){oe.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Qr,oe),n=Qr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,fi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Fs(this):fi(this),this.readyState==3&&Qa(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Fs(this))},n.Na=function(h){this.g&&(this.response=h,Fs(this))},n.ga=function(){this.g&&Fs(this)};function Fs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,fi(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let y="";return Ot(h,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Xr(h,y,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Kn(E),typeof h=="string"?E!=null&&rs(E):se(h,y,E))}function le(h){oe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(le,oe);var ji=/^https?$/i,Al=["POST","PUT"];n=le.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){$r(this,Q);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)E.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())E.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Al,y,void 0)>=0)||w||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ft]of E)this.g.setRequestHeader(Q,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){$r(this,Q)}};function $r(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,wl(h),as(h)}function wl(h){h.A||(h.A=!0,Zt(h,"complete"),Zt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Zt(this,"complete"),Zt(this,"abort"),as(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(h){if(h.h&&typeof l<"u"){if(h.v&&di(h)==4)setTimeout(h.Ca.bind(h),0);else if(Zt(h,"readystatechange"),di(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var w;if(w=Q===0){let ft=String(h.D).match(_c)[1]||null;!ft&&c.self&&c.self.location&&(ft=c.self.location.protocol.slice(0,-1)),w=!ji.test(ft?ft.toLowerCase():"")}E=w}if(E)Zt(h,"complete"),Zt(h,"success");else{h.o=6;try{var F=di(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",wl(h)}}finally{as(h)}}}}function as(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Zt(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function di(h){return h.g?h.g.readyState:0}n.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ja(y)}};function nn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function os(h){const y={};h=(h.g&&di(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(M(h[w]))continue;var E=gc(h[w]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[F]||[];y[F]=Q,Q.push(E)}j(y,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Hs(h){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,h),this.Za=Bi("retryDelaySeedMs",1e4,h),this.Ta=Bi("forwardChannelMaxRetries",2,h),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(h&&h.concurrentRequestLimit),this.Ba=new zs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Hs.prototype,n.ka=8,n.I=1,n.connect=function(h,y,E,w){Ne(0),this.W=h,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Dc(this,null,this.W),zi(this)};function Cl(h){if(Xa(h),h.I==3){var y=h.V++,E=ke(h.J);if(se(E,"SID",h.M),se(E,"RID",y),se(E,"TYPE","terminate"),Jr(h,E),y=new ui(h,h.j,y),y.M=2,y.A=Kr(ke(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Mc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ni(y)}Ic(h)}function qs(h){h.g&&(Rl(h),h.g.cancel(),h.g=null)}function Xa(h){qs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Wa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function zi(h){if(!pl(h.h)&&!h.m){h.m=!0;var y=h.Ea;ot||C(),ct||(ot(),ct=!0),x.add(y,h),h.D=0}}function $a(h,y){return ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ii(g(h.Ea,h,y),Rc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ui(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=b(Q),Z(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Ac(this,F,y),E=ke(this.J),se(E,"RID",h),se(E,"CVER",22),this.G&&se(E,"X-HTTP-Session-Id",this.G),Jr(this,E),Q&&(this.R?y="headers="+rs(Kn(Q))+"&"+y:this.u&&Xr(E,this.u,Q)),gl(this.h,F),this.Ra&&se(E,"TYPE","init"),this.S?(se(E,"$req",y),se(E,"SID","null"),F.U=!0,Mi(F,E,null)):Mi(F,E,y),this.I=2}}else this.I==3&&(h?xl(this,h):this.i.length==0||pl(this.h)||xl(this))};function xl(h,y){var E;y?E=y.l:E=h.V++;const w=ke(h.J);se(w,"SID",h.M),se(w,"RID",E),se(w,"AID",h.K),Jr(h,w),h.u&&h.o&&Xr(w,h.u,h.o),E=new ui(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Ac(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),gl(h.h,E),Mi(E,w,y)}function Jr(h,y){h.H&&Ot(h.H,function(E,w){se(y,w,E)}),h.l&&Ot({},function(E,w){se(y,w,E)})}function Ac(h,y,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var F=h.i;let Vt=-1;for(;;){const xe=["count="+E];Vt==-1?E>0?(Vt=F[0].g,xe.push("ofs="+Vt)):Vt=0:xe.push("ofs="+Vt);let $t=!0;for(let ve=0;ve<E;ve++){var Q=F[ve].g;const Yn=F[ve].map;if(Q-=Vt,Q<0)Vt=Math.max(0,F[ve].g-100),$t=!1;else try{Q="req"+Q+"_"||"";try{var ft=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Hi,mi]of ft){let pi=mi;d(mi)&&(pi=Ci(mi)),xe.push(Q+Hi+"="+encodeURIComponent(pi))}}catch(Hi){throw xe.push(Q+"type="+encodeURIComponent("_badmap")),Hi}}catch{w&&w(Yn)}}if($t){ft=xe.join("&");break t}}ft=void 0}return h=h.i.splice(0,E),y.G=h,ft}function wc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ot||C(),ct||(ot(),ct=!0),x.add(y,h),h.A=0}}function Zr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ii(g(h.Da,h),Rc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ii(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),qs(this),Cc(this))};function Rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Cc(h){h.g=new ui(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=ke(h.na);se(y,"RID","rpc"),se(y,"SID",h.M),se(y,"AID",h.K),se(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&se(y,"TO",h.ia),se(y,"TYPE","xmlhttp"),Jr(h,y),h.u&&h.o&&Xr(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Kr(ke(y)),E.u=null,E.R=!0,Fa(E,h)}n.Va=function(){this.C!=null&&(this.C=null,qs(this),Zr(this),Ne(19))};function Wa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function xc(h,y){var E=null;if(h.g==y){Wa(h),Rl(h),h.g=null;var w=2}else if(Pi(h.h,y))E=y.G,yl(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;w=za(),Zt(w,new Ri(w,E)),zi(h)}else wc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(w==1&&$a(h,y)||w==2&&Zr(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),F){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function Rc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Fi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),w=h.Ua;const F=!w;w=new kn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$e(w,"https"),Kr(w),F?hi(w.toString(),E):Sl(w.toString(),E)}else Ne(2);h.I=0,h.l&&h.l.pa(y),Ic(h),Xa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Ic(h){if(h.I=0,h.ja=[],h.l){const y=vl(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Dc(h,y,E){var w=E instanceof kn?ke(E):new kn(E);if(w.g!="")y&&(w.g=y+"."+w.g),Ls(w,w.u);else{var F=c.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Q=new kn(null);w&&$e(Q,w),y&&(Q.g=y),F&&Ls(Q,F),E&&(Q.h=E),w=Q}return E=h.G,y=h.wa,E&&y&&se(w,E,y),se(w,"VER",h.ka),Jr(h,w),w}function Mc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new le(new Ui({ab:E})):new le(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}n=Nc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Gs(){}Gs.prototype.g=function(h,y){return new Tn(h,y)};function Tn(h,y){oe.call(this),this.g=new Hs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!M(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ls(this)}T(Tn,oe),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Cl(this.g)},Tn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ci(h),h=E);y.i.push(new Ve(y.Ya++,h)),y.I==3&&zi(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,Tn.Z.N.call(this)};function Oc(h){en.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Oc,en);function Vc(){Hn.call(this),this.status=1}T(Vc,Hn);function ls(h){this.g=h}T(ls,Nc),ls.prototype.ra=function(){Zt(this.g,"a")},ls.prototype.qa=function(h){Zt(this.g,new Oc(h))},ls.prototype.pa=function(h){Zt(this.g,new Vc)},ls.prototype.oa=function(){Zt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Bw=function(){return new Gs},jw=function(){return za()},Uw=Ce,yg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,nf=qr,fl.COMPLETE="complete",Lw=fl,Ba.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",oe.prototype.listen=oe.prototype.J,_u=Ba,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,Pw=le}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let ol="12.8.0";function zP(n){ol=n}const Da=new my("@firebase/firestore");function Do(){return Da.logLevel}function gt(n,...t){if(Da.logLevel<=zt.DEBUG){const e=t.map(wy);Da.debug(`Firestore (${ol}): ${n}`,...e)}}function Ns(n,...t){if(Da.logLevel<=zt.ERROR){const e=t.map(wy);Da.error(`Firestore (${ol}): ${n}`,...e)}}function Xo(n,...t){if(Da.logLevel<=zt.WARN){const e=t.map(wy);Da.warn(`Firestore (${ol}): ${n}`,...e)}}function wy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Rt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,zw(n,s,e)}function zw(n,t,e){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ns(s),new Error(s)}function te(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||zw(t,a,s)}function Nt(n,t){return n}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends Vs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Aa{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Fw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(mn.UNAUTHENTICATED)))}shutdown(){}}class HP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class qP{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){te(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let l=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Aa,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Aa)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string",31837,{l:s}),new Fw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class GP{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KP{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new GP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){te(this.o===void 0,3512);const s=l=>{l.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,gt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(te(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new C1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class Cy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=QP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function Ft(n,t){return n<t?-1:n>t?1:0}function vg(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const a=n.charAt(s),l=t.charAt(s);if(a!==l)return Vp(a)===Vp(l)?Ft(a,l):Vp(a)?1:-1}return Ft(n.length,t.length)}const XP=55296,$P=57343;function Vp(n){const t=n.charCodeAt(0);return t>=XP&&t<=$P}function $o(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}const x1="__name__";class Qi{constructor(t,e,s){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Rt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Qi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=Qi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Ft(t.length,e.length)}static compareSegments(t,e){const s=Qi.isNumericId(t),a=Qi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?Qi.extractNumericId(t).compare(Qi.extractNumericId(e)):vg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class Te extends Qi{construct(t,e,s){return new Te(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new Et(lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new Te(e)}static emptyPath(){return new Te([])}}const WP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Qi{construct(t,e,s){return new cn(t,e,s)}static isValidIdentifier(t){return WP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x1}static keyField(){return new cn([x1])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new Et(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new Et(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Et(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new Et(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(e)}static emptyPath(){return new cn([])}}class At{constructor(t){this.path=t}static fromPath(t){return new At(Te.fromString(t))}static fromName(t){return new At(Te.fromString(t).popFirst(5))}static empty(){return new At(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Te.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new Te(t.slice()))}}function JP(n,t,e){if(!e)throw new Et(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function ZP(n,t,e,s){if(t===!0&&s===!0)throw new Et(lt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function R1(n){if(!At.isDocumentKey(n))throw new Et(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function Ho(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Et(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=xy(n);throw new Et(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Fe(n,t){const e={typeString:n};return t&&(e.value=t),e}function oc(n,t){if(!Hw(n))throw new Et(lt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new Et(lt.INVALID_ARGUMENT,e);return!0}const I1=-62135596800,D1=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*D1);return new pe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Et(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Et(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<I1)throw new Et(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D1}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(oc(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-I1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:Fe("string",pe._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new pe(0,0))}static max(){return new It(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fu=-1;function t3(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=It.fromTimestamp(s===1e9?new pe(e+1,0):new pe(e,s));return new Mr(a,At.empty(),t)}function e3(n){return new Mr(n.readTime,n.key,Fu)}class Mr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Mr(It.min(),At.empty(),Fu)}static max(){return new Mr(It.max(),At.empty(),Fu)}}function n3(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=At.comparator(n.documentKey,t.documentKey),e!==0?e:Ft(n.largestBatchId,t.largestBatchId))}const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==i3)throw n;gt("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,s)=>{e(t)}))}static reject(t){return new rt(((e,s)=>{s(t)}))}static waitFor(t){return new rt(((e,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&e()}),(p=>s(p)))})),c=!0,l===a&&e()}))}static or(t){let e=rt.resolve(!1);for(const s of t)e=e.next((a=>a?rt.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,l)=>{s.push(e.call(this,a,l))})),this.waitFor(s)}static mapArray(t,e){return new rt(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(t,e){return new rt(((s,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):s()};l()}))}}function r3(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ul(n){return n.name==="IndexedDbTransactionError"}class Qf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qf.ce=-1;const Ry=-1;function Xf(n){return n==null}function xf(n){return n===0&&1/n==-1/0}function a3(n){return typeof n=="number"&&Number.isInteger(n)&&!xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const qw="";function o3(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=M1(t)),t=l3(n.get(e),t);return M1(t)}function l3(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case qw:e+="";break;default:e+=l}}return e}function M1(n){return n+qw+""}function N1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Va(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Gw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class be{constructor(t,e){this.comparator=t,this.root=e||un.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qh(this.root,t,this.comparator,!0)}}class qh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new un(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return un.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new O1(this.data.getIterator())}getIteratorFrom(t){return new O1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class O1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bi{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new bi([])}unionWith(t){let e=new Ye(cn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new bi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $o(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class Kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Kw("Invalid base64 string: "+l):l}})(t);return new hn(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new hn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const u3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if(te(!!n,39018),typeof n=="string"){let t=0;const e=u3.exec(n);if(te(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:De(n.seconds),nanos:De(n.nanos)}}function De(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}const Yw="server_timestamp",Qw="__type__",Xw="__previous_value__",$w="__local_write_time__";function Iy(n){return(n?.mapValue?.fields||{})[Qw]?.stringValue===Yw}function $f(n){const t=n.mapValue.fields[Xw];return Iy(t)?$f(t):t}function Hu(n){const t=Nr(n.mapValue.fields[$w].timestampValue);return new pe(t.seconds,t.nanos)}class c3{constructor(t,e,s,a,l,c,d,p,g,v,T){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=T}}const Rf="(default)";class qu{constructor(t,e){this.projectId=t,this.database=e||Rf}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(t){return t instanceof qu&&t.projectId===this.projectId&&t.database===this.database}}function h3(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Et(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(n.options.projectId,t)}const Ww="__type__",f3="__max__",Gh={mapValue:{}},Jw="__vector__",If="value";function Vr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iy(n)?4:m3(n)?9007199254740991:d3(n)?10:11:Rt(28295,{value:n})}function ns(n,t){if(n===t)return!0;const e=Vr(n);if(e!==Vr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Hu(n).isEqual(Hu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Nr(a.timestampValue),d=Nr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Or(a.bytesValue).isEqual(Or(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return De(a.geoPointValue.latitude)===De(l.geoPointValue.latitude)&&De(a.geoPointValue.longitude)===De(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return De(a.integerValue)===De(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=De(a.doubleValue),d=De(l.doubleValue);return c===d?xf(c)===xf(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return $o(n.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(N1(c)!==N1(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ns(c[p],d[p])))return!1;return!0})(n,t);default:return Rt(52216,{left:n})}}function Gu(n,t){return(n.values||[]).find((e=>ns(e,t)))!==void 0}function Wo(n,t){if(n===t)return 0;const e=Vr(n),s=Vr(t);if(e!==s)return Ft(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=De(l.integerValue||l.doubleValue),p=De(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return V1(n.timestampValue,t.timestampValue);case 4:return V1(Hu(n),Hu(t));case 5:return vg(n.stringValue,t.stringValue);case 6:return(function(l,c){const d=Or(l),p=Or(c);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ft(d[g],p[g]);if(v!==0)return v}return Ft(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ft(De(l.latitude),De(c.latitude));return d!==0?d:Ft(De(l.longitude),De(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return k1(n.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[If]?.arrayValue,v=p[If]?.arrayValue,T=Ft(g?.values?.length||0,v?.values?.length||0);return T!==0?T:k1(g,v)})(n.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Gh.mapValue&&c===Gh.mapValue)return 0;if(l===Gh.mapValue)return 1;if(c===Gh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=vg(p[T],v[T]);if(S!==0)return S;const R=Wo(d[p[T]],g[v[T]]);if(R!==0)return R}return Ft(p.length,v.length)})(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function V1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ft(n,t);const e=Nr(n),s=Nr(t),a=Ft(e.seconds,s.seconds);return a!==0?a:Ft(e.nanos,s.nanos)}function k1(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=Wo(e[a],s[a]);if(l)return l}return Ft(e.length,s.length)}function Jo(n){return _g(n)}function _g(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=Nr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Or(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return At.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=_g(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${_g(e.fields[c])}`;return a+"}"})(n.mapValue):Rt(61005,{value:n})}function sf(n){switch(Vr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$f(n);return t?16+sf(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+sf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Va(s.fields,((l,c)=>{a+=l.length+sf(c)})),a})(n.mapValue);default:throw Rt(13486,{value:n})}}function Tg(n){return!!n&&"integerValue"in n}function Dy(n){return!!n&&"arrayValue"in n}function P1(n){return!!n&&"nullValue"in n}function L1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rf(n){return!!n&&"mapValue"in n}function d3(n){return(n?.mapValue?.fields||{})[Ww]?.stringValue===Jw}function Iu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Va(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Iu(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Iu(n.arrayValue.values[e]);return t}return{...n}}function m3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===f3}class si{constructor(t){this.value=t}static empty(){return new si({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!rf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Iu(e)}setAll(t){let e=cn.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=Iu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());rf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ns(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Va(e,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new si(Iu(this.value))}}function Zw(n){const t=[];return Va(n.fields,((e,s)=>{const a=new cn([e]);if(rf(s)){const l=Zw(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new bi(t)}class pn{constructor(t,e,s,a,l,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new pn(t,0,It.min(),It.min(),It.min(),si.empty(),0)}static newFoundDocument(t,e,s,a){return new pn(t,1,e,It.min(),s,a,0)}static newNoDocument(t,e){return new pn(t,2,e,It.min(),It.min(),si.empty(),0)}static newUnknownDocument(t,e){return new pn(t,3,e,It.min(),It.min(),si.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Df{constructor(t,e){this.position=t,this.inclusive=e}}function U1(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?s=At.comparator(At.fromName(c.referenceValue),e.key):s=Wo(c,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function j1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ns(n.position[e],t.position[e]))return!1;return!0}class Mf{constructor(t,e="asc"){this.field=t,this.dir=e}}function p3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class tC{}class Ke extends tC{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new y3(t,e,s):e==="array-contains"?new T3(t,s):e==="in"?new E3(t,s):e==="not-in"?new b3(t,s):e==="array-contains-any"?new S3(t,s):new Ke(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new v3(t,s):new _3(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Wo(e,this.value)):e!==null&&Vr(this.value)===Vr(e)&&this.matchesComparison(Wo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends tC{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new is(t,e)}matches(t){return eC(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eC(n){return n.op==="and"}function nC(n){return g3(n)&&eC(n)}function g3(n){for(const t of n.filters)if(t instanceof is)return!1;return!0}function Eg(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(nC(n))return n.filters.map((t=>Eg(t))).join(",");{const t=n.filters.map((e=>Eg(e))).join(",");return`${n.op}(${t})`}}function iC(n,t){return n instanceof Ke?(function(s,a){return a instanceof Ke&&s.op===a.op&&s.field.isEqual(a.field)&&ns(s.value,a.value)})(n,t):n instanceof is?(function(s,a){return a instanceof is&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&iC(c,a.filters[d])),!0):!1})(n,t):void Rt(19439)}function sC(n){return n instanceof Ke?(function(e){return`${e.field.canonicalString()} ${e.op} ${Jo(e.value)}`})(n):n instanceof is?(function(e){return e.op.toString()+" {"+e.getFilters().map(sC).join(" ,")+"}"})(n):"Filter"}class y3 extends Ke{constructor(t,e,s){super(t,e,s),this.key=At.fromName(s.referenceValue)}matches(t){const e=At.comparator(t.key,this.key);return this.matchesComparison(e)}}class v3 extends Ke{constructor(t,e){super(t,"in",e),this.keys=rC("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class _3 extends Ke{constructor(t,e){super(t,"not-in",e),this.keys=rC("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function rC(n,t){return(t.arrayValue?.values||[]).map((e=>At.fromName(e.referenceValue)))}class T3 extends Ke{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Dy(e)&&Gu(e.arrayValue,this.value)}}class E3 extends Ke{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gu(this.value.arrayValue,e)}}class b3 extends Ke{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gu(this.value.arrayValue,e)}}class S3 extends Ke{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Dy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Gu(this.value.arrayValue,s)))}}class A3{constructor(t,e=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function B1(n,t=null,e=[],s=[],a=null,l=null,c=null){return new A3(n,t,e,s,a,l,c)}function My(n){const t=Nt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Eg(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Xf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Jo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Jo(s))).join(",")),t.Te=e}return t.Te}function Ny(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!p3(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!iC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!j1(n.startAt,t.startAt)&&j1(n.endAt,t.endAt)}function bg(n){return At.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Wf{constructor(t,e=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w3(n,t,e,s,a,l,c,d){return new Wf(n,t,e,s,a,l,c,d)}function Oy(n){return new Wf(n)}function z1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function C3(n){return At.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function x3(n){return n.collectionGroup!==null}function Du(n){const t=Nt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ye(cn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Mf(l,s))})),e.has(cn.keyField().canonicalString())||t.Ie.push(new Mf(cn.keyField(),s))}return t.Ie}function Ji(n){const t=Nt(n);return t.Ee||(t.Ee=R3(t,Du(n))),t.Ee}function R3(n,t){if(n.limitType==="F")return B1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Mf(a.field,l)}));const e=n.endAt?new Df(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Df(n.startAt.position,n.startAt.inclusive):null;return B1(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Sg(n,t,e){return new Wf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Jf(n,t){return Ny(Ji(n),Ji(t))&&n.limitType===t.limitType}function aC(n){return`${My(Ji(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>sC(a))).join(", ")}]`),Xf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>Jo(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>Jo(a))).join(",")),`Target(${s})`})(Ji(n))}; limitType=${n.limitType})`}function Zf(n,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):At.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,a){for(const l of Du(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const g=U1(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Du(s),a)||s.endAt&&!(function(c,d,p){const g=U1(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Du(s),a))})(n,t)}function I3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oC(n){return(t,e)=>{let s=!1;for(const a of Du(n)){const l=D3(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function D3(n,t,e){const s=n.field.isKeyField()?At.comparator(t.key,e.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Wo(p,g):Rt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Rt(19790,{direction:n.dir})}}class ka{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Va(this.inner,((e,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return Gw(this.inner)}size(){return this.innerSize}}const M3=new be(At.comparator);function Os(){return M3}const lC=new be(At.comparator);function Tu(...n){let t=lC;for(const e of n)t=t.insert(e.key,e);return t}function uC(n){let t=lC;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function ba(){return Mu()}function cC(){return Mu()}function Mu(){return new ka((n=>n.toString()),((n,t)=>n.isEqual(t)))}const N3=new be(At.comparator),O3=new Ye(At.comparator);function Ht(...n){let t=O3;for(const e of n)t=t.add(e);return t}const V3=new Ye(Ft);function k3(){return V3}function Vy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function hC(n){return{integerValue:""+n}}function P3(n,t){return a3(t)?hC(t):Vy(n,t)}class td{constructor(){this._=void 0}}function L3(n,t,e){return n instanceof Nf?(function(a,l){const c={fields:{[Qw]:{stringValue:Yw},[$w]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Iy(l)&&(l=$f(l)),l&&(c.fields[Xw]=l),{mapValue:c}})(e,t):n instanceof Ku?dC(n,t):n instanceof Yu?mC(n,t):(function(a,l){const c=fC(a,l),d=F1(c)+F1(a.Ae);return Tg(c)&&Tg(a.Ae)?hC(d):Vy(a.serializer,d)})(n,t)}function U3(n,t,e){return n instanceof Ku?dC(n,t):n instanceof Yu?mC(n,t):e}function fC(n,t){return n instanceof Of?(function(s){return Tg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Nf extends td{}class Ku extends td{constructor(t){super(),this.elements=t}}function dC(n,t){const e=pC(t);for(const s of n.elements)e.some((a=>ns(a,s)))||e.push(s);return{arrayValue:{values:e}}}class Yu extends td{constructor(t){super(),this.elements=t}}function mC(n,t){let e=pC(t);for(const s of n.elements)e=e.filter((a=>!ns(a,s)));return{arrayValue:{values:e}}}class Of extends td{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function F1(n){return De(n.integerValue||n.doubleValue)}function pC(n){return Dy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function j3(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof Ku&&a instanceof Ku||s instanceof Yu&&a instanceof Yu?$o(s.elements,a.elements,ns):s instanceof Of&&a instanceof Of?ns(s.Ae,a.Ae):s instanceof Nf&&a instanceof Nf})(n.transform,t.transform)}class B3{constructor(t,e){this.version=t,this.transformResults=e}}class Rs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Rs}static exists(t){return new Rs(void 0,t)}static updateTime(t){return new Rs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function af(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class ed{}function gC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new vC(n.key,Rs.none()):new lc(n.key,n.data,Rs.none());{const e=n.data,s=si.empty();let a=new Ye(cn.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Pa(n.key,s,new bi(a.toArray()),Rs.none())}}function z3(n,t,e){n instanceof lc?(function(a,l,c){const d=a.value.clone(),p=q1(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof Pa?(function(a,l,c){if(!af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=q1(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(yC(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Nu(n,t,e,s){return n instanceof lc?(function(l,c,d,p){if(!af(l.precondition,c))return d;const g=l.value.clone(),v=G1(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof Pa?(function(l,c,d,p){if(!af(l.precondition,c))return d;const g=G1(l.fieldTransforms,p,c),v=c.data;return v.setAll(yC(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,t,e,s):(function(l,c,d){return af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function F3(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=fC(s.transform,a||null);l!=null&&(e===null&&(e=si.empty()),e.set(s.field,l))}return e||null}function H1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&$o(s,a,((l,c)=>j3(l,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class lc extends ed{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pa extends ed{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yC(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function q1(n,t,e){const s=new Map;te(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,U3(c,d,e[a]))}return s}function G1(n,t,e){const s=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);s.set(a.field,L3(l,c,t))}return s}class vC extends ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H3 extends ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class q3{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&z3(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Nu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Nu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=cC();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const p=gC(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&$o(this.mutations,t.mutations,((e,s)=>H1(e,s)))&&$o(this.baseMutations,t.baseMutations,((e,s)=>H1(e,s)))}}class ky{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){te(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return N3})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new ky(t,e,s,a)}}class G3{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class K3{constructor(t,e){this.count=t,this.unchangedNames=e}}var Be,Kt;function Y3(n){switch(n){case lt.OK:return Rt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function _C(n){if(n===void 0)return Ns("GRPC error has no .code"),lt.UNKNOWN;switch(n){case Be.OK:return lt.OK;case Be.CANCELLED:return lt.CANCELLED;case Be.UNKNOWN:return lt.UNKNOWN;case Be.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Be.INTERNAL:return lt.INTERNAL;case Be.UNAVAILABLE:return lt.UNAVAILABLE;case Be.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Be.NOT_FOUND:return lt.NOT_FOUND;case Be.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Be.ABORTED:return lt.ABORTED;case Be.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Be.DATA_LOSS:return lt.DATA_LOSS;default:return Rt(39323,{code:n})}}(Kt=Be||(Be={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";function Q3(){return new TextEncoder}const X3=new Cr([4294967295,4294967295],0);function K1(n){const t=Q3().encode(n),e=new kw;return e.update(t),new Uint8Array(e.digest())}function Y1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Cr([e,s],0),new Cr([a,l],0)]}class Py{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Eu(`Invalid padding: ${e}`);if(s<0)throw new Eu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Cr.fromNumber(this.ge)}ye(t,e,s){let a=t.add(e.multiply(Cr.fromNumber(s)));return a.compare(X3)===1&&(a=new Cr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=K1(t),[s,a]=Y1(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Py(l,a,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=K1(t),[s,a]=Y1(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nd{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,uc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new nd(It.min(),a,new be(Ft),Os(),Ht())}}class uc{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new uc(s,e,Ht(),Ht(),Ht())}}class of{constructor(t,e,s,a){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=a}}class TC{constructor(t,e){this.targetId=t,this.Ce=e}}class EC{constructor(t,e,s=hn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class Q1{constructor(){this.ve=0,this.Fe=X1(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),e=Ht(),s=Ht();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:Rt(38017,{changeType:l})}})),new uc(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=X1()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $3{constructor(t){this.Ge=t,this.ze=new Map,this.je=Os(),this.He=Kh(),this.Je=Kh(),this.Ze=new be(Ft)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,s=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(bg(l))if(s===0){const c=new At(l.path);this.et(e,c,pn.newNoDocument(c,It.min()))}else te(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=Or(s).toUint8Array()}catch(p){if(p instanceof Kw)return Xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Py(c,a,l)}catch(p){return Xo(p instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&bg(d.target)){const p=new At(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,pn.newNoDocument(p,t))}l.Be&&(e.set(c,l.ke()),l.Ke())}}));let s=Ht();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new nd(t,e,this.Ze,this.je,s);return this.je=Os(),this.He=Kh(),this.Je=Kh(),this.Ze=new be(Ft),a}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new Q1,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ye(Ft),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ye(Ft),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||gt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Kh(){return new be(At.comparator)}function X1(){return new be(At.comparator)}const W3={asc:"ASCENDING",desc:"DESCENDING"},J3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z3={and:"AND",or:"OR"};class t5{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ag(n,t){return n.useProto3Json||Xf(t)?t:{value:t}}function Vf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function e5(n,t){return Vf(n,t.toTimestamp())}function Zi(n){return te(!!n,49232),It.fromTimestamp((function(e){const s=Nr(e);return new pe(s.seconds,s.nanos)})(n))}function Ly(n,t){return wg(n,t).canonicalString()}function wg(n,t){const e=(function(a){return new Te(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function SC(n){const t=Te.fromString(n);return te(RC(t),10190,{key:t.toString()}),t}function Cg(n,t){return Ly(n.databaseId,t.path)}function kp(n,t){const e=SC(t);if(e.get(1)!==n.databaseId.projectId)throw new Et(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Et(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new At(wC(e))}function AC(n,t){return Ly(n.databaseId,t)}function n5(n){const t=SC(n);return t.length===4?Te.emptyPath():wC(t)}function xg(n){return new Te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wC(n){return te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $1(n,t,e){return{name:Cg(n,t),fields:e.value.mapValue.fields}}function i5(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Rt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(te(v===void 0||typeof v=="string",58123),hn.fromBase64String(v||"")):(te(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),hn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?lt.UNKNOWN:_C(g.code);return new Et(v,g.message||"")})(c);e=new EC(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=kp(n,s.document.name),l=Zi(s.document.updateTime),c=s.document.createTime?Zi(s.document.createTime):It.min(),d=new si({mapValue:{fields:s.document.fields}}),p=pn.newFoundDocument(a,l,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new of(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=kp(n,s.document),l=s.readTime?Zi(s.readTime):It.min(),c=pn.newNoDocument(a,l),d=s.removedTargetIds||[];e=new of([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=kp(n,s.document),l=s.removedTargetIds||[];e=new of([],l,a,null)}else{if(!("filter"in t))return Rt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new K3(a,l),d=s.targetId;e=new TC(d,c)}}return e}function s5(n,t){let e;if(t instanceof lc)e={update:$1(n,t.key,t.value)};else if(t instanceof vC)e={delete:Cg(n,t.key)};else if(t instanceof Pa)e={update:$1(n,t.key,t.data),updateMask:d5(t.fieldMask)};else{if(!(t instanceof H3))return Rt(16599,{dt:t.type});e={verify:Cg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Nf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Of)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Rt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:e5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Rt(27497)})(n,t.precondition)),e}function r5(n,t){return n&&n.length>0?(te(t!==void 0,14353),n.map((e=>(function(a,l){let c=a.updateTime?Zi(a.updateTime):Zi(l);return c.isEqual(It.min())&&(c=Zi(l)),new B3(c,a.transformResults||[])})(e,t)))):[]}function a5(n,t){return{documents:[AC(n,t.path)]}}function o5(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=AC(n,a);const l=(function(g){if(g.length!==0)return xC(is.create(g,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:No(S.field),direction:c5(S.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Ag(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function l5(n){let t=n5(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){te(s===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];e.where&&(l=(function(T){const S=CC(T);return S instanceof is&&nC(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((S=>(function(L){return new Mf(Oo(L.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,Xf(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(T){const S=!!T.before,R=T.values||[];return new Df(R,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const S=!T.before,R=T.values||[];return new Df(R,S)})(e.endAt)),w3(t,a,c,l,d,"F",p,g)}function u5(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function CC(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Oo(e.unaryFilter.field);return Ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(e.unaryFilter.field);return Ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(e.unaryFilter.field);return Ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(e.unaryFilter.field);return Ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ke.create(Oo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return is.create(e.compositeFilter.filters.map((s=>CC(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(n):Rt(30097,{filter:n})}function c5(n){return W3[n]}function h5(n){return J3[n]}function f5(n){return Z3[n]}function No(n){return{fieldPath:n.canonicalString()}}function Oo(n){return cn.fromServerFormat(n.fieldPath)}function xC(n){return n instanceof Ke?(function(e){if(e.op==="=="){if(L1(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NAN"}};if(P1(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(L1(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NOT_NAN"}};if(P1(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(e.field),op:h5(e.op),value:e.value}}})(n):n instanceof is?(function(e){const s=e.getFilters().map((a=>xC(a)));return s.length===1?s[0]:{compositeFilter:{op:f5(e.op),filters:s}}})(n):Rt(54877,{filter:n})}function d5(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function RC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function IC(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class br{constructor(t,e,s,a,l=It.min(),c=It.min(),d=hn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class m5{constructor(t){this.yt=t}}function p5(n){const t=l5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sg(t,t.limit,"L"):t}class g5{constructor(){this.Sn=new y5}addToCollectionParentIndex(t,e){return this.Sn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Mr.min())}updateCollectionGroup(t,e,s){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class y5{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Ye(Te.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ye(Te.comparator)).toArray()}}const W1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DC=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(DC,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Zo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Zo(0)}static ar(){return new Zo(-1)}}const J1="LruGarbageCollector",v5=1048576;function Z1([n,t],[e,s]){const a=Ft(n,e);return a===0?Ft(t,s):a}class _5{constructor(t){this.Pr=t,this.buffer=new Ye(Z1),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();Z1(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class T5{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){gt(J1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ul(e)?gt(J1,"Ignoring IndexedDB error during garbage collection: ",e):await ll(e)}await this.Ar(3e5)}))}}class E5{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Qf.ce);const s=new _5(e);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(W1)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W1):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),Do()<=zt.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function b5(n,t){return new E5(n,t)}class S5{constructor(){this.changes=new ka((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?rt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class A5{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class w5{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&Nu(s.mutation,a,bi.empty(),pe.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Ht()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Ht()){const a=ba();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((l=>{let c=Tu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=ba();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Ht())))}populateOverlays(t,e,s){const a=[];return s.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,a){let l=Os();const c=Mu(),d=(function(){return Mu()})();return e.forEach(((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Pa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Nu(v.mutation,g,v.mutation.getFieldMask(),pe.now())):c.set(g.key,bi.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>d.set(g,new A5(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=Mu();let a=new be(((c,d)=>c-d)),l=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=s.get(p)||bi.empty();v=d.applyToLocalView(g,v),s.set(p,v);const T=(a.get(d.batchId)||Ht()).add(p);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=cC();v.forEach((S=>{if(!l.has(S)){const R=gC(e.get(S),s.get(S));R!==null&&T.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return C3(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):x3(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):rt.resolve(ba());let d=Fu,p=l;return c.next((g=>rt.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?rt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,p,g,Ht()))).next((v=>({batchId:d,changes:uC(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new At(e)).next((s=>{let a=Tu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(t,l).next((d=>rt.forEach(d,(p=>{const g=(function(T,S){return new Wf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((v=>{v.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))}));let d=Tu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Nu(v.mutation,g,bi.empty(),pe.now()),Zf(e,g)&&(d=d.insert(p,g))})),d}))}}class C5{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return rt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:p5(a.bundledQuery),readTime:Zi(a.readTime)}})(e)),rt.resolve()}}class x5{constructor(){this.overlays=new be(At.comparator),this.Lr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ba();return rt.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,l)=>{this.bt(t,e,l)})),rt.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),rt.resolve()}getOverlaysForCollection(t,e,s){const a=ba(),l=e.length+1,c=new At(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new be(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=ba(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ba(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return rt.resolve(d)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new G3(e,s));let l=this.Lr.get(e);l===void 0&&(l=Ht(),this.Lr.set(e,l)),this.Lr.set(e,l.add(s.key))}}class R5{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}class Uy{constructor(){this.kr=new Ye(Je.Kr),this.qr=new Ye(Je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new Je(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new Je(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new At(new Te([])),s=new Je(e,t),a=new Je(e,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new At(new Te([])),s=new Je(e,t),a=new Je(e,t+1);let l=Ht();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new Je(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Je{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return At.comparator(t.key,e.key)||Ft(t.Hr,e.Hr)}static Ur(t,e){return Ft(t.Hr,e.Hr)||At.comparator(t.key,e.key)}}class I5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ye(Je.Kr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new q3(l,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Je(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,e){return rt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Xr(s),l=a<0?0:a;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Ry:this.Yn-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Je(e,0),a=new Je(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ye(Ft);return e.forEach((a=>{const l=new Je(a,0),c=new Je(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),rt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;At.isDocumentKey(l)||(l=l.child(""));const c=new Je(new At(l),0);let d=new Ye(Ft);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)}),c),rt.resolve(this.Yr(d))}Yr(t){const e=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){te(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return rt.forEach(e.mutations,(a=>{const l=new Je(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new Je(e,0),a=this.Jr.firstAfterOrEqual(s);return rt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class D5{constructor(t){this.ti=t,this.docs=(function(){return new be(At.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return rt.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(e))}getEntries(t,e){let s=Os();return e.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),rt.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=Os();const c=e.path,d=new At(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||n3(e3(v),s)<=0||(a.has(v.key)||Zf(e,v))&&(l=l.insert(v.key,v.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,e,s,a){Rt(9500)}ni(t,e){return rt.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new M5(this)}getSize(t){return rt.resolve(this.size)}}class M5 extends S5{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),rt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class N5{constructor(t){this.persistence=t,this.ri=new ka((e=>My(e)),Ny),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.ii=0,this.si=new Uy,this.targetCount=0,this.oi=Zo._r()}forEachTarget(t,e){return this.ri.forEach(((s,a)=>e(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),rt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Zo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.lr(e),rt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),rt.waitFor(l).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return rt.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),rt.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return rt.resolve(s)}containsKey(t,e){return rt.resolve(this.si.containsKey(e))}}class MC{constructor(t,e){this._i={},this.overlays={},this.ai=new Qf(0),this.ui=!1,this.ui=!0,this.ci=new R5,this.referenceDelegate=t(this),this.li=new N5(this),this.indexManager=new g5,this.remoteDocumentCache=(function(a){return new D5(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new m5(e),this.Pi=new C5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new x5,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new I5(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){gt("MemoryPersistence","Starting transaction:",t);const a=new O5(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return rt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class O5 extends s3{constructor(t){super(),this.currentSequenceNumber=t}}class jy{constructor(t){this.persistence=t,this.Ri=new Uy,this.Ai=null}static Vi(t){return new jy(t)}get di(){if(this.Ai)return this.Ai;throw Rt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),rt.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.di,(s=>{const a=At.fromPath(s);return this.mi(t,a).next((l=>{l||e.removeEntry(a,It.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class kf{constructor(t,e){this.persistence=t,this.fi=new ka((s=>o3(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=b5(this,e)}static Vi(t,e){return new kf(t,e)}Ti(){}Ii(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return rt.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?rt.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,e).next((d=>{d||(s++,l.removeEntry(c,It.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),rt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sf(t.data.value)),e}wr(t,e,s){return rt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return rt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class By{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=a}static Es(t,e){let s=Ht(),a=Ht();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new By(t,e.fromCache,s,a)}}class V5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class k5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return aV()?8:r3(vn())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.gs(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,e,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new V5;return this.ys(t,e,c).next((d=>{if(l.result=d,this.As)return this.ws(t,e,c,d.size)}))})).next((()=>l.result))}ws(t,e,s,a){return s.documentReadCount<this.Vs?(Do()<=zt.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Mo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(Do()<=zt.DEBUG&&gt("QueryEngine","Query:",Mo(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Do()<=zt.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Mo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ji(e))):rt.resolve())}gs(t,e){if(z1(e))return rt.resolve(null);let s=Ji(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Sg(e,null,"F"),s=Ji(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Ht(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(e,d);return this.Ss(e,g,c,p.readTime)?this.gs(t,Sg(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,s,a){return z1(e)||a.isEqual(It.min())?rt.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(e,l);return this.Ss(e,c,s,a)?rt.resolve(null):(Do()<=zt.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(e)),this.Ds(t,c,e,t3(a,Fu)).next((d=>d)))}))}bs(t,e){let s=new Ye(oC(t));return e.forEach(((a,l)=>{Zf(t,l)&&(s=s.add(l))})),s}Ss(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,s){return Do()<=zt.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Mo(e)),this.fs.getDocumentsMatchingQuery(t,e,Mr.min(),s)}Ds(t,e,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const zy="LocalStore",P5=3e8;class L5{constructor(t,e,s,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new be(Ft),this.Fs=new ka((l=>My(l)),Ny),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new w5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function U5(n,t,e,s){return new L5(n,t,e,s)}async function NC(n,t){const e=Nt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Ht();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function j5(n,t){const e=Nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const T=g.batch,S=T.keys();let R=rt.resolve();return S.forEach((L=>{R=R.next((()=>v.getEntry(p,L))).next((G=>{const B=g.docVersions.get(L);te(B!==null,48541),G.version.compareTo(B)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ht();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function OC(n){const t=Nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function B5(n,t){const e=Nt(n),s=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const d=[];t.targetChanges.forEach(((v,T)=>{const S=a.get(T);if(!S)return;d.push(e.li.removeMatchingKeys(l,v.removedDocuments,T).next((()=>e.li.addMatchingKeys(l,v.addedDocuments,T))));let R=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(hn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(T,R),(function(G,B,Y){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=P5?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,R,v)&&d.push(e.li.updateTargetData(l,R))}));let p=Os(),g=Ht();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(z5(l,c,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!s.isEqual(It.min())){const v=e.li.getLastRemoteSnapshotVersion(l).next((T=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return rt.waitFor(d).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(e.vs=a,l)))}function z5(n,t,e){let s=Ht(),a=Ht();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let c=Os();return e.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):gt(zy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function F5(n,t){const e=Nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ry),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function H5(n,t){const e=Nt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.li.getTargetData(s,t).next((l=>l?(a=l,rt.resolve(a)):e.li.allocateTargetId(s).next((c=>(a=new br(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function Rg(n,t,e){const s=Nt(n),a=s.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ul(c))throw c;gt(zy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function tb(n,t,e){const s=Nt(n);let a=It.min(),l=Ht();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=Nt(p),S=T.Fs.get(v);return S!==void 0?rt.resolve(T.vs.get(S)):T.li.getTargetData(g,v)})(s,c,Ji(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,e?a:It.min(),e?l:Ht()))).next((d=>(q5(s,I3(t),d),{documents:d,ks:l})))))}function q5(n,t,e){let s=n.Ms.get(t)||It.min();e.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(t,s)}class eb{constructor(){this.activeTargetIds=k3()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G5{constructor(){this.vo=new eb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new eb,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class K5{Mo(t){}shutdown(){}}const nb="ConnectivityMonitor";class ib{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){gt(nb,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){gt(nb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yh=null;function Ig(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}const Pp="RestConnection",Y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Q5{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Rf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,e,s,a,l){const c=Ig(),d=this.Qo(t,e.toUriEncodedString());gt(Pp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:g}=new URL(d),v=sl(g);return this.zo(t,d,p,s,v).then((T=>(gt(Pp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Xo(Pp,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}jo(t,e,s,a,l,c){return this.Wo(t,e,s,a,l)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const s=Y5[t];let a=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class X5{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const dn="WebChannelConnection",mu=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class qo extends Q5{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!qo.c_){const t=jw();mu(t,Uw.STAT_EVENT,(e=>{e.stat===yg.PROXY?gt(dn,"STAT_EVENT: detected buffering proxy"):e.stat===yg.NOPROXY&&gt(dn,"STAT_EVENT: detected no buffering proxy")})),qo.c_=!0}}zo(t,e,s,a,l){const c=Ig();return new Promise(((d,p)=>{const g=new Pw;g.setWithCredentials(!0),g.listenOnce(Lw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case nf.NO_ERROR:const T=g.getResponseJson();gt(dn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case nf.TIMEOUT:gt(dn,`RPC '${t}' ${c} timed out`),p(new Et(lt.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const S=g.getStatus();if(gt(dn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R?.error;if(L&&L.status&&L.message){const G=(function(Y){const tt=Y.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(tt)>=0?tt:lt.UNKNOWN})(L.status);p(new Et(G,L.message))}else p(new Et(lt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Et(lt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{gt(dn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(a);gt(dn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",v,s,15)}))}T_(t,e,s){const a=Ig(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,e,s),d.encodeInitMessageHeaders=!0;const g=l.join("");gt(dn,`Creating RPC '${t}' stream ${a}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let T=!1,S=!1;const R=new X5({Ho:L=>{S?gt(dn,`Not sending because RPC '${t}' stream ${a} is closed:`,L):(T||(gt(dn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),T=!0),gt(dn,`RPC '${t}' stream ${a} sending:`,L),v.send(L))},Jo:()=>v.close()});return mu(v,_u.EventType.OPEN,(()=>{S||(gt(dn,`RPC '${t}' stream ${a} transport opened.`),R.i_())})),mu(v,_u.EventType.CLOSE,(()=>{S||(S=!0,gt(dn,`RPC '${t}' stream ${a} transport closed`),R.o_(),this.E_(v))})),mu(v,_u.EventType.ERROR,(L=>{S||(S=!0,Xo(dn,`RPC '${t}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),R.o_(new Et(lt.UNAVAILABLE,"The operation could not be completed")))})),mu(v,_u.EventType.MESSAGE,(L=>{if(!S){const G=L.data[0];te(!!G,16349);const B=G,Y=B?.error||B[0]?.error;if(Y){gt(dn,`RPC '${t}' stream ${a} received error:`,Y);const tt=Y.status;let $=(function(ct){const x=Be[ct];if(x!==void 0)return _C(x)})(tt),nt=Y.message;$===void 0&&($=lt.INTERNAL,nt="Unknown error status: "+tt+" with message "+Y.message),S=!0,R.o_(new Et($,nt)),v.close()}else gt(dn,`RPC '${t}' stream ${a} received:`,G),R.__(G)}})),qo.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Bw()}}function $5(n){return new qo(n)}function Lp(){return typeof document<"u"?document:null}function id(n){return new t5(n,!0)}qo.c_=!1;class VC{constructor(t,e,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-s);a>0&&gt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sb="PersistentStream";class kC{constructor(t,e,s,a,l,c,d,p){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VC(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(Ns(e.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===e&&this.G_(s,a)}),(s=>{t((()=>{const a=new Et(lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return gt(sb,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(gt(sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W5 extends kC{constructor(t,e,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=i5(this.serializer,t),s=(function(l){if(!("targetChange"in l))return It.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?Zi(c.readTime):It.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=xg(this.serializer),e.addTarget=(function(l,c){let d;const p=c.target;if(d=bg(p)?{documents:a5(l,p)}:{query:o5(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=bC(l,c.resumeToken);const g=Ag(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(It.min())>0){d.readTime=Vf(l,c.snapshotVersion.toTimestamp());const g=Ag(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=u5(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=xg(this.serializer),e.removeTarget=t,this.K_(e)}}class J5 extends kC{constructor(t,e,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=r5(t.writeResults,t.commitTime),s=Zi(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=xg(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>s5(this.serializer,s)))};this.K_(e)}}class Z5{}class t6 extends Z5{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Et(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,wg(e,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Et(lt.UNKNOWN,l.toString())}))}jo(t,e,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,wg(e,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Et(lt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function e6(n,t,e,s){return new t6(n,t,e,s)}class n6{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(e),this.aa=!1):gt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ma="RemoteStore";class i6{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{La(this)&&(gt(Ma,"Restarting streams for network reachability change."),await(async function(p){const g=Nt(p);g.Ea.add(4),await cc(g),g.Va.set("Unknown"),g.Ea.delete(4),await sd(g)})(this))}))})),this.Va=new n6(s,a)}}async function sd(n){if(La(n))for(const t of n.Ra)await t(!0)}async function cc(n){for(const t of n.Ra)await t(!1)}function PC(n,t){const e=Nt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Gy(e)?qy(e):cl(e).O_()&&Hy(e,t))}function Fy(n,t){const e=Nt(n),s=cl(e);e.Ia.delete(t),s.O_()&&LC(e,t),e.Ia.size===0&&(s.O_()?s.L_():La(e)&&e.Va.set("Unknown"))}function Hy(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}cl(n).Z_(t)}function LC(n,t){n.da.$e(t),cl(n).X_(t)}function qy(n){n.da=new $3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),cl(n).start(),n.Va.ua()}function Gy(n){return La(n)&&!cl(n).x_()&&n.Ia.size>0}function La(n){return Nt(n).Ea.size===0}function UC(n){n.da=void 0}async function s6(n){n.Va.set("Online")}async function r6(n){n.Ia.forEach(((t,e)=>{Hy(n,t)}))}async function a6(n,t){UC(n),Gy(n)?(n.Va.ha(t),qy(n)):n.Va.set("Unknown")}async function o6(n,t,e){if(n.Va.set("Online"),t instanceof EC&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(n,t)}catch(s){gt(Ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pf(n,s)}else if(t instanceof of?n.da.Xe(t):t instanceof TC?n.da.st(t):n.da.tt(t),!e.isEqual(It.min()))try{const s=await OC(n.localStore);e.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(hn.EMPTY_BYTE_STRING,v.snapshotVersion)),LC(l,p);const T=new br(v.target,p,g,v.sequenceNumber);Hy(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){gt(Ma,"Failed to raise snapshot:",s),await Pf(n,s)}}async function Pf(n,t,e){if(!ul(t))throw t;n.Ea.add(1),await cc(n),n.Va.set("Offline"),e||(e=()=>OC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{gt(Ma,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await sd(n)}))}function jC(n,t){return t().catch((e=>Pf(n,e,t)))}async function rd(n){const t=Nt(n),e=kr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ry;for(;l6(t);)try{const a=await F5(t.localStore,s);if(a===null){t.Ta.length===0&&e.L_();break}s=a.batchId,u6(t,a)}catch(a){await Pf(t,a)}BC(t)&&zC(t)}function l6(n){return La(n)&&n.Ta.length<10}function u6(n,t){n.Ta.push(t);const e=kr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function BC(n){return La(n)&&!kr(n).x_()&&n.Ta.length>0}function zC(n){kr(n).start()}async function c6(n){kr(n).ra()}async function h6(n){const t=kr(n);for(const e of n.Ta)t.ea(e.mutations)}async function f6(n,t,e){const s=n.Ta.shift(),a=ky.from(s,t,e);await jC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await rd(n)}async function d6(n,t){t&&kr(n).Y_&&await(async function(s,a){if((function(c){return Y3(c)&&c!==lt.ABORTED})(a.code)){const l=s.Ta.shift();kr(s).B_(),await jC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await rd(s)}})(n,t),BC(n)&&zC(n)}async function rb(n,t){const e=Nt(n);e.asyncQueue.verifyOperationInProgress(),gt(Ma,"RemoteStore received new credentials");const s=La(e);e.Ea.add(3),await cc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await sd(e)}async function m6(n,t){const e=Nt(n);t?(e.Ea.delete(2),await sd(e)):t||(e.Ea.add(2),await cc(e),e.Va.set("Unknown"))}function cl(n){return n.ma||(n.ma=(function(e,s,a){const l=Nt(e);return l.sa(),new W5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:s6.bind(null,n),Yo:r6.bind(null,n),t_:a6.bind(null,n),J_:o6.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Gy(n)?qy(n):n.Va.set("Unknown")):(await n.ma.stop(),UC(n))}))),n.ma}function kr(n){return n.fa||(n.fa=(function(e,s,a){const l=Nt(e);return l.sa(),new J5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:c6.bind(null,n),t_:d6.bind(null,n),ta:h6.bind(null,n),na:f6.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await rd(n)):(await n.fa.stop(),n.Ta.length>0&&(gt(Ma,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ky{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const c=Date.now()+s,d=new Ky(t,e,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(n,t){if(Ns("AsyncQueue",`${t}: ${n}`),ul(n))return new Et(lt.UNAVAILABLE,`${t}: ${n}`);throw n}class Go{static emptySet(t){return new Go(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||At.comparator(e.key,s.key):(e,s)=>At.comparator(e.key,s.key),this.keyedMap=Tu(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Go;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class ab{constructor(){this.ga=new be(At.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class tl{constructor(t,e,s,a,l,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,l){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new tl(t,e,Go.emptySet(e),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}class p6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class g6{constructor(){this.queries=ob(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=Nt(e),l=a.queries;a.queries=ob(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(s)}))})(this,new Et(lt.ABORTED,"Firestore shutting down"))}}function ob(){return new ka((n=>aC(n)),Jf)}async function y6(n,t){const e=Nt(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new p6,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=Yy(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&Qy(e)}async function v6(n,t){const e=Nt(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function _6(n,t){const e=Nt(n);let s=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&Qy(e)}function T6(n,t,e){const s=Nt(n),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(e);s.queries.delete(t)}function Qy(n){n.Ca.forEach((t=>{t.next()}))}var Dg,lb;(lb=Dg||(Dg={})).Ma="default",lb.Cache="cache";class E6{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new tl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=tl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dg.Cache}}class FC{constructor(t){this.key=t}}class HC{constructor(t){this.key=t}}class b6{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ht(),this.mutatedKeys=Ht(),this.eu=oC(t),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new ab,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((v,T)=>{const S=a.get(v),R=Zf(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),G=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let B=!1;S&&R?S.data.isEqual(R.data)?L!==G&&(s.track({type:3,doc:R}),B=!0):this.su(S,R)||(s.track({type:2,doc:R}),B=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(d=!0)):!S&&R?(s.track({type:0,doc:R}),B=!0):S&&!R&&(s.track({type:1,doc:S}),B=!0,(p||g)&&(d=!0)),B&&(R?(c=c.add(R),l=G?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(R,L){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Vt:B})}};return G(R)-G(L)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),a=a??!1;const d=e&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new tl(this.query,t.tu,l,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ab,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ht(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new HC(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new FC(s))})),e}cu(t){this.Za=t.ks,this.Ya=Ht();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xy="SyncEngine";class S6{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class A6{constructor(t){this.key=t,this.hu=!1}}class w6{constructor(t,e,s,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((d=>aC(d)),Jf),this.Iu=new Map,this.Eu=new Set,this.Ru=new be(At.comparator),this.Au=new Map,this.Vu=new Uy,this.du={},this.mu=new Map,this.fu=Zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C6(n,t,e=!0){const s=XC(n);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await qC(s,t,e,!0),a}async function x6(n,t){const e=XC(n);await qC(e,t,!0,!1)}async function qC(n,t,e,s){const a=await H5(n.localStore,Ji(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await R6(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&PC(n.remoteStore,a),d}async function R6(n,t,e,s,a){n.pu=(T,S,R)=>(async function(G,B,Y,tt){let $=B.view.ru(Y);$.Ss&&($=await tb(G.localStore,B.query,!1).then((({documents:x})=>B.view.ru(x,$))));const nt=tt&&tt.targetChanges.get(B.targetId),ot=tt&&tt.targetMismatches.get(B.targetId)!=null,ct=B.view.applyChanges($,G.isPrimaryClient,nt,ot);return cb(G,B.targetId,ct.au),ct.snapshot})(n,T,S,R);const l=await tb(n.localStore,t,!0),c=new b6(t,l.ks),d=c.ru(l.documents),p=uc.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);cb(n,e,g.au);const v=new S6(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function I6(n,t,e){const s=Nt(n),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Jf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Rg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&Fy(s.remoteStore,a.targetId),Mg(s,a.targetId)})).catch(ll)):(Mg(s,a.targetId),await Rg(s.localStore,a.targetId,!0))}async function D6(n,t){const e=Nt(n),s=e.Tu.get(t),a=e.Iu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Fy(e.remoteStore,s.targetId))}async function M6(n,t,e){const s=U6(n);try{const a=await(function(c,d){const p=Nt(c),g=pe.now(),v=d.reduce(((R,L)=>R.add(L.key)),Ht());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let L=Os(),G=Ht();return p.xs.getEntries(R,v).next((B=>{L=B,L.forEach(((Y,tt)=>{tt.isValidDocument()||(G=G.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,L))).next((B=>{T=B;const Y=[];for(const tt of d){const $=F3(tt,T.get(tt.key).overlayedDocument);$!=null&&Y.push(new Pa(tt.key,$,Zw($.value.mapValue),Rs.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Y,d)})).next((B=>{S=B;const Y=B.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(R,B.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:uC(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new be(Ft)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(s,a.batchId,e),await hc(s,a.changes),await rd(s.remoteStore)}catch(a){const l=Yy(a,"Failed to persist write");e.reject(l)}}async function GC(n,t){const e=Nt(n);try{const s=await B5(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=e.Au.get(l);c&&(te(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?te(c.hu,14607):a.removedDocuments.size>0&&(te(c.hu,42227),c.hu=!1))})),await hc(e,s,t)}catch(s){await ll(s)}}function ub(n,t,e){const s=Nt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Nt(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.ba)S.va(d)&&(g=!0)})),g&&Qy(p)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function N6(n,t,e){const s=Nt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new be(At.comparator);c=c.insert(l,pn.newNoDocument(l,It.min()));const d=Ht().add(l),p=new nd(It.min(),new Map,new be(Ft),c,d);await GC(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(t),$y(s)}else await Rg(s.localStore,t,!1).then((()=>Mg(s,t,e))).catch(ll)}async function O6(n,t){const e=Nt(n),s=t.batch.batchId;try{const a=await j5(e.localStore,t);YC(e,s,null),KC(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await hc(e,a)}catch(a){await ll(a)}}async function V6(n,t,e){const s=Nt(n);try{const a=await(function(c,d){const p=Nt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(te(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);YC(s,t,e),KC(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await hc(s,a)}catch(a){await ll(a)}}function KC(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function YC(n,t,e){const s=Nt(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function Mg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||QC(n,s)}))}function QC(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(Fy(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),$y(n))}function cb(n,t,e){for(const s of e)s instanceof FC?(n.Vu.addReference(s.key,t),k6(n,s)):s instanceof HC?(gt(Xy,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||QC(n,s.key)):Rt(19791,{wu:s})}function k6(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(gt(Xy,"New document in limbo: "+e),n.Eu.add(s),$y(n))}function $y(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new At(Te.fromString(t)),s=n.fu.next();n.Au.set(s,new A6(e)),n.Ru=n.Ru.insert(e,s),PC(n.remoteStore,new br(Ji(Oy(e.path)),s,"TargetPurposeLimboResolution",Qf.ce))}}async function hc(n,t,e){const s=Nt(n),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=By.Es(p.targetId,g);l.push(v)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(p,g){const v=Nt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(S=>rt.forEach(S.Ts,(R=>v.persistence.referenceDelegate.addReference(T,S.targetId,R))).next((()=>rt.forEach(S.Is,(R=>v.persistence.referenceDelegate.removeReference(T,S.targetId,R)))))))))}catch(T){if(!ul(T))throw T;gt(zy,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const R=v.vs.get(S),L=R.snapshotVersion,G=R.withLastLimboFreeSnapshotVersion(L);v.vs=v.vs.insert(S,G)}}})(s.localStore,l))}async function P6(n,t){const e=Nt(n);if(!e.currentUser.isEqual(t)){gt(Xy,"User change. New user:",t.toKey());const s=await NC(e.localStore,t);e.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new Et(lt.CANCELLED,c))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await hc(e,s.Ns)}}function L6(n,t){const e=Nt(n),s=e.Au.get(t);if(s&&s.hu)return Ht().add(s.key);{let a=Ht();const l=e.Iu.get(t);if(!l)return a;for(const c of l){const d=e.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function XC(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=GC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=N6.bind(null,t),t.Pu.J_=_6.bind(null,t.eventManager),t.Pu.yu=T6.bind(null,t.eventManager),t}function U6(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=O6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=V6.bind(null,t),t}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=id(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return U5(this.persistence,new k5,t.initialUser,this.serializer)}Cu(t){return new MC(jy.Vi,this.serializer)}Du(t){return new G5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class j6 extends Lf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){te(this.persistence.referenceDelegate instanceof kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new T5(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new MC((s=>kf.Vi(s,e)),this.serializer)}}class Ng{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ub(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=P6.bind(null,this.syncEngine),await m6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new g6})()}createDatastore(t){const e=id(t.databaseInfo.databaseId),s=$5(t.databaseInfo);return e6(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,l,c,d){return new i6(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>ub(this.syncEngine,e,0)),(function(){return ib.v()?new ib:new K5})())}createSyncEngine(t,e){return(function(a,l,c,d,p,g,v){const T=new w6(a,l,c,d,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Nt(e);gt(Ma,"RemoteStore shutting down."),s.Ea.add(5),await cc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ng.provider={build:()=>new Ng};class B6{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Pr="FirestoreClient";class z6{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{gt(Pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(gt(Pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Yy(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Up(n,t){n.asyncQueue.verifyOperationInProgress(),gt(Pr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await NC(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function hb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await F6(n);gt(Pr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>rb(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>rb(t.remoteStore,a))),n._onlineComponents=t}async function F6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gt(Pr,"Using user provided OfflineComponentProvider");try{await Up(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===lt.FAILED_PRECONDITION||a.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Xo("Error using user provided cache. Falling back to memory cache: "+e),await Up(n,new Lf)}}else gt(Pr,"Using default OfflineComponentProvider"),await Up(n,new j6(void 0));return n._offlineComponents}async function $C(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gt(Pr,"Using user provided OnlineComponentProvider"),await hb(n,n._uninitializedComponentsProvider._online)):(gt(Pr,"Using default OnlineComponentProvider"),await hb(n,new Ng))),n._onlineComponents}function H6(n){return $C(n).then((t=>t.syncEngine))}async function fb(n){const t=await $C(n),e=t.eventManager;return e.onListen=C6.bind(null,t.syncEngine),e.onUnlisten=I6.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=x6.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=D6.bind(null,t.syncEngine),e}function q6(n,t,e,s){const a=new B6(s),l=new E6(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>y6(await fb(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>v6(await fb(n),l)))}}function G6(n,t){const e=new Aa;return n.asyncQueue.enqueueAndForget((async()=>M6(await H6(n),t,e))),e.promise}function WC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const K6="ComponentProvider",db=new Map;function Y6(n,t,e,s,a){return new c3(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,WC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const JC="firestore.googleapis.com",mb=!0;class pb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Et(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JC,this.ssl=mb}else this.host=t.host,this.ssl=t.ssl??mb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<v5)throw new Et(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WC(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Et(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Et(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Et(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wy{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FP;switch(s.type){case"firstParty":return new KP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Et(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=db.get(e);s&&(gt(K6,"Removing Datastore"),db.delete(e),s.terminate())})(this),Promise.resolve()}}function Q6(n,t,e,s={}){n=Ho(n,Wy);const a=sl(t),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;a&&(YA(`https://${d}`),QA("Firestore",!0)),l.host!==JC&&l.host!==d&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:s};if(!Ca(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=mn.MOCK_USER;else{g=WO(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Et(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(T)}n._authCredentials=new HP(new Fw(g,v))}}class ad{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ad(this.firestore,t,this._query)}}class Ze{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(oc(e,Ze._jsonSchema))return new Ze(t,s||null,new At(Te.fromString(e.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Fe("string",Ze._jsonSchemaVersion),referencePath:Fe("string")};class Qu extends ad{constructor(t,e,s){super(t,e,Oy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new At(t))}withConverter(t){return new Qu(this.firestore,t,this._path)}}function gb(n,t,...e){if(n=Nn(n),arguments.length===1&&(t=Cy.newId()),JP("doc","path",t),n instanceof Wy){const s=Te.fromString(t,...e);return R1(s),new Ze(n,null,new At(s))}{if(!(n instanceof Ze||n instanceof Qu))throw new Et(lt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Te.fromString(t,...e));return R1(s),new Ze(n.firestore,n instanceof Qu?n.converter:null,new At(s))}}const yb="AsyncQueue";class vb{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VC(this,"async_queue_retry"),this._c=()=>{const s=Lp();s&&gt(yb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Lp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;gt(yb,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",_b(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Ky.createAndSchedule(this,t,e,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Rt(47125,{Pc:_b(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function _b(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Uf extends Wy{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new vb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vb(t),this._firestoreClient=void 0,await t}}}function X6(n,t){const e=typeof n=="object"?n:JA(),s=typeof n=="string"?n:Rf,a=gy(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=XO("firestore");l&&Q6(a,...l)}return a}function ZC(n){if(n._terminated)throw new Et(lt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$6(n),n._firestoreClient}function $6(n){const t=n._freezeSettings(),e=Y6(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new z6(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ri(hn.fromBase64String(t))}catch(e){throw new Et(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ri(hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(oc(t,ri._jsonSchema))return ri.fromBase64String(t.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Fe("string",ri._jsonSchemaVersion),bytes:Fe("string")};class tx{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Et(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ex{constructor(t){this._methodName=t}}class ts{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Et(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Et(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(t){if(oc(t,ts._jsonSchema))return new ts(t.latitude,t.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Fe("string",ts._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};class Si{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(oc(t,Si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Si(t.vectorValues);throw new Et(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Fe("string",Si._jsonSchemaVersion),vectorValues:Fe("object")};const W6=/^__.*__$/;class J6{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Pa(t,this.data,this.fieldMask,e,this.fieldTransforms):new lc(t,this.data,e,this.fieldTransforms)}}function nx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{dataSource:n})}}class Jy{constructor(t,e,s,a,l,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Jy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return jf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(nx(this.dataSource)&&W6.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Z6{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||id(t)}createContext(t,e,s,a=!1){return new Jy({dataSource:t,methodName:e,targetDoc:s,path:cn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tL(n){const t=n._freezeSettings(),e=id(n._databaseId);return new Z6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eL(n,t,e,s,a,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);ax("Data must be an object, but it was:",c,s);const d=sx(s,c);let p,g;if(l.merge)p=new bi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=Zy(t,T,e);if(!c.contains(S))throw new Et(lt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);sL(v,S)||v.push(S)}p=new bi(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new J6(new si(d),p,g)}function ix(n,t){if(rx(n=Nn(n)))return ax("Unsupported field value:",t,n),sx(n,t);if(n instanceof ex)return(function(s,a){if(!nx(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let p=ix(d,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,t)}return(function(s,a){if((s=Nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return P3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=pe.fromDate(s);return{timestampValue:Vf(a.serializer,l)}}if(s instanceof pe){const l=new pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vf(a.serializer,l)}}if(s instanceof ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ri)return{bytesValue:bC(a.serializer,s._byteString)};if(s instanceof Ze){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ly(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Si)return(function(c,d){const p=c instanceof Si?c.toArray():c;return{mapValue:{fields:{[Ww]:{stringValue:Jw},[If]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Vy(d.serializer,v)}))}}}}}})(s,a);if(IC(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${xy(s)}`)})(n,t)}function sx(n,t){const e={};return Gw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Va(n,((s,a)=>{const l=ix(a,t.childContextForField(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function rx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pe||n instanceof ts||n instanceof ri||n instanceof Ze||n instanceof ex||n instanceof Si||IC(n))}function ax(n,t,e){if(!rx(e)||!Hw(e)){const s=xy(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function Zy(n,t,e){if((t=Nn(t))instanceof tx)return t._internalPath;if(typeof t=="string")return iL(n,t);throw jf("Field path arguments must be of type string or ",n,!1,void 0,e)}const nL=new RegExp("[~\\*/\\[\\]]");function iL(n,t,e){if(t.search(nL)>=0)throw jf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new tx(...t.split("."))._internalPath}catch{throw jf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function jf(n,t,e,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new Et(lt.INVALID_ARGUMENT,d+n+p)}function sL(n,t){return n.some((e=>e.isEqual(t)))}class rL{convertValue(t,e="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Va(t,((a,l)=>{s[a]=this.convertValue(l,e)})),s}convertVectorValue(t){const e=t.fields?.[If].arrayValue?.values?.map((s=>De(s.doubleValue)));return new Si(e)}convertGeoPoint(t){return new ts(De(t.latitude),De(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=$f(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Hu(t));default:return null}}convertTimestamp(t){const e=Nr(t);return new pe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Te.fromString(t);te(RC(s),9688,{name:t});const a=new qu(s.get(1),s.get(3)),l=new At(s.popFirst(5));return a.isEqual(e)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class ox extends rL{constructor(t){super(),this.firestore=t}convertBytes(t){return new ri(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,e)}}const Tb="@firebase/firestore",Eb="4.10.0";function bb(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class lx{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Zy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class aL extends lx{data(){return super.data()}}function oL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Et(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function lL(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class bu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wa extends lx{constructor(t,e,s,a,l,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Zy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=wa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Fe("string",wa._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class lf extends wa{data(t={}){return super.data(t)}}class Ko{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new bu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new lf(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Et(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new bu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new lf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new bu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:uL(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ko._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:Fe("string",Ko._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};function cL(n,t,e){n=Ho(n,Ze);const s=Ho(n.firestore,Uf),a=lL(n.converter,t,e),l=tL(s);return fL(s,[eL(l,"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Rs.none())])}function hL(n,...t){n=Nn(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||bb(t[s])||(e=t[s++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(bb(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let l,c,d;if(n instanceof Ze)c=Ho(n.firestore,Uf),d=Oy(n._key.path),l={next:g=>{t[s]&&t[s](dL(c,n,g))},error:t[s+1],complete:t[s+2]};else{const g=Ho(n,ad);c=Ho(g.firestore,Uf),d=g._query;const v=new ox(c);l={next:T=>{t[s]&&t[s](new Ko(c,v,g,T))},error:t[s+1],complete:t[s+2]},oL(n._query)}const p=ZC(c);return q6(p,d,a,l)}function fL(n,t){const e=ZC(n);return G6(e,t)}function dL(n,t,e){const s=e.docs.get(t._key),a=new ox(n);return new wa(n,a,t._key,s,new bu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){zP(rl),Qo(new xa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Uf(new qP(s.getProvider("auth-internal")),new YP(c,s.getProvider("app-check-internal")),h3(c,a),c);return l={useFetchStreams:e,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),wr(Tb,Eb,t),wr(Tb,Eb,"esm2020")})();const mL={apiKey:"AIzaSyCSJpv7YjkBdDr-wuJayehy3hpLO3_1k5E",authDomain:"buildybot-4891d.firebaseapp.com",projectId:"buildybot-4891d",storageBucket:"buildybot-4891d.firebasestorage.app",messagingSenderId:"35056849072",appId:"1:35056849072:web:6e44ae1c52f9772626eb75"},ux=WA(mL),uf=jP(ux),Sb=X6(ux),cx=st.createContext(),od=()=>st.useContext(cx),pL=({children:n})=>{const[t,e]=st.useState(null),[s,a]=st.useState(!0),[l,c]=st.useState({parker:0,barrett:0}),[d,p]=st.useState({}),[g,v]=st.useState({parker:{xp:0,level:1,streak:0,lastBuildDate:null},barrett:{xp:0,level:1,streak:0,lastBuildDate:null}});st.useEffect(()=>{const nt=xk(uf,ot=>{e(ot),ot||T(),a(!1)});return()=>nt()},[]),st.useEffect(()=>{if(!t)return;const nt=gb(Sb,"families",t.uid),ot=hL(nt,ct=>{if(ct.exists()){const x=ct.data();x.coins&&c(x.coins),x.history&&p(x.history),x.stats&&v(x.stats)}else R()});return()=>ot()},[t]);const T=()=>{try{const nt=localStorage.getItem("lego_coins"),ot=localStorage.getItem("lego_history"),ct=localStorage.getItem("lego_stats");nt&&c(JSON.parse(nt)),ot&&p(JSON.parse(ot)),ct&&v(JSON.parse(ct))}catch(nt){console.error("Local Load Error",nt),c({parker:0,barrett:0}),p({}),v({parker:{xp:0,level:1,streak:0,lastBuildDate:null},barrett:{xp:0,level:1,streak:0,lastBuildDate:null}})}},S=(nt,ot,ct)=>{localStorage.setItem("lego_coins",JSON.stringify(nt)),localStorage.setItem("lego_history",JSON.stringify(ot)),localStorage.setItem("lego_stats",JSON.stringify(ct)),t&&cL(gb(Sb,"families",t.uid),{coins:nt,history:ot,stats:ct},{merge:!0})},R=()=>{S(l,d,g)},L=(nt,ot)=>{const ct={...l,[nt]:(l[nt]||0)+ot};c(ct),S(ct,d,g)},G=(nt,ot)=>{if(l[nt]>=ot){const ct={...l,[nt]:l[nt]-ot};return c(ct),S(ct,d,g),!0}return!1},B=nt=>{let ot,ct,x;nt==="all"?(ot={parker:0,barrett:0},ct={},x={parker:{xp:0,level:1,streak:0,lastBuildDate:null},barrett:{xp:0,level:1,streak:0,lastBuildDate:null}}):(ot={...l,[nt]:0},ct={...d,[nt]:[]},x={...g,[nt]:{xp:0,level:1,streak:0,lastBuildDate:null}}),c(ot),p(ct),v(x),S(ot,ct,x)},Y=(nt,ot)=>{const ct=Math.max(0,parseInt(ot)||0),x={...l,[nt]:ct};c(x),S(x,d,g)},tt=nt=>Math.floor(Math.sqrt(nt/50))+1,$=(nt,ot)=>{const ct=ot.coins,x={...l,[nt]:(l[nt]||0)+ct},C={id:Date.now(),text:ot.text,category:ot.category,coins:ct,date:new Date().toISOString()},I={...d,[nt]:[C,...d[nt]||[]]},N=g[nt]||{xp:0,level:1,streak:0,lastBuildDate:null},O=new Date().toDateString(),P=N.lastBuildDate?new Date(N.lastBuildDate).toDateString():null;let M=N.streak;if(O!==P){const pt=new Date;pt.setDate(pt.getDate()-1),P===pt.toDateString()?M+=1:P!==O&&(M=1)}const ne=N.xp+50,W=tt(ne),ut={...g,[nt]:{...N,xp:ne,level:W,streak:M,lastBuildDate:new Date().toISOString()}};c(x),p(I),v(ut),S(x,I,ut)};return D.jsx(cx.Provider,{value:{coins:l,history:d,stats:g,user:t,addCoins:L,spendCoins:G,resetCoins:B,setCoinsManually:Y,completeChallenge:$},children:n})};class gL{constructor(){this.ctx=null,this.masterGain=null,this.isMuted=!1}init(){if(!this.ctx){const t=window.AudioContext||window.webkitAudioContext;this.ctx=new t,this.masterGain=this.ctx.createGain(),this.masterGain.gain.value=.3,this.masterGain.connect(this.ctx.destination)}this.ctx.state==="suspended"&&this.ctx.resume()}toggleMute(){return this.isMuted=!this.isMuted,this.masterGain&&this.masterGain.gain.setValueAtTime(this.isMuted?0:.3,this.ctx.currentTime),this.isMuted}playPop(){if(this.isMuted)return;this.init();const t=this.ctx.currentTime,e=this.ctx.createOscillator(),s=this.ctx.createGain();e.connect(s),s.connect(this.masterGain),e.type="sine",e.frequency.setValueAtTime(800,t),e.frequency.exponentialRampToValueAtTime(1200,t+.1),s.gain.setValueAtTime(0,t),s.gain.linearRampToValueAtTime(1,t+.02),s.gain.exponentialRampToValueAtTime(.01,t+.15),e.start(t),e.stop(t+.15)}playClick(){if(this.isMuted)return;this.init();const t=this.ctx.currentTime,e=this.ctx.createOscillator(),s=this.ctx.createGain();e.connect(s),s.connect(this.masterGain),e.type="triangle",e.frequency.setValueAtTime(300,t),e.frequency.exponentialRampToValueAtTime(50,t+.1),s.gain.setValueAtTime(0,t),s.gain.linearRampToValueAtTime(1,t+.01),s.gain.exponentialRampToValueAtTime(.01,t+.15),e.start(t),e.stop(t+.15)}playSuccess(){if(this.isMuted)return;this.init();const t=this.ctx.currentTime;[523.25,659.25,783.99].forEach((s,a)=>{const l=this.ctx.createOscillator(),c=this.ctx.createGain();l.connect(c),c.connect(this.masterGain),l.type="sine",l.frequency.value=s;const d=t+a*.05;c.gain.setValueAtTime(0,d),c.gain.linearRampToValueAtTime(.5,d+.1),c.gain.exponentialRampToValueAtTime(.01,d+1.5),l.start(d),l.stop(d+2)})}playWhoosh(){if(this.isMuted)return;this.init();const t=this.ctx.currentTime,e=this.ctx.sampleRate*.5,s=this.ctx.createBuffer(1,e,this.ctx.sampleRate),a=s.getChannelData(0);for(let p=0;p<e;p++)a[p]=Math.random()*2-1;const l=this.ctx.createBufferSource();l.buffer=s;const c=this.ctx.createBiquadFilter();c.type="lowpass",c.frequency.setValueAtTime(200,t),c.frequency.exponentialRampToValueAtTime(2e3,t+.2),c.frequency.exponentialRampToValueAtTime(100,t+.5);const d=this.ctx.createGain();l.connect(c),c.connect(d),d.connect(this.masterGain),d.gain.setValueAtTime(0,t),d.gain.linearRampToValueAtTime(.5,t+.1),d.gain.linearRampToValueAtTime(0,t+.5),l.start(t)}}const _a=new gL,hx=st.createContext();function yL({children:n}){const[t,e]=st.useState(!1),s=()=>{const l=_a.toggleMute();e(l),l||_a.playPop()},a=l=>{switch(l){case"pop":_a.playPop();break;case"click":_a.playClick();break;case"success":_a.playSuccess();break;case"whoosh":_a.playWhoosh();break;default:console.warn(`Unknown sound type: ${l}`)}};return D.jsx(hx.Provider,{value:{isMuted:t,toggleMute:s,playSound:a},children:n})}function fx(){return st.useContext(hx)}function vL({isOpen:n,onClose:t}){const{history:e,stats:s}=od();return n?D.jsx(Dr,{children:D.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:D.jsxs(Gt.div,{initial:{scale:.9,y:50},animate:{scale:1,y:0},exit:{scale:.9,y:50},className:"w-full max-w-5xl max-h-[90vh] glass-liquid flex flex-col relative overflow-hidden text-lego-black",onClick:a=>a.stopPropagation(),children:[D.jsxs("div",{className:"p-6 bg-white/40 border-b border-white/30 flex justify-between items-center shrink-0",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx(fy,{className:"text-yellow-500 drop-shadow-md",size:40}),D.jsx("h2",{className:"text-3xl md:text-5xl font-black tracking-wide text-lego-black drop-shadow-sm",children:"Hall of Fame"})]}),D.jsxs("button",{onClick:t,className:"bg-lego-red hover:bg-red-600 text-white px-6 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 transition-transform hover:scale-105",children:[D.jsx(LA,{size:24}),D.jsx("span",{children:"Home"})]})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar",children:D.jsxs("div",{className:"grid md:grid-cols-2 gap-8 h-full",children:[D.jsxs("div",{className:"flex flex-col gap-4",children:[D.jsx(Ab,{name:"Parker",color:"text-lego-green",bg:"bg-lego-green/10",borderColor:"border-lego-green",stats:s?.parker}),D.jsx("div",{className:"space-y-4 flex-1",children:!e.parker||e.parker.length===0?D.jsx("div",{className:"opacity-50 italic text-center p-8",children:"No builds yet. Go play!"}):e.parker.map(a=>D.jsx(wb,{item:a,color:"bg-lego-green/10 border-lego-green/20"},a.id))})]}),D.jsxs("div",{className:"flex flex-col gap-4",children:[D.jsx(Ab,{name:"Barrett",color:"text-lego-blue",bg:"bg-lego-blue/10",borderColor:"border-lego-blue",stats:s?.barrett}),D.jsx("div",{className:"space-y-4 flex-1",children:!e.barrett||e.barrett.length===0?D.jsx("div",{className:"opacity-50 italic text-center p-8",children:"No builds yet. Go play!"}):e.barrett.map(a=>D.jsx(wb,{item:a,color:"bg-lego-blue/10 border-lego-blue/20"},a.id))})]})]})})]})})}):null}function Ab({name:n,color:t,bg:e,borderColor:s,stats:a}){return a?D.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border-2 ${s} ${e} backdrop-blur-md`,children:[D.jsx("h3",{className:`text-3xl font-bold ${t}`,children:n}),D.jsxs("div",{className:"flex gap-4",children:[D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Level"}),D.jsx("span",{className:"text-2xl font-black",children:a.level})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Streak"}),D.jsxs("div",{className:"flex items-center gap-1 text-orange-500",children:[D.jsx(VA,{size:20,fill:"currentColor"}),D.jsx("span",{className:"text-2xl font-black",children:a.streak})]})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"XP"}),D.jsx("span",{className:"text-2xl font-black text-purple-600",children:a.xp})]})]})]}):null}function wb({item:n,color:t}){const e=new Date(n.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});return D.jsxs(Gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`flex items-center gap-4 p-4 rounded-2xl border-2 ${t} bg-white/60 shadow-sm backdrop-blur-md`,children:[D.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shrink-0 shadow-sm border border-gray-100",children:D.jsx(PA,{size:24,className:"text-gray-400"})}),D.jsxs("div",{className:"flex-1 text-left",children:[D.jsx("p",{className:"font-bold text-lg leading-tight text-gray-800",children:n.text}),D.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-2 font-medium",children:[D.jsxs("div",{className:"flex items-center gap-1",children:[D.jsx(WN,{size:14}),D.jsx("span",{children:e})]}),n.coins&&D.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[D.jsx("span",{className:"text-yellow-400",children:""}),D.jsxs("span",{children:["+",n.coins," Coins"]})]}),n.xp&&D.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[D.jsx("span",{className:"text-purple-400",children:""}),D.jsxs("span",{children:["+",n.xp," XP"]})]})]})]})]})}function Cb({xp:n,level:t}){const e=Math.pow(t-1,2)*50,s=Math.pow(t,2)*50,a=n-e,l=s-e,c=Math.min(100,Math.max(0,a/l*100));return D.jsxs("div",{className:"w-full max-w-sm",children:[D.jsxs("div",{className:"flex justify-between items-end mb-1 px-2",children:[D.jsxs("span",{className:"text-lego-black font-bold text-sm",children:["LEVEL ",t]}),D.jsxs("span",{className:"text-gray-500 text-xs font-bold",children:[Math.floor(a)," / ",l," XP"]})]}),D.jsxs("div",{className:"h-6 bg-gray-200 rounded-full border-2 border-white/50 overflow-hidden relative shadow-inner",children:[D.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),D.jsx(Gt.div,{className:"h-full bg-gradient-to-r from-lego-blue to-cyan-400 rounded-full",initial:{width:0},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"}}),D.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-white/30 rounded-full"})]})]})}function xb({streak:n}){const t=n>0;return D.jsxs("div",{className:"flex flex-col items-center group cursor-help relative",title:`${n} Day Streak!`,children:[D.jsxs("div",{className:"relative",children:[t&&D.jsx(Gt.div,{animate:{opacity:[.5,.8,.5],scale:[1,1.1,1]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 bg-orange-500 blur-xl rounded-full"}),D.jsx("div",{className:`
                    relative p-3 rounded-full border-4 shadow-lg transition-colors
                    ${t?"bg-orange-500 border-yellow-300":"bg-gray-300 border-gray-400"}
                `,children:D.jsx(VA,{size:32,className:`
                            ${t?"text-white fill-yellow-200":"text-gray-500"}
                        `})}),t&&D.jsx("div",{className:"absolute -bottom-2 -right-2 bg-lego-red text-white font-bold w-6 h-6 rounded-full flex items-center justify-center text-xs border-2 border-white",children:n})]}),D.jsx("span",{className:"text-xs font-bold text-gray-600 mt-1 uppercase tracking-wider",children:"Streak"})]})}function _L({onSelectProfile:n}){const{coins:t,resetCoins:e,setCoinsManually:s,stats:a,user:l}=od(),{playSound:c}=fx(),[d,p]=st.useState(!1),[g,v]=st.useState(""),[T,S]=st.useState(""),[R,L]=st.useState(""),[G,B]=st.useState(!0),[Y,tt]=st.useState(""),[$,nt]=st.useState(""),[ot,ct]=st.useState(!1),[x,C]=st.useState(""),[I,N]=st.useState(!1),[O,P]=st.useState(!1),M=St=>{St.preventDefault(),x==="92585"?(ct(!1),p(!0),C(""),N(!1)):(N(!0),C(""))};return D.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center relative overflow-hidden",children:[D.jsx(vL,{isOpen:O,onClose:()=>P(!1)}),D.jsx(Gt.h1,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},className:"text-6xl md:text-9xl mb-6 title-premium animate-bounce-slow",children:" BuildyBot"}),D.jsx(Gt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>_a.init(),className:"text-2xl md:text-3xl text-white mb-12 font-bold drop-shadow-md bg-lego-black/20 px-6 py-3 rounded-full backdrop-blur-sm",children:"Who is building today?"}),D.jsxs(Gt.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.4}}},className:"flex flex-col md:flex-row gap-12 w-full max-w-4xl justify-center px-4",children:[D.jsxs(Gt.button,{variants:{hidden:{y:50,opacity:0,scale:.8},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",bounce:.4}}},whileHover:{scale:1.05,rotate:-2},whileTap:{scale:.95,y:5},onClick:()=>{c("click"),n("parker")},className:"flex-1 glass-panel bg-lego-green/80 hover:bg-lego-green transition-colors text-white p-10 flex flex-col items-center gap-4 btn-lego-large relative border-4 border-white/20",children:[D.jsx(Gt.div,{animate:{y:[0,-8,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:D.jsx(YN,{size:80,className:"drop-shadow-lg"})}),D.jsx("span",{className:"text-4xl md:text-5xl font-bold drop-shadow-md",children:"Parker"}),D.jsx("span",{className:"text-xl opacity-90 font-medium bg-white/20 px-4 py-1 rounded-full",children:"(Age 2)"}),D.jsxs("div",{className:"w-full mt-2 flex items-center gap-2",children:[D.jsx(xb,{streak:a?.parker?.streak||0}),D.jsx(Cb,{xp:a?.parker?.xp||0,level:a?.parker?.level||1})]})]}),D.jsxs(Gt.button,{variants:{hidden:{y:50,opacity:0,scale:.8},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",bounce:.4}}},whileHover:{scale:1.05,rotate:2},whileTap:{scale:.95,y:5},onClick:()=>{c("click"),n("barrett")},className:"flex-1 glass-panel bg-lego-blue/80 hover:bg-lego-blue transition-colors text-white p-10 flex flex-col items-center gap-4 btn-lego-large relative border-4 border-white/20",children:[D.jsx(Gt.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:D.jsx(PA,{size:80,className:"drop-shadow-lg"})}),D.jsx("span",{className:"text-4xl md:text-5xl font-bold drop-shadow-md",children:"Barrett"}),D.jsx("span",{className:"text-xl opacity-90 font-medium bg-white/20 px-4 py-1 rounded-full",children:"(Age 7)"}),D.jsxs("div",{className:"w-full mt-2 flex items-center gap-2",children:[D.jsx(xb,{streak:a?.barrett?.streak||0}),D.jsx(Cb,{xp:a?.barrett?.xp||0,level:a?.barrett?.level||1})]})]})]}),D.jsxs(Gt.button,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},onClick:()=>{c("pop"),P(!0)},className:"mt-12 bg-white/20 backdrop-blur-md border-2 border-white/40 text-white px-8 py-3 rounded-full font-bold text-xl flex items-center gap-2 hover:bg-white/30 transition-colors shadow-lg",children:[D.jsx(fy,{className:"text-yellow-400"}),D.jsx("span",{children:"Hall of Fame"})]}),D.jsx("button",{onClick:()=>ct(!0),className:"absolute bottom-4 right-4 p-3 bg-white text-lego-black hover:bg-gray-100 rounded-full shadow-xl transition-all z-50 border-2 border-white/50",children:D.jsx(xO,{size:28})}),D.jsx(Dr,{children:ot&&D.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",onClick:()=>ct(!1),children:D.jsxs(Gt.form,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onSubmit:M,className:"bg-white rounded-2xl p-8 w-full max-w-sm shadow-2xl relative text-center",onClick:St=>St.stopPropagation(),children:[D.jsx("button",{type:"button",onClick:()=>ct(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:D.jsx(og,{size:24})}),D.jsx("h2",{className:"text-2xl font-bold text-lego-black mb-4",children:"Adults Only "}),D.jsx("p",{className:"mb-4 text-gray-600",children:"Enter PIN to access settings:"}),D.jsx("input",{type:"password",autoFocus:!0,value:x,onChange:St=>C(St.target.value),className:"w-full text-center text-3xl font-bold tracking-widest p-3 border-2 rounded-xl mb-4 focus:border-lego-blue focus:outline-none",maxLength:5,placeholder:""}),I&&D.jsx("p",{className:"text-red-500 font-bold mb-4 animate-pulse",children:"Wrong PIN!"}),D.jsx("button",{type:"submit",className:"w-full bg-lego-blue text-white font-bold py-3 rounded-xl hover:bg-blue-600 transition-colors",children:"Unlock"})]})})}),D.jsx(Dr,{children:d&&D.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>p(!1),children:D.jsxs(Gt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl relative",onClick:St=>St.stopPropagation(),children:[D.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:D.jsx(og,{size:24})}),D.jsx("h2",{className:"text-2xl font-bold text-lego-black mb-6",children:"Parent Controls"}),D.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl mb-6 text-left",children:[D.jsxs("div",{className:"flex items-center gap-2 mb-2 text-purple-800 font-bold",children:[D.jsx(iO,{size:20}),D.jsxs("h3",{children:["Cloud Sync ",l?"(Active)":"(Inactive)"]})]}),l?D.jsxs("div",{className:"text-sm",children:[D.jsxs("p",{className:"text-green-600 font-bold mb-2",children:["Logged in as ",l.email]}),D.jsx("button",{onClick:()=>Rk(uf),className:"text-red-500 underline text-xs",children:"Sign Out"})]}):D.jsxs("div",{className:"space-y-2",children:[D.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Sign in to sync progress across devices."}),D.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-3 py-2 border rounded text-sm",value:g,onChange:St=>v(St.target.value)}),D.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-3 py-2 border rounded text-sm",value:T,onChange:St=>S(St.target.value)}),R&&D.jsx("p",{className:"text-red-500 text-xs",children:R}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:async()=>{try{await Ak(uf,g,T),L("")}catch(St){L(St.message)}},className:"flex-1 bg-purple-600 text-white py-2 rounded text-sm font-bold",children:"Login"}),D.jsx("button",{onClick:async()=>{try{await Sk(uf,g,T),L("")}catch(St){L(St.message)}},className:"flex-1 bg-purple-200 text-purple-800 py-2 rounded text-sm font-bold",children:"Register"})]})]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl space-y-3",children:[D.jsx("h3",{className:"font-bold text-blue-800 text-sm",children:"Set Coin Balance"}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-sm font-medium w-20",children:"Parker:"}),D.jsx("input",{type:"number",placeholder:t.parker.toString(),value:Y,onChange:St=>tt(St.target.value),className:"flex-1 px-3 py-2 border rounded-lg text-center font-bold"}),D.jsx("button",{onClick:()=>{Y!==""&&(s("parker",Y),tt(""))},className:"px-3 py-2 bg-blue-500 text-white rounded-lg font-bold text-sm",children:"Set"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-sm font-medium w-20",children:"Barrett:"}),D.jsx("input",{type:"number",placeholder:t.barrett.toString(),value:$,onChange:St=>nt(St.target.value),className:"flex-1 px-3 py-2 border rounded-lg text-center font-bold"}),D.jsx("button",{onClick:()=>{$!==""&&(s("barrett",$),nt(""))},className:"px-3 py-2 bg-blue-500 text-white rounded-lg font-bold text-sm",children:"Set"})]})]}),D.jsx("hr",{className:"border-gray-200"}),D.jsxs("button",{onClick:()=>{confirm("Reset PARKER'S coins to 0?")&&(e("parker"),p(!1))},className:"w-full flex items-center justify-between p-4 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 font-bold",children:[D.jsx("span",{children:"Reset Parker"}),D.jsx(Cp,{size:20})]}),D.jsxs("button",{onClick:()=>{confirm("Reset BARRETT'S coins to 0?")&&(e("barrett"),p(!1))},className:"w-full flex items-center justify-between p-4 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 font-bold",children:[D.jsx("span",{children:"Reset Barrett"}),D.jsx(Cp,{size:20})]}),D.jsxs("button",{onClick:()=>{confirm("Reset ALL coins to 0? This cannot be undone.")&&(e("all"),p(!1))},className:"w-full flex items-center justify-between p-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-bold mt-4",children:[D.jsx("span",{children:"Reset All Data"}),D.jsx(Cp,{size:20})]})]})]})})})]})}const TL={parker:[{id:"p-tower",text:"Build a tall tower!",coins:3,category:"building"},{id:"p-doghouse",text:"Build a house for a dog.",coins:5,category:"building"},{id:"p-bridge",text:"Build a long bridge.",coins:4,category:"building"},{id:"p-redcar",text:"Build a red car.",coins:4,category:"vehicle"},{id:"p-pizza",text:"Build a yummy pizza.",coins:2,category:"generic"},{id:"p-square",text:"Build a big square.",coins:2,category:"generic"},{id:"p-train",text:"Build a fast train.",coins:5,category:"vehicle"},{id:"p-robot",text:"Build a robot friend.",coins:5,category:"generic"},{id:"p-bface",text:"Build a silly face.",coins:3,category:"generic"},{id:"p-rainbow",text:"Build a rainbow wall.",coins:4,category:"generic"},{id:"p-flower",text:"Build a pretty flower.",coins:3,category:"generic"},{id:"p-boat",text:"Build a boat for the bath.",coins:4,category:"vehicle"},{id:"p-plane",text:"Build a plane with wings.",coins:5,category:"vehicle"},{id:"p-tree",text:"Build a green tree.",coins:3,category:"generic"},{id:"p-gate",text:"Build a gate for a farm.",coins:4,category:"building"}],barrett:[{id:"b-racecar",text:"Build a race car that could win the Grand Prix.",coins:10,category:"vehicle"},{id:"b-monster-truck",text:"Build a monster truck with giant wheels.",coins:12,category:"vehicle"},{id:"b-amphib",text:"Build a vehicle that works on land AND water.",coins:15,category:"vehicle"},{id:"b-jetpack",text:"Build a person wearing a jetpack.",coins:10,category:"vehicle"},{id:"b-helicopter",text:"Build a rescue helicopter with a winch.",coins:15,category:"vehicle"},{id:"b-tank",text:"Build a futuristic tank with laser cannons.",coins:18,category:"vehicle"},{id:"b-hovercraft",text:"Build a hovercraft that floats on air.",coins:15,category:"vehicle"},{id:"b-firetruck",text:"Build a fire truck with an extending ladder.",coins:18,category:"vehicle"},{id:"b-excavator",text:"Build a construction excavator with a moving arm.",coins:20,category:"vehicle"},{id:"b-mars",text:"Build a spaceship that can land on Mars.",coins:18,category:"space"},{id:"b-time",text:"Build a time machine with controls.",coins:20,category:"space"},{id:"b-satellite",text:"Build a satellite with solar panels.",coins:12,category:"space"},{id:"b-moon-base",text:"Build a moon base with a landing pad.",coins:25,category:"space"},{id:"b-alien-ship",text:"Build a UFO for friendly aliens.",coins:15,category:"space"},{id:"b-space-station",text:"Build a space station with multiple rooms.",coins:30,category:"space"},{id:"b-rover",text:"Build a Mars rover with a robot arm.",coins:18,category:"space"},{id:"b-rocket",text:"Build a rocket with detachable stages.",coins:22,category:"space"},{id:"b-volcano",text:"Build a secret base hidden inside a volcano.",coins:25,category:"building"},{id:"b-treehouse",text:"Build the ultimate treehouse with a rope bridge.",coins:20,category:"building"},{id:"b-city",text:"Build a futuristic city with flying cars.",coins:30,category:"building"},{id:"b-pyr",text:"Build an ancient pyramid with a hidden trap.",coins:20,category:"building"},{id:"b-hero-hq",text:"Build a superhero headquarters.",coins:22,category:"building"},{id:"b-skyscraper",text:"Build a skyscraper with at least 5 floors.",coins:25,category:"building"},{id:"b-lighthouse",text:"Build a working lighthouse on a rocky shore.",coins:18,category:"building"},{id:"b-bank",text:"Build a bank with a vault.",coins:20,category:"building"},{id:"b-stadium",text:"Build a sports stadium with seats.",coins:30,category:"building"},{id:"b-bridge-big",text:"Build a suspension bridge cars can cross.",coins:22,category:"building"},{id:"b-airport",text:"Build an airport with a control tower.",coins:35,category:"building"},{id:"b-hospital",text:"Build a hospital with an ambulance bay.",coins:25,category:"building"},{id:"b-castle",text:"Build a castle with a working drawbridge.",coins:30,category:"fantasy"},{id:"b-dragon",text:"Build a dragon that guards treasure.",coins:25,category:"fantasy"},{id:"b-wizard-tower",text:"Build a wizard's tower with a spiral staircase.",coins:22,category:"fantasy"},{id:"b-pirate-ship",text:"Build a pirate ship with cannons.",coins:25,category:"fantasy"},{id:"b-knight",text:"Build a knight in full armor on a horse.",coins:18,category:"fantasy"},{id:"b-treasure-chest",text:"Build a treasure chest that opens.",coins:12,category:"fantasy"},{id:"b-catapult",text:"Build a catapult that can launch bricks.",coins:18,category:"fantasy"},{id:"b-dungeon",text:"Build a dungeon with a secret escape.",coins:20,category:"fantasy"},{id:"b-throne",text:"Build a throne room fit for a king.",coins:20,category:"fantasy"},{id:"b-dino",text:"Build a dinosaur skeleton in a museum.",coins:20,category:"animal"},{id:"b-zoo",text:"Build a zoo with at least 3 animal enclosures.",coins:25,category:"animal"},{id:"b-aquarium",text:"Build an aquarium with fish and sharks.",coins:22,category:"animal"},{id:"b-safari",text:"Build a safari jeep and wild animals.",coins:18,category:"animal"},{id:"b-farm",text:"Build a working farm with a barn.",coins:20,category:"animal"},{id:"b-jungle",text:"Build a jungle scene with vines and animals.",coins:22,category:"animal"},{id:"b-pet-shop",text:"Build a pet shop with different animals.",coins:15,category:"animal"},{id:"b-insect",text:"Build a giant insect (ant, bee, or spider).",coins:12,category:"animal"},{id:"b-mech",text:"Build a giant robot mech a person can pilot.",coins:28,category:"generic"},{id:"b-cookbot",text:"Build a robot designed to cook dinner.",coins:12,category:"generic"},{id:"b-helper-bot",text:"Build a robot that helps with homework.",coins:12,category:"generic"},{id:"b-battle-bot",text:"Build a battle robot with weapons.",coins:18,category:"generic"},{id:"b-transform",text:"Build something that transforms into something else.",coins:25,category:"generic"},{id:"b-movie",text:"Build a scene from your favorite movie.",coins:20,category:"generic"},{id:"b-game",text:"Build a scene from your favorite video game.",coins:20,category:"generic"},{id:"b-bedroom",text:"Build your dream bedroom.",coins:15,category:"building"},{id:"b-restaurant",text:"Build a restaurant with a kitchen.",coins:22,category:"building"},{id:"b-amusement",text:"Build an amusement park ride.",coins:25,category:"building"},{id:"b-escape",text:"Build an escape room with puzzles.",coins:30,category:"building"},{id:"b-concert",text:"Build a concert stage with instruments.",coins:22,category:"generic"},{id:"b-sports",text:"Build your favorite sport being played.",coins:18,category:"generic"},{id:"b-world",text:"Build your own world with multiple buildings.",coins:40,category:"building"},{id:"b-battle",text:"Build an epic battle scene with two sides.",coins:35,category:"fantasy"},{id:"b-invention",text:"Invent something that doesn't exist yet.",coins:30,category:"generic"},{id:"b-story",text:"Build a 3-part story that tells an adventure.",coins:45,category:"generic"},{id:"b-combo",text:"Combine two different sets into one creation.",coins:35,category:"generic"},{id:"b-challenge",text:"Build the tallest tower that can stand by itself.",coins:25,category:"building"},{id:"b-symmetry",text:"Build something perfectly symmetrical.",coins:20,category:"generic"},{id:"b-moving",text:"Build something with a part that moves.",coins:30,category:"generic"},{id:"b-mini",text:"Build a tiny version of something huge.",coins:18,category:"generic"},{id:"b-mega",text:"Build the biggest thing you've ever made.",coins:50,category:"generic"}]},EL=[{id:"mommy-game",label:"Game time with Mommy",cost:200,icon:LO,color:"text-pink-500",bg:"bg-pink-100"},{id:"daddy-game",label:"Game time with Daddy",cost:200,icon:QE,color:"text-blue-500",bg:"bg-blue-100"},{id:"family-game",label:"Family Game Night",cost:300,icon:_O,color:"text-yellow-500",bg:"bg-yellow-100"},{id:"bike-ride",label:"Bike Ride with Dad",cost:250,icon:XN,color:"text-green-600",bg:"bg-green-100"},{id:"tv-time",label:"Extra TV Time (30 min)",cost:250,icon:kO,color:"text-green-500",bg:"bg-green-100"},{id:"video-game",label:"Video Game Time (30 min)",cost:300,icon:QE,color:"text-indigo-500",bg:"bg-indigo-100"},{id:"movie-night",label:"Pick the Movie Night",cost:400,icon:SO,color:"text-red-400",bg:"bg-red-100"},{id:"stay-up-15",label:"Stay up 15 mins late",cost:400,icon:pO,color:"text-purple-500",bg:"bg-purple-100"},{id:"stay-up-30",label:"Stay up 30 mins late",cost:600,icon:DO,color:"text-purple-600",bg:"bg-purple-200"},{id:"skip-chore",label:"Skip one chore",cost:500,icon:jA,color:"text-amber-500",bg:"bg-amber-100"},{id:"ice-cream",label:"Ice Cream Treat",cost:250,icon:dO,color:"text-pink-400",bg:"bg-pink-100"},{id:"dinner-choice",label:"Your Choice for Dinner",cost:350,icon:EO,color:"text-orange-500",bg:"bg-orange-100"},{id:"pick-music",label:"Pick Car Music",cost:150,icon:yO,color:"text-cyan-500",bg:"bg-cyan-100"},{id:"surprise",label:"Mystery Surprise",cost:500,icon:kA,color:"text-teal-500",bg:"bg-teal-100"}];function bL({ageGroup:n,isOpen:t,onClose:e}){const{coins:s,spendCoins:a}=od(),[l,c]=st.useState(null),d=p=>{a(n,p.cost)?(c(p),BA({particleCount:100,spread:70,origin:{y:.6},colors:["#FFD700","#FFA500"]}),setTimeout(()=>c(null),3e3)):alert("Not enough coins yet! Keep building!")};return D.jsx(Dr,{children:t&&D.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:D.jsxs(Gt.div,{initial:{scale:.9,y:50},animate:{scale:1,y:0},exit:{scale:.9,y:50},className:"bg-lego-white rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden shadow-2xl relative",children:[D.jsxs("div",{className:"bg-lego-yellow p-6 flex justify-between items-center shadow-md z-10",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx(UA,{size:40,className:"text-lego-black"}),D.jsx("h2",{className:"text-3xl md:text-4xl font-black text-lego-black",children:"Reward Store"})]}),D.jsxs("div",{className:"flex items-center gap-6",children:[D.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-inner",children:[D.jsx(vf,{size:28,className:"text-yellow-600"}),D.jsx("span",{className:"text-2xl font-bold",children:s[n]})]}),D.jsx("button",{onClick:e,className:"p-2 bg-white/50 rounded-full hover:bg-white transition-colors",children:D.jsx(og,{size:32})})]})]}),D.jsx(Gt.div,{className:"flex-1 overflow-y-auto p-6 md:p-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},children:EL.map(p=>D.jsxs(Gt.div,{variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},layout:!0,whileHover:{scale:1.03,y:-5},className:`relative p-4 rounded-2xl border-2 ${p.bg} flex flex-col items-center text-center gap-3 shadow-lg card-glass overflow-hidden border-white/50 h-full min-h-[280px] justify-between`,children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/40 to-transparent pointer-events-none"}),D.jsx("div",{className:`p-3 rounded-full bg-white shadow-md ${p.color} relative z-10 mt-2`,children:D.jsx(p.icon,{size:40})}),D.jsx("div",{className:"relative z-10 w-full px-1 flex-1 flex items-center justify-center",children:D.jsx("h3",{className:"text-base md:text-lg font-bold text-lego-black bg-white/90 px-3 py-1.5 rounded-lg backdrop-blur-sm shadow-sm leading-tight",children:p.label})}),D.jsx("div",{className:"w-full relative z-10 mt-2",children:D.jsx("button",{onClick:()=>d(p),disabled:s[n]<p.cost,className:`w-full py-2 px-4 rounded-xl text-lg font-bold flex items-center justify-center gap-2 transition-all btn-lego
                        ${s[n]>=p.cost?"bg-lego-green text-white shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"}
                      `,children:l?.id===p.id?D.jsxs(D.Fragment,{children:[D.jsx(ZN,{size:24})," Purchased!"]}):D.jsxs(D.Fragment,{children:[D.jsx(vf,{size:24})," ",p.cost]})})})]},p.id))}),D.jsx(Dr,{children:l&&D.jsxs(Gt.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0},className:"absolute inset-0 bg-white/90 flex flex-col items-center justify-center z-50 pointer-events-none",children:[D.jsx("h3",{className:"text-5xl font-black text-lego-green mb-8",children:"You Bought It!"}),D.jsx("div",{className:`p-12 rounded-full bg-gray-100 mb-8 animate-bounce ${l.color}`,children:D.jsx(l.icon,{size:120})}),D.jsx("p",{className:"text-3xl font-bold",children:"Ask your parent for:"}),D.jsx("p",{className:"text-4xl text-lego-blue font-black mt-4",children:l.label})]})})]})})})}const SL="/assets/lego_character-ChGIxCnb.png",dx="/assets/cat_vehicle-BytHuCPG.png",t0="/assets/cat_building-Bx2FMfOr.png",AL="/assets/cat_animal-C0KJuQmV.png";var Rb;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(Rb||(Rb={}));var Ib;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(Ib||(Ib={}));var Db;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Db||(Db={}));const Mb=["user","model","function","system"];var Nb;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Nb||(Nb={}));var Ob;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Ob||(Ob={}));var Vb;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Vb||(Vb={}));var kb;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(kb||(kb={}));var Ou;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(Ou||(Ou={}));var Pb;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(Pb||(Pb={}));var Lb;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Lb||(Lb={}));var Ub;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Ub||(Ub={}));class gn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Io extends gn{constructor(t,e){super(t),this.response=e}}class mx extends gn{constructor(t,e,s,a){super(t),this.status=e,this.statusText=s,this.errorDetails=a}}class xr extends gn{}class px extends gn{}const wL="https://generativelanguage.googleapis.com",CL="v1beta",xL="0.24.1",RL="genai-js";var Na;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Na||(Na={}));class IL{constructor(t,e,s,a,l){this.model=t,this.task=e,this.apiKey=s,this.stream=a,this.requestOptions=l}toString(){var t,e;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||CL;let l=`${((e=this.requestOptions)===null||e===void 0?void 0:e.baseUrl)||wL}/${s}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function DL(n){const t=[];return n?.apiClient&&t.push(n.apiClient),t.push(`${RL}/${xL}`),t.join(" ")}async function ML(n){var t;const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",DL(n.requestOptions)),e.append("x-goog-api-key",n.apiKey);let s=(t=n.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(a){throw new xr(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${a.message}`)}for(const[a,l]of s.entries()){if(a==="x-goog-api-key")throw new xr(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new xr(`Header name ${a} can only be set using the apiClient field`);e.append(a,l)}}return e}async function NL(n,t,e,s,a,l){const c=new IL(n,t,e,s,l);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},PL(l)),{method:"POST",headers:await ML(c),body:a})}}async function fc(n,t,e,s,a,l={},c=fetch){const{url:d,fetchOptions:p}=await NL(n,t,e,s,a,l);return OL(d,p,c)}async function OL(n,t,e=fetch){let s;try{s=await e(n,t)}catch(a){VL(a,n)}return s.ok||await kL(s,n),s}function VL(n,t){let e=n;throw e.name==="AbortError"?(e=new px(`Request aborted when fetching ${t.toString()}: ${n.message}`),e.stack=n.stack):n instanceof mx||n instanceof xr||(e=new gn(`Error fetching from ${t.toString()}: ${n.message}`),e.stack=n.stack),e}async function kL(n,t){let e="",s;try{const a=await n.json();e=a.error.message,a.error.details&&(e+=` ${JSON.stringify(a.error.details)}`,s=a.error.details)}catch{}throw new mx(`Error fetching from ${t.toString()}: [${n.status} ${n.statusText}] ${e}`,n.status,n.statusText,s)}function PL(n){const t={};if(n?.signal!==void 0||n?.timeout>=0){const e=new AbortController;n?.timeout>=0&&setTimeout(()=>e.abort(),n.timeout),n?.signal&&n.signal.addEventListener("abort",()=>{e.abort()}),t.signal=e.signal}return t}function e0(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),cf(n.candidates[0]))throw new Io(`${gr(n)}`,n);return LL(n)}else if(n.promptFeedback)throw new Io(`Text not available. ${gr(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cf(n.candidates[0]))throw new Io(`${gr(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),jb(n)[0]}else if(n.promptFeedback)throw new Io(`Function call not available. ${gr(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cf(n.candidates[0]))throw new Io(`${gr(n)}`,n);return jb(n)}else if(n.promptFeedback)throw new Io(`Function call not available. ${gr(n)}`,n)},n}function LL(n){var t,e,s,a;const l=[];if(!((e=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const c of(a=(s=n.candidates)===null||s===void 0?void 0:s[0].content)===null||a===void 0?void 0:a.parts)c.text&&l.push(c.text),c.executableCode&&l.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&l.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function jb(n){var t,e,s,a;const l=[];if(!((e=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||e===void 0)&&e.parts)for(const c of(a=(s=n.candidates)===null||s===void 0?void 0:s[0].content)===null||a===void 0?void 0:a.parts)c.functionCall&&l.push(c.functionCall);if(l.length>0)return l}const UL=[Ou.RECITATION,Ou.SAFETY,Ou.LANGUAGE];function cf(n){return!!n.finishReason&&UL.includes(n.finishReason)}function gr(n){var t,e,s;let a="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)a+="Response was blocked",!((t=n.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${n.promptFeedback.blockReason}`),!((e=n.promptFeedback)===null||e===void 0)&&e.blockReasonMessage&&(a+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((s=n.candidates)===null||s===void 0)&&s[0]){const l=n.candidates[0];cf(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function Xu(n){return this instanceof Xu?(this.v=n,this):new Xu(n)}function jL(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=e.apply(n,t||[]),a,l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(S){s[S]&&(a[S]=function(R){return new Promise(function(L,G){l.push([S,R,L,G])>1||d(S,R)})})}function d(S,R){try{p(s[S](R))}catch(L){T(l[0][3],L)}}function p(S){S.value instanceof Xu?Promise.resolve(S.value.v).then(g,v):T(l[0][2],S)}function g(S){d("next",S)}function v(S){d("throw",S)}function T(S,R){S(R),l.shift(),l.length&&d(l[0][0],l[0][1])}}const Bb=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function BL(n){const t=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),e=HL(t),[s,a]=e.tee();return{stream:FL(s),response:zL(a)}}async function zL(n){const t=[],e=n.getReader();for(;;){const{done:s,value:a}=await e.read();if(s)return e0(qL(t));t.push(a)}}function FL(n){return jL(this,arguments,function*(){const e=n.getReader();for(;;){const{value:s,done:a}=yield Xu(e.read());if(a)break;yield yield Xu(e0(s))}})}function HL(n){const t=n.getReader();return new ReadableStream({start(s){let a="";return l();function l(){return t.read().then(({value:c,done:d})=>{if(d){if(a.trim()){s.error(new gn("Failed to parse stream"));return}s.close();return}a+=c;let p=a.match(Bb),g;for(;p;){try{g=JSON.parse(p[1])}catch{s.error(new gn(`Error parsing JSON response: "${p[1]}"`));return}s.enqueue(g),a=a.substring(p[0].length),p=a.match(Bb)}return l()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new px("Request aborted when reading from the stream"):d=new gn("Error reading from the stream"),d})}}})}function qL(n){const t=n[n.length-1],e={promptFeedback:t?.promptFeedback};for(const s of n){if(s.candidates){let a=0;for(const l of s.candidates)if(e.candidates||(e.candidates=[]),e.candidates[a]||(e.candidates[a]={index:a}),e.candidates[a].citationMetadata=l.citationMetadata,e.candidates[a].groundingMetadata=l.groundingMetadata,e.candidates[a].finishReason=l.finishReason,e.candidates[a].finishMessage=l.finishMessage,e.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){e.candidates[a].content||(e.candidates[a].content={role:l.content.role||"user",parts:[]});const c={};for(const d of l.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),e.candidates[a].content.parts.push(c)}a++}s.usageMetadata&&(e.usageMetadata=s.usageMetadata)}return e}async function gx(n,t,e,s){const a=await fc(t,Na.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(e),s);return BL(a)}async function yx(n,t,e,s){const l=await(await fc(t,Na.GENERATE_CONTENT,n,!1,JSON.stringify(e),s)).json();return{response:e0(l)}}function vx(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function $u(n){let t=[];if(typeof n=="string")t=[{text:n}];else for(const e of n)typeof e=="string"?t.push({text:e}):t.push(e);return GL(t)}function GL(n){const t={role:"user",parts:[]},e={role:"function",parts:[]};let s=!1,a=!1;for(const l of n)"functionResponse"in l?(e.parts.push(l),a=!0):(t.parts.push(l),s=!0);if(s&&a)throw new gn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!a)throw new gn("No content is provided for sending chat message.");return s?t:e}function KL(n,t){var e;let s={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(e=t?.cachedContent)===null||e===void 0?void 0:e.name,contents:[]};const a=n.generateContentRequest!=null;if(n.contents){if(a)throw new xr("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=n.contents}else if(a)s=Object.assign(Object.assign({},s),n.generateContentRequest);else{const l=$u(n);s.contents=[l]}return{generateContentRequest:s}}function zb(n){let t;return n.contents?t=n:t={contents:[$u(n)]},n.systemInstruction&&(t.systemInstruction=vx(n.systemInstruction)),t}function YL(n){return typeof n=="string"||Array.isArray(n)?{content:$u(n)}:n}const Fb=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],QL={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function XL(n){let t=!1;for(const e of n){const{role:s,parts:a}=e;if(!t&&s!=="user")throw new gn(`First content should be with role 'user', got ${s}`);if(!Mb.includes(s))throw new gn(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(Mb)}`);if(!Array.isArray(a))throw new gn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new gn("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of a)for(const p of Fb)p in d&&(l[p]+=1);const c=QL[s];for(const d of Fb)if(!c.includes(d)&&l[d]>0)throw new gn(`Content with role '${s}' can't contain '${d}' part`);t=!0}}function Hb(n){var t;if(n.candidates===void 0||n.candidates.length===0)return!1;const e=(t=n.candidates[0])===null||t===void 0?void 0:t.content;if(e===void 0||e.parts===void 0||e.parts.length===0)return!1;for(const s of e.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const qb="SILENT_ERROR";class $L{constructor(t,e,s,a={}){this.model=e,this.params=s,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s?.history&&(XL(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,e={}){var s,a,l,c,d,p;await this._sendPromise;const g=$u(t),v={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),e);let S;return this._sendPromise=this._sendPromise.then(()=>yx(this._apiKey,this.model,v,T)).then(R=>{var L;if(Hb(R.response)){this._history.push(g);const G=Object.assign({parts:[],role:"model"},(L=R.response.candidates)===null||L===void 0?void 0:L[0].content);this._history.push(G)}else{const G=gr(R.response);G&&console.warn(`sendMessage() was unsuccessful. ${G}. Inspect response object for details.`)}S=R}).catch(R=>{throw this._sendPromise=Promise.resolve(),R}),await this._sendPromise,S}async sendMessageStream(t,e={}){var s,a,l,c,d,p;await this._sendPromise;const g=$u(t),v={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),e),S=gx(this._apiKey,this.model,v,T);return this._sendPromise=this._sendPromise.then(()=>S).catch(R=>{throw new Error(qb)}).then(R=>R.response).then(R=>{if(Hb(R)){this._history.push(g);const L=Object.assign({},R.candidates[0].content);L.role||(L.role="model"),this._history.push(L)}else{const L=gr(R);L&&console.warn(`sendMessageStream() was unsuccessful. ${L}. Inspect response object for details.`)}}).catch(R=>{R.message!==qb&&console.error(R)}),S}}async function WL(n,t,e,s){return(await fc(t,Na.COUNT_TOKENS,n,!1,JSON.stringify(e),s)).json()}async function JL(n,t,e,s){return(await fc(t,Na.EMBED_CONTENT,n,!1,JSON.stringify(e),s)).json()}async function ZL(n,t,e,s){const a=e.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await fc(t,Na.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:a}),s)).json()}class Gb{constructor(t,e,s={}){this.apiKey=t,this._requestOptions=s,e.model.includes("/")?this.model=e.model:this.model=`models/${e.model}`,this.generationConfig=e.generationConfig||{},this.safetySettings=e.safetySettings||[],this.tools=e.tools,this.toolConfig=e.toolConfig,this.systemInstruction=vx(e.systemInstruction),this.cachedContent=e.cachedContent}async generateContent(t,e={}){var s;const a=zb(t),l=Object.assign(Object.assign({},this._requestOptions),e);return yx(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},a),l)}async generateContentStream(t,e={}){var s;const a=zb(t),l=Object.assign(Object.assign({},this._requestOptions),e);return gx(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},a),l)}startChat(t){var e;return new $L(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(e=this.cachedContent)===null||e===void 0?void 0:e.name},t),this._requestOptions)}async countTokens(t,e={}){const s=KL(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),e);return WL(this.apiKey,this.model,s,a)}async embedContent(t,e={}){const s=YL(t),a=Object.assign(Object.assign({},this._requestOptions),e);return JL(this.apiKey,this.model,s,a)}async batchEmbedContents(t,e={}){const s=Object.assign(Object.assign({},this._requestOptions),e);return ZL(this.apiKey,this.model,t,s)}}class t9{constructor(t){this.apiKey=t}getGenerativeModel(t,e){if(!t.model)throw new gn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Gb(this.apiKey,t,e)}getGenerativeModelFromCachedContent(t,e,s){if(!t.name)throw new xr("Cached content must contain a `name` field.");if(!t.model)throw new xr("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const c of a)if(e?.[c]&&t[c]&&e?.[c]!==t[c]){if(c==="model"){const d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model,p=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(d===p)continue}throw new xr(`Different value for "${c}" specified in modelParams (${e[c]}) and cachedContent (${t[c]})`)}const l=Object.assign(Object.assign({},e),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Gb(this.apiKey,l,s)}}const e9=new t9(void 0),n9=e9.getGenerativeModel({model:"gemini-1.5-flash"}),i9=`
You are BuildyBot, a super enthusiastic Lego building assistant for kids (ages 4-8).
Your goal is to be a fun, varied conversationalist.
- The user will send you an AUDIO recording.
- Respond SPECIFICALLY to whatever they mention (colors, shapes, size).
- NEVER repeat the same phrase twice in a row.
- Be very energetic!
- Keep it short: 1 sentence.
`,Kb=["That sounds absolutely amazing! Keep going!","Wow! I can't wait to see it!","You are the best builder ever!","Super cool! What color is it?","That is such a great idea!","I love your imagination!","Whoa, that sounds huge!","You are a Lego master!","Incredible work! Tell me more!","That sounds like a masterpiece!","Yippee! You are doing great!","Oh my goodness, that is awesome!","Keep building, you superstar!","I bet it looks fantastic!","That is so creative!","You are making me so happy!","Brilliant! Is it big or small?","That sounds super fast!","I wish I could build like you!","You are brilliant!"],s9=async(n,t,e)=>{try{const s=`
    Context: The kid is working on a challenge: "${e}".
    Listen to the kid's audio and respond enthusiastically.
    `,c=(await(await n9.generateContent([i9,s,{inlineData:{mimeType:t||"audio/mp4",data:n}}])).response).text();if(!c)throw new Error("Empty response");return c}catch(s){return console.warn("Gemini Error (Using Fallback):",s),Kb[Math.floor(Math.random()*Kb.length)]}},r9=n=>{const[t,e]=st.useState(!1),[s,a]=st.useState(!1),[l,c]=st.useState(!1),[d,p]=st.useState(""),g=st.useRef(null),v=st.useRef([]),T=window.speechSynthesis,S=async()=>{if(!(t||l||s)){p("Listening...");try{const B=await navigator.mediaDevices.getUserMedia({audio:!0});let Y="audio/webm";MediaRecorder.isTypeSupported("audio/mp4")?Y="audio/mp4":MediaRecorder.isTypeSupported("audio/aac")&&(Y="audio/aac");const tt=new MediaRecorder(B,{mimeType:Y});g.current=tt,v.current=[],tt.ondataavailable=$=>{$.data.size>0&&v.current.push($.data)},tt.onstop=async()=>{const $=new Blob(v.current,{type:Y});await L($,Y),B.getTracks().forEach(nt=>nt.stop())},tt.start(),e(!0),setTimeout(()=>{tt.state==="recording"&&R()},5e3)}catch(B){console.error("Mic Access Error:",B),p("Please allow Microphone access!"),e(!1)}}},R=()=>{g.current&&g.current.state==="recording"&&(g.current.stop(),e(!1))},L=async(B,Y)=>{c(!0),p("Thinking...");const tt=new FileReader;tt.readAsDataURL(B),tt.onloadend=async()=>{const $=tt.result.split(",")[1],nt=await s9($,Y,n);p(`"${nt}"`),c(!1),G(nt)}},G=B=>{if(!T)return;a(!0);const Y=new SpeechSynthesisUtterance(B),$=T.getVoices().find(nt=>nt.name.includes("Samantha")||nt.name.includes("Enhanced")||nt.lang==="en-US");$&&(Y.voice=$),Y.rate=1.1,Y.pitch=1.1,Y.onend=()=>a(!1),T.speak(Y)};return{isListening:t,isThinking:l,isSpeaking:s,transcript:d,startListening:S,stopListening:R}},a9="/assets/mic_icon-UAWxZypP.png",o9=dx,l9=t0,_x=t0,u9={vehicle:dx,building:t0,animal:AL,space:o9,fantasy:l9,generic:_x},Yb=[{icon:jA,color:"text-yellow-400",label:"Gold Star!"},{icon:fy,color:"text-yellow-600",label:"Champion Trophy!"},{icon:kA,color:"text-red-500",label:"Mystery Gift!"},{icon:cO,color:"text-pink-500",label:"Big Love!"}];function c9({ageGroup:n,onBack:t}){const{coins:e,completeChallenge:s}=od(),{playSound:a}=fx(),[l,c]=st.useState(null),[d,p]=st.useState(!1),[g,v]=st.useState(!1),[T,S]=st.useState(null),[R,L]=st.useState(!1),[G,B]=st.useState([]),{isListening:Y,isThinking:tt,isSpeaking:$,transcript:nt,startListening:ot}=r9(l?.text);st.useEffect(()=>{const N=()=>{const O=window.speechSynthesis.getVoices();O.length>0&&B(O)};N(),window.speechSynthesis.onvoiceschanged=N},[]),st.useEffect(()=>{ct()},[n]);const ct=()=>{a("whoosh");const N=TL[n],O=Math.floor(Math.random()*N.length);c(N[O])},x=()=>{if(a("pop"),"speechSynthesis"in window)if(d)window.speechSynthesis.cancel(),p(!1);else{const N=new SpeechSynthesisUtterance(l.text);let O=G.find(P=>P.lang==="en-US"&&(P.name.includes("Enhanced")||P.name.includes("Premium")));if(!O){const P=["Google US English","Samantha","Aaron","Ava","Zira"];for(const M of P)if(O=G.find(St=>St.name.includes(M)),O)break}O||(O=G.find(P=>P.lang==="en-US")),O&&(N.voice=O),N.rate=1,N.pitch=1,N.onend=()=>p(!1),N.onerror=()=>p(!1),p(!0),window.speechSynthesis.speak(N)}else alert("Sorry, your browser doesn't support text-to-speech!")},C=()=>{BA({particleCount:150,spread:70,origin:{y:.6}});const N=Yb[Math.floor(Math.random()*Yb.length)];S(N),S(N),s(n,l),a("success"),v(!0)},I=()=>{v(!1),ct()};return D.jsxs("div",{className:"min-h-screen flex flex-col p-4 relative",children:[D.jsx(bL,{ageGroup:n,isOpen:R,onClose:()=>L(!1)}),D.jsxs("div",{className:"flex justify-between items-center mb-8",children:[D.jsx("button",{onClick:()=>{a("click"),t()},className:"p-3 bg-lego-red text-white rounded-full hover:bg-red-700 transition-colors shadow-lg btn-plastic",children:D.jsx(LA,{size:32})}),D.jsx("div",{className:"text-2xl font-bold text-lego-black uppercase tracking-wider bg-white/50 px-6 py-2 rounded-full border border-white/50 backdrop-blur-sm",children:n==="parker"?"Parker":"Barrett"}),D.jsxs("div",{className:"flex items-center gap-2 bg-lego-yellow px-4 py-2 rounded-full shadow-md cursor-pointer hover:scale-105 transition-transform btn-plastic",onClick:()=>{a("pop"),L(!0)},children:[D.jsx(vf,{size:24,className:"text-yellow-700"}),D.jsx("span",{className:"text-xl font-bold",children:e[n]}),D.jsx(UA,{size:20,className:"ml-2 text-lego-black opacity-50"})]})]}),D.jsxs(Gt.main,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},className:"flex-1 flex flex-col items-center justify-center text-center max-w-4xl mx-auto w-full",children:[D.jsx(Dr,{mode:"wait",children:l&&D.jsxs(Gt.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,scale:.8,y:50},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",bounce:.4}}},exit:{opacity:0,scale:.9,rotateX:10},className:"mb-12 w-full glass-liquid p-8 relative overflow-hidden",children:[D.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-lego-black leading-tight mb-8 min-h-[120px] flex items-center justify-center drop-shadow-sm relative z-10",children:l.text}),D.jsx("div",{className:"flex flex-col items-center gap-6 mb-8",children:D.jsxs(Gt.div,{className:"relative",initial:{scale:.8},animate:{scale:1},transition:{type:"spring"},children:[D.jsx("div",{className:"w-64 h-64 bg-white/40 backdrop-blur-md rounded-full p-4 shadow-2xl border-4 border-white/50 flex items-center justify-center overflow-hidden relative z-10",children:D.jsx("img",{src:u9[l.category]||_x,alt:l.category,className:"w-full h-full object-contain filter drop-shadow-xl"})}),D.jsxs("div",{className:"absolute -top-4 -right-4 bg-lego-yellow text-lego-black font-black text-2xl w-24 h-24 rounded-full flex flex-col items-center justify-center shadow-[0_10px_20px_rgba(0,0,0,0.2)] border-4 border-white z-20 rotate-12 animate-bounce-slow",children:[D.jsxs("span",{children:["+",l.coins]}),D.jsx(vf,{size:24})]}),D.jsx(Gt.img,{src:SL,alt:"Helper",className:"absolute -bottom-10 -left-16 w-36 h-36 object-contain drop-shadow-2xl z-20 pointer-events-none",animate:{rotate:d?[0,10,-10,0]:0,y:d?[0,-5,0]:0}})]})})]},l.id)}),D.jsxs("div",{className:"flex flex-col items-center gap-4 mt-8 z-10 w-full",children:[(nt||tt)&&D.jsx(Gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur px-6 py-3 rounded-2xl shadow-lg max-w-lg border-2 border-lego-blue",children:D.jsx("p",{className:"text-xl text-lego-black font-semibold",children:tt?"Thinking...":`"${nt}"`})}),D.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-2xl justify-center",children:[D.jsxs(Gt.button,{variants:{hidden:{scale:0,opacity:0},visible:{scale:1,opacity:1}},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{a("click"),ot()},disabled:Y||tt||$,className:`
                                relative flex items-center justify-center w-24 h-24 rounded-full shadow-2xl border-4 border-white
                                ${Y?"bg-red-500 animate-pulse":"bg-lego-blue btn-lego-3d"}
                                ${tt?"bg-purple-500":""}
                            `,children:[$&&D.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-lego-blue animate-ping"}),D.jsx("img",{src:a9,alt:"Mic",className:`w-12 h-12 object-contain ${Y?"animate-bounce":""}`})]}),D.jsx("div",{className:"absolute -bottom-10 whitespace-nowrap bg-white/80 px-4 py-1 rounded-full text-sm font-bold text-gray-600",children:Y?"Listening...":tt?"Buildy is thinking...":$?"Buildy is talking!":"Talk to Buildy!"})]})]}),D.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-2xl justify-center mt-12 z-10 opacity-80 hover:opacity-100 transition-opacity",children:[D.jsxs(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"flex items-center justify-center gap-2 px-6 py-3 text-lg bg-white/50 rounded-xl hover:bg-white transition-colors",children:[D.jsx(jO,{size:24}),"Read Again"]}),D.jsxs(Gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{a("click"),ct()},className:"flex items-center justify-center gap-2 px-6 py-3 text-lg bg-white/50 rounded-xl hover:bg-white transition-colors",children:[D.jsx(wO,{size:24}),"Skip"]})]}),D.jsx("div",{className:"mt-12 z-10",children:D.jsxs(Gt.button,{variants:{hidden:{y:50,opacity:0},visible:{y:0,opacity:1}},whileHover:{scale:1.05,rotate:2},whileTap:{scale:.95},onClick:C,className:"px-14 py-8 text-4xl btn-lego-3d btn-lego-3d-green animate-pulse-glow flex items-center gap-4 w-full md:w-auto justify-center",children:[D.jsx(eO,{size:48}),"I DID IT!"]})})]}),D.jsx(Dr,{children:g&&D.jsx(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:I,children:D.jsxs(Gt.div,{initial:{scale:.5,y:100},animate:{scale:1,y:0},exit:{scale:.5,y:100},className:"bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl border-8 border-lego-yellow",onClick:N=>N.stopPropagation(),children:[D.jsx(Gt.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:.5},className:`inline-block mb-4 p-4 rounded-full bg-gray-100 ${T?.color}`,children:T&&D.jsx(T.icon,{size:80})}),D.jsx("h3",{className:"text-4xl font-bold text-lego-black mb-2",children:"Awesome!"}),D.jsxs("p",{className:"text-2xl text-gray-600 mb-8",children:["You found a ",T?.label]}),D.jsx("button",{onClick:I,className:"bg-lego-blue text-white w-full py-4 rounded-xl text-2xl font-bold hover:bg-blue-600 transition-colors",children:"Next Challenge!"})]})})})]})}const Qb=["https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=1920&q=80","https://images.unsplash.com/photo-1518946222227-364f22132616?w=1920&q=80","https://images.unsplash.com/photo-1585366119957-e9730b6d0f60?w=1920&q=80","https://images.unsplash.com/photo-1560964645-a53f25307a55?w=1920&q=80","https://images.unsplash.com/photo-1472457897821-70d3819a0e24?w=1920&q=80"],Xb=()=>{const n=[1.1,1.25],t=["0%","5%","-5%"],e=["0%","5%","-5%"];return{initial:{scale:1,opacity:0,x:"0%",y:"0%"},animate:{scale:n[Math.floor(Math.random()*n.length)],opacity:1,x:t[Math.floor(Math.random()*t.length)],y:e[Math.floor(Math.random()*e.length)],transition:{opacity:{duration:2.5},scale:{duration:20,ease:"linear"},x:{duration:20,ease:"linear"},y:{duration:20,ease:"linear"}}},exit:{opacity:0,transition:{duration:2.5}}}};function h9(){const[n,t]=st.useState(0),[e,s]=st.useState(Xb());return st.useEffect(()=>{const a=setInterval(()=>{t(l=>(l+1)%Qb.length),s(Xb())},12e3);return()=>clearInterval(a)},[]),D.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[D.jsx("div",{className:"absolute inset-0 bg-lego-black/40 z-10 mix-blend-multiply"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-lego-black/60 via-transparent to-lego-black/30 z-10"}),D.jsx("div",{className:"absolute inset-0 z-20 opacity-30 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] mix-blend-overlay"}),D.jsx(Dr,{mode:"popLayout",children:D.jsx(Gt.img,{src:Qb[n],alt:"Lego Background",variants:e,initial:"initial",animate:"animate",exit:"exit",style:{willChange:"transform, opacity"},className:"absolute inset-0 w-full h-full object-cover"},n)})]})}function f9(){const[n,t]=st.useState(null);return D.jsx(pL,{children:D.jsx(yL,{children:D.jsxs("div",{className:"min-h-screen font-sans overflow-hidden relative",children:[D.jsx(h9,{}),D.jsx("div",{className:"relative z-10 min-h-screen",children:n?D.jsx(c9,{ageGroup:n,onBack:()=>t(null)}):D.jsx(_L,{onSelectProfile:t})})]})})})}rR.createRoot(document.getElementById("root")).render(D.jsx(st.StrictMode,{children:D.jsx(f9,{})}));
